var Hm=t=>{throw TypeError(t)};var Fu=(t,e,r)=>e.has(t)||Hm("Cannot "+r);var E=(t,e,r)=>(Fu(t,e,"read from private field"),r?r.call(t):e.get(t)),ae=(t,e,r)=>e.has(t)?Hm("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ee=(t,e,r,n)=>(Fu(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),pe=(t,e,r)=>(Fu(t,e,"access private method"),r);var dl=(t,e,r,n)=>({set _(s){ee(t,e,s,r)},get _(){return E(t,e,n)}});function Yb(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var _0={exports:{}},Qc={},E0={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=Symbol.for("react.element"),Xb=Symbol.for("react.portal"),Zb=Symbol.for("react.fragment"),e1=Symbol.for("react.strict_mode"),t1=Symbol.for("react.profiler"),r1=Symbol.for("react.provider"),n1=Symbol.for("react.context"),s1=Symbol.for("react.forward_ref"),a1=Symbol.for("react.suspense"),i1=Symbol.for("react.memo"),o1=Symbol.for("react.lazy"),Vm=Symbol.iterator;function l1(t){return t===null||typeof t!="object"?null:(t=Vm&&t[Vm]||t["@@iterator"],typeof t=="function"?t:null)}var T0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P0=Object.assign,A0={};function Ii(t,e,r){this.props=t,this.context=e,this.refs=A0,this.updater=r||T0}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function R0(){}R0.prototype=Ii.prototype;function yf(t,e,r){this.props=t,this.context=e,this.refs=A0,this.updater=r||T0}var vf=yf.prototype=new R0;vf.constructor=yf;P0(vf,Ii.prototype);vf.isPureReactComponent=!0;var Gm=Array.isArray,I0=Object.prototype.hasOwnProperty,xf={current:null},D0={key:!0,ref:!0,__self:!0,__source:!0};function O0(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)I0.call(e,n)&&!D0.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ko,type:t,key:i,ref:o,props:s,_owner:xf.current}}function c1(t,e){return{$$typeof:Ko,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ko}function u1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var qm=/\/+/g;function $u(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u1(""+t.key):e.toString(36)}function Yl(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ko:case Xb:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+$u(o,0):n,Gm(s)?(r="",t!=null&&(r=t.replace(qm,"$&/")+"/"),Yl(s,e,r,"",function(u){return u})):s!=null&&(wf(s)&&(s=c1(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Gm(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+$u(i,l);o+=Yl(i,e,r,c,s)}else if(c=l1(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+$u(i,l++),o+=Yl(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hl(t,e,r){if(t==null)return t;var n=[],s=0;return Yl(t,n,"","",function(i){return e.call(r,i,s++)}),n}function d1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Jl={transition:null},h1={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Jl,ReactCurrentOwner:xf};function M0(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:hl,forEach:function(t,e,r){hl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return hl(t,function(){e++}),e},toArray:function(t){return hl(t,function(e){return e})||[]},only:function(t){if(!wf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Ii;ve.Fragment=Zb;ve.Profiler=t1;ve.PureComponent=yf;ve.StrictMode=e1;ve.Suspense=a1;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h1;ve.act=M0;ve.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=P0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)I0.call(e,c)&&!D0.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ko,type:t.type,key:s,ref:i,props:n,_owner:o}};ve.createContext=function(t){return t={$$typeof:n1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r1,_context:t},t.Consumer=t};ve.createElement=O0;ve.createFactory=function(t){var e=O0.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:s1,render:t}};ve.isValidElement=wf;ve.lazy=function(t){return{$$typeof:o1,_payload:{_status:-1,_result:t},_init:d1}};ve.memo=function(t,e){return{$$typeof:i1,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Jl.transition;Jl.transition={};try{t()}finally{Jl.transition=e}};ve.unstable_act=M0;ve.useCallback=function(t,e){return Mt.current.useCallback(t,e)};ve.useContext=function(t){return Mt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Mt.current.useEffect(t,e)};ve.useId=function(){return Mt.current.useId()};ve.useImperativeHandle=function(t,e,r){return Mt.current.useImperativeHandle(t,e,r)};ve.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Mt.current.useMemo(t,e)};ve.useReducer=function(t,e,r){return Mt.current.useReducer(t,e,r)};ve.useRef=function(t){return Mt.current.useRef(t)};ve.useState=function(t){return Mt.current.useState(t)};ve.useSyncExternalStore=function(t,e,r){return Mt.current.useSyncExternalStore(t,e,r)};ve.useTransition=function(){return Mt.current.useTransition()};ve.version="18.3.1";E0.exports=ve;var m=E0.exports;const N=C0(m),bf=Yb({__proto__:null,default:N},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1=m,m1=Symbol.for("react.element"),p1=Symbol.for("react.fragment"),g1=Object.prototype.hasOwnProperty,y1=f1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v1={key:!0,ref:!0,__self:!0,__source:!0};function L0(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)g1.call(e,n)&&!v1.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:m1,type:t,key:i,ref:o,props:s,_owner:y1.current}}Qc.Fragment=p1;Qc.jsx=L0;Qc.jsxs=L0;_0.exports=Qc;var a=_0.exports,F0={exports:{}},or={},$0={exports:{}},z0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,U){var B=O.length;O.push(U);e:for(;0<B;){var W=B-1>>>1,R=O[W];if(0<s(R,U))O[W]=U,O[B]=R,B=W;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var U=O[0],B=O.pop();if(B!==U){O[0]=B;e:for(var W=0,R=O.length,z=R>>>1;W<z;){var Y=2*(W+1)-1,q=O[Y],fe=Y+1,ke=O[fe];if(0>s(q,B))fe<R&&0>s(ke,q)?(O[W]=ke,O[fe]=B,W=fe):(O[W]=q,O[Y]=B,W=Y);else if(fe<R&&0>s(ke,B))O[W]=ke,O[fe]=B,W=fe;else break e}}return U}function s(O,U){var B=O.sortIndex-U.sortIndex;return B!==0?B:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=O)n(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=r(u)}}function k(O){if(v=!1,x(O),!w)if(r(c)!==null)w=!0,F(j);else{var U=r(u);U!==null&&P(k,U.startTime-O)}}function j(O,U){w=!1,v&&(v=!1,y(C),C=-1),p=!0;var B=f;try{for(x(U),d=r(c);d!==null&&(!(d.expirationTime>U)||O&&!G());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var R=W(d.expirationTime<=U);U=t.unstable_now(),typeof R=="function"?d.callback=R:d===r(c)&&n(c),x(U)}else n(c);d=r(c)}if(d!==null)var z=!0;else{var Y=r(u);Y!==null&&P(k,Y.startTime-U),z=!1}return z}finally{d=null,f=B,p=!1}}var _=!1,A=null,C=-1,I=5,M=-1;function G(){return!(t.unstable_now()-M<I)}function T(){if(A!==null){var O=t.unstable_now();M=O;var U=!0;try{U=A(!0,O)}finally{U?K():(_=!1,A=null)}}else _=!1}var K;if(typeof g=="function")K=function(){g(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,$=D.port2;D.port1.onmessage=T,K=function(){$.postMessage(null)}}else K=function(){b(T,0)};function F(O){A=O,_||(_=!0,K())}function P(O,U){C=b(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,F(j))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var B=f;f=U;try{return O()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=f;f=O;try{return U()}finally{f=B}},t.unstable_scheduleCallback=function(O,U,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,O){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=B+R,O={id:h++,callback:U,priorityLevel:O,startTime:B,expirationTime:R,sortIndex:-1},B>W?(O.sortIndex=B,e(u,O),r(c)===null&&O===r(u)&&(v?(y(C),C=-1):v=!0,P(k,B-W))):(O.sortIndex=R,e(c,O),w||p||(w=!0,F(j))),O},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(O){var U=f;return function(){var B=f;f=U;try{return O.apply(this,arguments)}finally{f=B}}}})(z0);$0.exports=z0;var x1=$0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1=m,ir=x1;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U0=new Set,ko={};function ha(t,e){wi(t,e),wi(t+"Capture",e)}function wi(t,e){for(ko[t]=e,t=0;t<e.length;t++)U0.add(e[t])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vd=Object.prototype.hasOwnProperty,b1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Km={},Qm={};function k1(t){return Vd.call(Qm,t)?!0:Vd.call(Km,t)?!1:b1.test(t)?Qm[t]=!0:(Km[t]=!0,!1)}function j1(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S1(t,e,r,n){if(e===null||typeof e>"u"||j1(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var kf=/[\-:]([a-z])/g;function jf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kf,jf);wt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kf,jf);wt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kf,jf);wt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sf(t,e,r,n){var s=wt.hasOwnProperty(e)?wt[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S1(e,r,s,n)&&(r=null),n||s===null?k1(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var In=w1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fl=Symbol.for("react.element"),za=Symbol.for("react.portal"),Ua=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),Gd=Symbol.for("react.profiler"),B0=Symbol.for("react.provider"),W0=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Kd=Symbol.for("react.suspense_list"),_f=Symbol.for("react.memo"),Wn=Symbol.for("react.lazy"),H0=Symbol.for("react.offscreen"),Ym=Symbol.iterator;function Hi(t){return t===null||typeof t!="object"?null:(t=Ym&&t[Ym]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,zu;function to(t){if(zu===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);zu=e&&e[1]||""}return`
`+zu+t}var Uu=!1;function Bu(t,e){if(!t||Uu)return"";Uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Uu=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?to(t):""}function N1(t){switch(t.tag){case 5:return to(t.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return t=Bu(t.type,!1),t;case 11:return t=Bu(t.type.render,!1),t;case 1:return t=Bu(t.type,!0),t;default:return""}}function Qd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ua:return"Fragment";case za:return"Portal";case Gd:return"Profiler";case Nf:return"StrictMode";case qd:return"Suspense";case Kd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W0:return(t.displayName||"Context")+".Consumer";case B0:return(t._context.displayName||"Context")+".Provider";case Cf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _f:return e=t.displayName||null,e!==null?e:Qd(t.type)||"Memo";case Wn:e=t._payload,t=t._init;try{return Qd(t(e))}catch{}}return null}function C1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qd(e);case 8:return e===Nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ys(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _1(t){var e=V0(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ml(t){t._valueTracker||(t._valueTracker=_1(t))}function G0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V0(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function pc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yd(t,e){var r=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Jm(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ys(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function q0(t,e){e=e.checked,e!=null&&Sf(t,"checked",e,!1)}function Jd(t,e){q0(t,e);var r=ys(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xd(t,e.type,r):e.hasOwnProperty("defaultValue")&&Xd(t,e.type,ys(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xm(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Xd(t,e,r){(e!=="number"||pc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ro=Array.isArray;function Za(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ys(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Zd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(H(92));if(ro(r)){if(1<r.length)throw Error(H(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ys(r)}}function K0(t,e){var r=ys(e.value),n=ys(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ep(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Q0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Q0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pl,Y0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pl=pl||document.createElement("div"),pl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E1=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(t){E1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lo[e]=lo[t]})});function J0(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||lo.hasOwnProperty(t)&&lo[t]?(""+e).trim():e+"px"}function X0(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=J0(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var T1=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function th(t,e){if(e){if(T1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function rh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nh=null;function Ef(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sh=null,ei=null,ti=null;function tp(t){if(t=Jo(t)){if(typeof sh!="function")throw Error(H(280));var e=t.stateNode;e&&(e=eu(e),sh(t.stateNode,t.type,e))}}function Z0(t){ei?ti?ti.push(t):ti=[t]:ei=t}function ey(){if(ei){var t=ei,e=ti;if(ti=ei=null,tp(t),e)for(t=0;t<e.length;t++)tp(e[t])}}function ty(t,e){return t(e)}function ry(){}var Wu=!1;function ny(t,e,r){if(Wu)return t(e,r);Wu=!0;try{return ty(t,e,r)}finally{Wu=!1,(ei!==null||ti!==null)&&(ry(),ey())}}function So(t,e){var r=t.stateNode;if(r===null)return null;var n=eu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(H(231,e,typeof r));return r}var ah=!1;if(Tn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){ah=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{ah=!1}function P1(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var co=!1,gc=null,yc=!1,ih=null,A1={onError:function(t){co=!0,gc=t}};function R1(t,e,r,n,s,i,o,l,c){co=!1,gc=null,P1.apply(A1,arguments)}function I1(t,e,r,n,s,i,o,l,c){if(R1.apply(this,arguments),co){if(co){var u=gc;co=!1,gc=null}else throw Error(H(198));yc||(yc=!0,ih=u)}}function fa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rp(t){if(fa(t)!==t)throw Error(H(188))}function D1(t){var e=t.alternate;if(!e){if(e=fa(t),e===null)throw Error(H(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return rp(s),t;if(i===n)return rp(s),e;i=i.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?t:e}function ay(t){return t=D1(t),t!==null?iy(t):null}function iy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iy(t);if(e!==null)return e;t=t.sibling}return null}var oy=ir.unstable_scheduleCallback,np=ir.unstable_cancelCallback,O1=ir.unstable_shouldYield,M1=ir.unstable_requestPaint,et=ir.unstable_now,L1=ir.unstable_getCurrentPriorityLevel,Tf=ir.unstable_ImmediatePriority,ly=ir.unstable_UserBlockingPriority,vc=ir.unstable_NormalPriority,F1=ir.unstable_LowPriority,cy=ir.unstable_IdlePriority,Yc=null,rn=null;function $1(t){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Yc,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:B1,z1=Math.log,U1=Math.LN2;function B1(t){return t>>>=0,t===0?32:31-(z1(t)/U1|0)|0}var gl=64,yl=4194304;function no(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=no(l):(i&=o,i!==0&&(n=no(i)))}else o=r&~s,o!==0?n=no(o):i!==0&&(n=no(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Fr(e),s=1<<r,n|=t[r],e&=~s;return n}function W1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Fr(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=W1(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uy(){var t=gl;return gl<<=1,!(gl&4194240)&&(gl=64),t}function Hu(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Qo(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=r}function V1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Fr(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Pf(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Fr(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Te=0;function dy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hy,Af,fy,my,py,lh=!1,vl=[],ls=null,cs=null,us=null,No=new Map,Co=new Map,Vn=[],G1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sp(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(e.pointerId)}}function Gi(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Jo(e),e!==null&&Af(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function q1(t,e,r,n,s){switch(e){case"focusin":return ls=Gi(ls,t,e,r,n,s),!0;case"dragenter":return cs=Gi(cs,t,e,r,n,s),!0;case"mouseover":return us=Gi(us,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return No.set(i,Gi(No.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Co.set(i,Gi(Co.get(i)||null,t,e,r,n,s)),!0}return!1}function gy(t){var e=Ms(t.target);if(e!==null){var r=fa(e);if(r!==null){if(e=r.tag,e===13){if(e=sy(r),e!==null){t.blockedOn=e,py(t.priority,function(){fy(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ch(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);nh=n,r.target.dispatchEvent(n),nh=null}else return e=Jo(r),e!==null&&Af(e),t.blockedOn=r,!1;e.shift()}return!0}function ap(t,e,r){Xl(t)&&r.delete(e)}function K1(){lh=!1,ls!==null&&Xl(ls)&&(ls=null),cs!==null&&Xl(cs)&&(cs=null),us!==null&&Xl(us)&&(us=null),No.forEach(ap),Co.forEach(ap)}function qi(t,e){t.blockedOn===e&&(t.blockedOn=null,lh||(lh=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,K1)))}function _o(t){function e(s){return qi(s,t)}if(0<vl.length){qi(vl[0],t);for(var r=1;r<vl.length;r++){var n=vl[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ls!==null&&qi(ls,t),cs!==null&&qi(cs,t),us!==null&&qi(us,t),No.forEach(e),Co.forEach(e),r=0;r<Vn.length;r++)n=Vn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vn.length&&(r=Vn[0],r.blockedOn===null);)gy(r),r.blockedOn===null&&Vn.shift()}var ri=In.ReactCurrentBatchConfig,wc=!0;function Q1(t,e,r,n){var s=Te,i=ri.transition;ri.transition=null;try{Te=1,Rf(t,e,r,n)}finally{Te=s,ri.transition=i}}function Y1(t,e,r,n){var s=Te,i=ri.transition;ri.transition=null;try{Te=4,Rf(t,e,r,n)}finally{Te=s,ri.transition=i}}function Rf(t,e,r,n){if(wc){var s=ch(t,e,r,n);if(s===null)ed(t,e,n,bc,r),sp(t,n);else if(q1(s,t,e,r,n))n.stopPropagation();else if(sp(t,n),e&4&&-1<G1.indexOf(t)){for(;s!==null;){var i=Jo(s);if(i!==null&&hy(i),i=ch(t,e,r,n),i===null&&ed(t,e,n,bc,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ed(t,e,n,null,r)}}var bc=null;function ch(t,e,r,n){if(bc=null,t=Ef(n),t=Ms(t),t!==null)if(e=fa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sy(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bc=t,null}function yy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L1()){case Tf:return 1;case ly:return 4;case vc:case F1:return 16;case cy:return 536870912;default:return 16}default:return 16}}var ss=null,If=null,Zl=null;function vy(){if(Zl)return Zl;var t,e=If,r=e.length,n,s="value"in ss?ss.value:ss.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Zl=s.slice(t,1<n?1-n:void 0)}function ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function ip(){return!1}function lr(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xl:ip,this.isPropagationStopped=ip,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),e}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Df=lr(Di),Yo=Ge({},Di,{view:0,detail:0}),J1=lr(Yo),Vu,Gu,Ki,Jc=Ge({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ki&&(Ki&&t.type==="mousemove"?(Vu=t.screenX-Ki.screenX,Gu=t.screenY-Ki.screenY):Gu=Vu=0,Ki=t),Vu)},movementY:function(t){return"movementY"in t?t.movementY:Gu}}),op=lr(Jc),X1=Ge({},Jc,{dataTransfer:0}),Z1=lr(X1),e2=Ge({},Yo,{relatedTarget:0}),qu=lr(e2),t2=Ge({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),r2=lr(t2),n2=Ge({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),s2=lr(n2),a2=Ge({},Di,{data:0}),lp=lr(a2),i2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l2[t])?!!e[t]:!1}function Of(){return c2}var u2=Ge({},Yo,{key:function(t){if(t.key){var e=i2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(t){return t.type==="keypress"?ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d2=lr(u2),h2=Ge({},Jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=lr(h2),f2=Ge({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),m2=lr(f2),p2=Ge({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),g2=lr(p2),y2=Ge({},Jc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),v2=lr(y2),x2=[9,13,27,32],Mf=Tn&&"CompositionEvent"in window,uo=null;Tn&&"documentMode"in document&&(uo=document.documentMode);var w2=Tn&&"TextEvent"in window&&!uo,xy=Tn&&(!Mf||uo&&8<uo&&11>=uo),up=" ",dp=!1;function wy(t,e){switch(t){case"keyup":return x2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function by(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ba=!1;function b2(t,e){switch(t){case"compositionend":return by(e);case"keypress":return e.which!==32?null:(dp=!0,up);case"textInput":return t=e.data,t===up&&dp?null:t;default:return null}}function k2(t,e){if(Ba)return t==="compositionend"||!Mf&&wy(t,e)?(t=vy(),Zl=If=ss=null,Ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xy&&e.locale!=="ko"?null:e.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j2[t.type]:e==="textarea"}function ky(t,e,r,n){Z0(n),e=kc(e,"onChange"),0<e.length&&(r=new Df("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ho=null,Eo=null;function S2(t){Iy(t,0)}function Xc(t){var e=Va(t);if(G0(e))return t}function N2(t,e){if(t==="change")return e}var jy=!1;if(Tn){var Ku;if(Tn){var Qu="oninput"in document;if(!Qu){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Qu=typeof fp.oninput=="function"}Ku=Qu}else Ku=!1;jy=Ku&&(!document.documentMode||9<document.documentMode)}function mp(){ho&&(ho.detachEvent("onpropertychange",Sy),Eo=ho=null)}function Sy(t){if(t.propertyName==="value"&&Xc(Eo)){var e=[];ky(e,Eo,t,Ef(t)),ny(S2,e)}}function C2(t,e,r){t==="focusin"?(mp(),ho=e,Eo=r,ho.attachEvent("onpropertychange",Sy)):t==="focusout"&&mp()}function _2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(Eo)}function E2(t,e){if(t==="click")return Xc(e)}function T2(t,e){if(t==="input"||t==="change")return Xc(e)}function P2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zr=typeof Object.is=="function"?Object.is:P2;function To(t,e){if(zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vd.call(e,s)||!zr(t[s],e[s]))return!1}return!0}function pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gp(t,e){var r=pp(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pp(r)}}function Ny(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ny(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cy(){for(var t=window,e=pc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=pc(t.document)}return e}function Lf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function A2(t){var e=Cy(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ny(r.ownerDocument.documentElement,r)){if(n!==null&&Lf(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=gp(r,i);var o=gp(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var R2=Tn&&"documentMode"in document&&11>=document.documentMode,Wa=null,uh=null,fo=null,dh=!1;function yp(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dh||Wa==null||Wa!==pc(n)||(n=Wa,"selectionStart"in n&&Lf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fo&&To(fo,n)||(fo=n,n=kc(uh,"onSelect"),0<n.length&&(e=new Df("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wa)))}function wl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ha={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Yu={},_y={};Tn&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Zc(t){if(Yu[t])return Yu[t];if(!Ha[t])return t;var e=Ha[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in _y)return Yu[t]=e[r];return t}var Ey=Zc("animationend"),Ty=Zc("animationiteration"),Py=Zc("animationstart"),Ay=Zc("transitionend"),Ry=new Map,vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(t,e){Ry.set(t,e),ha(e,[t])}for(var Ju=0;Ju<vp.length;Ju++){var Xu=vp[Ju],I2=Xu.toLowerCase(),D2=Xu[0].toUpperCase()+Xu.slice(1);bs(I2,"on"+D2)}bs(Ey,"onAnimationEnd");bs(Ty,"onAnimationIteration");bs(Py,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(Ay,"onTransitionEnd");wi("onMouseEnter",["mouseout","mouseover"]);wi("onMouseLeave",["mouseout","mouseover"]);wi("onPointerEnter",["pointerout","pointerover"]);wi("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O2=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function xp(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,I1(n,e,void 0,t),t.currentTarget=null}function Iy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;xp(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;xp(s,l,u),i=c}}}if(yc)throw t=ih,yc=!1,ih=null,t}function Me(t,e){var r=e[gh];r===void 0&&(r=e[gh]=new Set);var n=t+"__bubble";r.has(n)||(Dy(e,t,2,!1),r.add(n))}function Zu(t,e,r){var n=0;e&&(n|=4),Dy(r,t,n,e)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[bl]){t[bl]=!0,U0.forEach(function(r){r!=="selectionchange"&&(O2.has(r)||Zu(r,!1,t),Zu(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bl]||(e[bl]=!0,Zu("selectionchange",!1,e))}}function Dy(t,e,r,n){switch(yy(e)){case 1:var s=Q1;break;case 4:s=Y1;break;default:s=Rf}r=s.bind(null,e,r,t),s=void 0,!ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ed(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ms(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}ny(function(){var u=i,h=Ef(r),d=[];e:{var f=Ry.get(t);if(f!==void 0){var p=Df,w=t;switch(t){case"keypress":if(ec(r)===0)break e;case"keydown":case"keyup":p=d2;break;case"focusin":w="focus",p=qu;break;case"focusout":w="blur",p=qu;break;case"beforeblur":case"afterblur":p=qu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=m2;break;case Ey:case Ty:case Py:p=r2;break;case Ay:p=g2;break;case"scroll":p=J1;break;case"wheel":p=v2;break;case"copy":case"cut":case"paste":p=s2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cp}var v=(e&4)!==0,b=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var g=u,x;g!==null;){x=g;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,y!==null&&(k=So(g,y),k!=null&&v.push(Ao(g,k,x)))),b)break;g=g.return}0<v.length&&(f=new p(f,w,null,r,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==nh&&(w=r.relatedTarget||r.fromElement)&&(Ms(w)||w[Pn]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=r.relatedTarget||r.toElement,p=u,w=w?Ms(w):null,w!==null&&(b=fa(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(v=op,k="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=cp,k="onPointerLeave",y="onPointerEnter",g="pointer"),b=p==null?f:Va(p),x=w==null?f:Va(w),f=new v(k,g+"leave",p,r,h),f.target=b,f.relatedTarget=x,k=null,Ms(h)===u&&(v=new v(y,g+"enter",w,r,h),v.target=x,v.relatedTarget=b,k=v),b=k,p&&w)t:{for(v=p,y=w,g=0,x=v;x;x=Ca(x))g++;for(x=0,k=y;k;k=Ca(k))x++;for(;0<g-x;)v=Ca(v),g--;for(;0<x-g;)y=Ca(y),x--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ca(v),y=Ca(y)}v=null}else v=null;p!==null&&wp(d,f,p,v,!1),w!==null&&b!==null&&wp(d,b,w,v,!0)}}e:{if(f=u?Va(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=N2;else if(hp(f))if(jy)j=T2;else{j=_2;var _=C2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=E2);if(j&&(j=j(t,u))){ky(d,j,r,h);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Xd(f,"number",f.value)}switch(_=u?Va(u):window,t){case"focusin":(hp(_)||_.contentEditable==="true")&&(Wa=_,uh=u,fo=null);break;case"focusout":fo=uh=Wa=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,yp(d,r,h);break;case"selectionchange":if(R2)break;case"keydown":case"keyup":yp(d,r,h)}var A;if(Mf)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ba?wy(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(xy&&r.locale!=="ko"&&(Ba||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ba&&(A=vy()):(ss=h,If="value"in ss?ss.value:ss.textContent,Ba=!0)),_=kc(u,C),0<_.length&&(C=new lp(C,t,null,r,h),d.push({event:C,listeners:_}),A?C.data=A:(A=by(r),A!==null&&(C.data=A)))),(A=w2?b2(t,r):k2(t,r))&&(u=kc(u,"onBeforeInput"),0<u.length&&(h=new lp("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=A))}Iy(d,e)})}function Ao(t,e,r){return{instance:t,listener:e,currentTarget:r}}function kc(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=So(t,r),i!=null&&n.unshift(Ao(t,i,s)),i=So(t,e),i!=null&&n.push(Ao(t,i,s))),t=t.return}return n}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wp(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=So(r,i),c!=null&&o.unshift(Ao(r,c,l))):s||(c=So(r,i),c!=null&&o.push(Ao(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var M2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function bp(t){return(typeof t=="string"?t:""+t).replace(M2,`
`).replace(L2,"")}function kl(t,e,r){if(e=bp(e),bp(t)!==e&&r)throw Error(H(425))}function jc(){}var hh=null,fh=null;function mh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,F2=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,$2=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(t){return kp.resolve(null).then(t).catch(z2)}:ph;function z2(t){setTimeout(function(){throw t})}function td(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),_o(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);_o(e)}function ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Oi=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Oi,Ro="__reactProps$"+Oi,Pn="__reactContainer$"+Oi,gh="__reactEvents$"+Oi,U2="__reactListeners$"+Oi,B2="__reactHandles$"+Oi;function Ms(t){var e=t[Zr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Pn]||r[Zr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jp(t);t!==null;){if(r=t[Zr])return r;t=jp(t)}return e}t=r,r=t.parentNode}return null}function Jo(t){return t=t[Zr]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function eu(t){return t[Ro]||null}var yh=[],Ga=-1;function ks(t){return{current:t}}function Fe(t){0>Ga||(t.current=yh[Ga],yh[Ga]=null,Ga--)}function Ie(t,e){Ga++,yh[Ga]=t.current,t.current=e}var vs={},Ct=ks(vs),qt=ks(!1),ta=vs;function bi(t,e){var r=t.type.contextTypes;if(!r)return vs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Kt(t){return t=t.childContextTypes,t!=null}function Sc(){Fe(qt),Fe(Ct)}function Sp(t,e,r){if(Ct.current!==vs)throw Error(H(168));Ie(Ct,e),Ie(qt,r)}function Oy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(H(108,C1(t)||"Unknown",s));return Ge({},r,n)}function Nc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,ta=Ct.current,Ie(Ct,t),Ie(qt,qt.current),!0}function Np(t,e,r){var n=t.stateNode;if(!n)throw Error(H(169));r?(t=Oy(t,e,ta),n.__reactInternalMemoizedMergedChildContext=t,Fe(qt),Fe(Ct),Ie(Ct,t)):Fe(qt),Ie(qt,r)}var vn=null,tu=!1,rd=!1;function My(t){vn===null?vn=[t]:vn.push(t)}function W2(t){tu=!0,My(t)}function js(){if(!rd&&vn!==null){rd=!0;var t=0,e=Te;try{var r=vn;for(Te=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vn=null,tu=!1}catch(s){throw vn!==null&&(vn=vn.slice(t+1)),oy(Tf,js),s}finally{Te=e,rd=!1}}return null}var qa=[],Ka=0,Cc=null,_c=0,mr=[],pr=0,ra=null,bn=1,kn="";function Rs(t,e){qa[Ka++]=_c,qa[Ka++]=Cc,Cc=t,_c=e}function Ly(t,e,r){mr[pr++]=bn,mr[pr++]=kn,mr[pr++]=ra,ra=t;var n=bn;t=kn;var s=32-Fr(n)-1;n&=~(1<<s),r+=1;var i=32-Fr(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,bn=1<<32-Fr(e)+s|r<<s|n,kn=i+t}else bn=1<<i|r<<s|n,kn=t}function Ff(t){t.return!==null&&(Rs(t,1),Ly(t,1,0))}function $f(t){for(;t===Cc;)Cc=qa[--Ka],qa[Ka]=null,_c=qa[--Ka],qa[Ka]=null;for(;t===ra;)ra=mr[--pr],mr[pr]=null,kn=mr[--pr],mr[pr]=null,bn=mr[--pr],mr[pr]=null}var ar=null,sr=null,Be=!1,Lr=null;function Fy(t,e){var r=gr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Cp(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ar=t,sr=ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ar=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ra!==null?{id:bn,overflow:kn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=gr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ar=t,sr=null,!0):!1;default:return!1}}function vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xh(t){if(Be){var e=sr;if(e){var r=e;if(!Cp(t,e)){if(vh(t))throw Error(H(418));e=ds(r.nextSibling);var n=ar;e&&Cp(t,e)?Fy(n,r):(t.flags=t.flags&-4097|2,Be=!1,ar=t)}}else{if(vh(t))throw Error(H(418));t.flags=t.flags&-4097|2,Be=!1,ar=t}}}function _p(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ar=t}function jl(t){if(t!==ar)return!1;if(!Be)return _p(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mh(t.type,t.memoizedProps)),e&&(e=sr)){if(vh(t))throw $y(),Error(H(418));for(;e;)Fy(t,e),e=ds(e.nextSibling)}if(_p(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){sr=ds(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=ar?ds(t.stateNode.nextSibling):null;return!0}function $y(){for(var t=sr;t;)t=ds(t.nextSibling)}function ki(){sr=ar=null,Be=!1}function zf(t){Lr===null?Lr=[t]:Lr.push(t)}var H2=In.ReactCurrentBatchConfig;function Qi(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,t))}return t}function Sl(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ep(t){var e=t._init;return e(t._payload)}function zy(t){function e(y,g){if(t){var x=y.deletions;x===null?(y.deletions=[g],y.flags|=16):x.push(g)}}function r(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=ps(y,g),y.index=0,y.sibling=null,y}function i(y,g,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<g?(y.flags|=2,g):x):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,g,x,k){return g===null||g.tag!==6?(g=cd(x,y.mode,k),g.return=y,g):(g=s(g,x),g.return=y,g)}function c(y,g,x,k){var j=x.type;return j===Ua?h(y,g,x.props.children,k,x.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wn&&Ep(j)===g.type)?(k=s(g,x.props),k.ref=Qi(y,g,x),k.return=y,k):(k=oc(x.type,x.key,x.props,null,y.mode,k),k.ref=Qi(y,g,x),k.return=y,k)}function u(y,g,x,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=ud(x,y.mode,k),g.return=y,g):(g=s(g,x.children||[]),g.return=y,g)}function h(y,g,x,k,j){return g===null||g.tag!==7?(g=Xs(x,y.mode,k,j),g.return=y,g):(g=s(g,x),g.return=y,g)}function d(y,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=cd(""+g,y.mode,x),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fl:return x=oc(g.type,g.key,g.props,null,y.mode,x),x.ref=Qi(y,null,g),x.return=y,x;case za:return g=ud(g,y.mode,x),g.return=y,g;case Wn:var k=g._init;return d(y,k(g._payload),x)}if(ro(g)||Hi(g))return g=Xs(g,y.mode,x,null),g.return=y,g;Sl(y,g)}return null}function f(y,g,x,k){var j=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(y,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fl:return x.key===j?c(y,g,x,k):null;case za:return x.key===j?u(y,g,x,k):null;case Wn:return j=x._init,f(y,g,j(x._payload),k)}if(ro(x)||Hi(x))return j!==null?null:h(y,g,x,k,null);Sl(y,x)}return null}function p(y,g,x,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(x)||null,l(g,y,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case fl:return y=y.get(k.key===null?x:k.key)||null,c(g,y,k,j);case za:return y=y.get(k.key===null?x:k.key)||null,u(g,y,k,j);case Wn:var _=k._init;return p(y,g,x,_(k._payload),j)}if(ro(k)||Hi(k))return y=y.get(x)||null,h(g,y,k,j,null);Sl(g,k)}return null}function w(y,g,x,k){for(var j=null,_=null,A=g,C=g=0,I=null;A!==null&&C<x.length;C++){A.index>C?(I=A,A=null):I=A.sibling;var M=f(y,A,x[C],k);if(M===null){A===null&&(A=I);break}t&&A&&M.alternate===null&&e(y,A),g=i(M,g,C),_===null?j=M:_.sibling=M,_=M,A=I}if(C===x.length)return r(y,A),Be&&Rs(y,C),j;if(A===null){for(;C<x.length;C++)A=d(y,x[C],k),A!==null&&(g=i(A,g,C),_===null?j=A:_.sibling=A,_=A);return Be&&Rs(y,C),j}for(A=n(y,A);C<x.length;C++)I=p(A,y,C,x[C],k),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?C:I.key),g=i(I,g,C),_===null?j=I:_.sibling=I,_=I);return t&&A.forEach(function(G){return e(y,G)}),Be&&Rs(y,C),j}function v(y,g,x,k){var j=Hi(x);if(typeof j!="function")throw Error(H(150));if(x=j.call(x),x==null)throw Error(H(151));for(var _=j=null,A=g,C=g=0,I=null,M=x.next();A!==null&&!M.done;C++,M=x.next()){A.index>C?(I=A,A=null):I=A.sibling;var G=f(y,A,M.value,k);if(G===null){A===null&&(A=I);break}t&&A&&G.alternate===null&&e(y,A),g=i(G,g,C),_===null?j=G:_.sibling=G,_=G,A=I}if(M.done)return r(y,A),Be&&Rs(y,C),j;if(A===null){for(;!M.done;C++,M=x.next())M=d(y,M.value,k),M!==null&&(g=i(M,g,C),_===null?j=M:_.sibling=M,_=M);return Be&&Rs(y,C),j}for(A=n(y,A);!M.done;C++,M=x.next())M=p(A,y,C,M.value,k),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?C:M.key),g=i(M,g,C),_===null?j=M:_.sibling=M,_=M);return t&&A.forEach(function(T){return e(y,T)}),Be&&Rs(y,C),j}function b(y,g,x,k){if(typeof x=="object"&&x!==null&&x.type===Ua&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case fl:e:{for(var j=x.key,_=g;_!==null;){if(_.key===j){if(j=x.type,j===Ua){if(_.tag===7){r(y,_.sibling),g=s(_,x.props.children),g.return=y,y=g;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wn&&Ep(j)===_.type){r(y,_.sibling),g=s(_,x.props),g.ref=Qi(y,_,x),g.return=y,y=g;break e}r(y,_);break}else e(y,_);_=_.sibling}x.type===Ua?(g=Xs(x.props.children,y.mode,k,x.key),g.return=y,y=g):(k=oc(x.type,x.key,x.props,null,y.mode,k),k.ref=Qi(y,g,x),k.return=y,y=k)}return o(y);case za:e:{for(_=x.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(y,g.sibling),g=s(g,x.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else e(y,g);g=g.sibling}g=ud(x,y.mode,k),g.return=y,y=g}return o(y);case Wn:return _=x._init,b(y,g,_(x._payload),k)}if(ro(x))return w(y,g,x,k);if(Hi(x))return v(y,g,x,k);Sl(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(y,g.sibling),g=s(g,x),g.return=y,y=g):(r(y,g),g=cd(x,y.mode,k),g.return=y,y=g),o(y)):r(y,g)}return b}var ji=zy(!0),Uy=zy(!1),Ec=ks(null),Tc=null,Qa=null,Uf=null;function Bf(){Uf=Qa=Tc=null}function Wf(t){var e=Ec.current;Fe(Ec),t._currentValue=e}function wh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ni(t,e){Tc=t,Uf=Qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(Uf!==t)if(t={context:t,memoizedValue:e,next:null},Qa===null){if(Tc===null)throw Error(H(308));Qa=t,Tc.dependencies={lanes:0,firstContext:t}}else Qa=Qa.next=t;return e}var Ls=null;function Hf(t){Ls===null?Ls=[t]:Ls.push(t)}function By(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Hf(e)):(r.next=s.next,s.next=r),e.interleaved=r,An(t,n)}function An(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hn=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,An(t,r)}return s=n.interleaved,s===null?(e.next=e,Hf(n)):(e.next=s.next,s.next=e),n.interleaved=e,An(t,r)}function tc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Pf(t,r)}}function Tp(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Pc(t,e,r,n){var s=t.updateQueue;Hn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,h=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,v=l;switch(f=e,p=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(p,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(p,d,f):w,f==null)break e;d=Ge({},d,f);break e;case 2:Hn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=p,c=d):h=h.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);sa|=o,t.lanes=o,t.memoizedState=d}}function Pp(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var Xo={},nn=ks(Xo),Io=ks(Xo),Do=ks(Xo);function Fs(t){if(t===Xo)throw Error(H(174));return t}function Gf(t,e){switch(Ie(Do,e),Ie(Io,t),Ie(nn,Xo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eh(e,t)}Fe(nn),Ie(nn,e)}function Si(){Fe(nn),Fe(Io),Fe(Do)}function Hy(t){Fs(Do.current);var e=Fs(nn.current),r=eh(e,t.type);e!==r&&(Ie(Io,t),Ie(nn,r))}function qf(t){Io.current===t&&(Fe(nn),Fe(Io))}var He=ks(0);function Ac(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nd=[];function Kf(){for(var t=0;t<nd.length;t++)nd[t]._workInProgressVersionPrimary=null;nd.length=0}var rc=In.ReactCurrentDispatcher,sd=In.ReactCurrentBatchConfig,na=0,Ve=null,ct=null,pt=null,Rc=!1,mo=!1,Oo=0,V2=0;function kt(){throw Error(H(321))}function Qf(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!zr(t[r],e[r]))return!1;return!0}function Yf(t,e,r,n,s,i){if(na=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rc.current=t===null||t.memoizedState===null?Q2:Y2,t=r(n,s),mo){i=0;do{if(mo=!1,Oo=0,25<=i)throw Error(H(301));i+=1,pt=ct=null,e.updateQueue=null,rc.current=J2,t=r(n,s)}while(mo)}if(rc.current=Ic,e=ct!==null&&ct.next!==null,na=0,pt=ct=Ve=null,Rc=!1,e)throw Error(H(300));return t}function Jf(){var t=Oo!==0;return Oo=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Ve.memoizedState=pt=t:pt=pt.next=t,pt}function kr(){if(ct===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=pt===null?Ve.memoizedState:pt.next;if(e!==null)pt=e,ct=t;else{if(t===null)throw Error(H(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?Ve.memoizedState=pt=t:pt=pt.next=t}return pt}function Mo(t,e){return typeof e=="function"?e(t):e}function ad(t){var e=kr(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=ct,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((na&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,Ve.lanes|=h,sa|=h}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,zr(n,e.memoizedState)||(Gt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,sa|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function id(t){var e=kr(),r=e.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);zr(i,e.memoizedState)||(Gt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Vy(){}function Gy(t,e){var r=Ve,n=kr(),s=e(),i=!zr(n.memoizedState,s);if(i&&(n.memoizedState=s,Gt=!0),n=n.queue,Xf(Qy.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,Lo(9,Ky.bind(null,r,n,s,e),void 0,null),yt===null)throw Error(H(349));na&30||qy(r,e,s)}return s}function qy(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ky(t,e,r,n){e.value=r,e.getSnapshot=n,Yy(e)&&Jy(t)}function Qy(t,e,r){return r(function(){Yy(e)&&Jy(t)})}function Yy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!zr(t,r)}catch{return!0}}function Jy(t){var e=An(t,1);e!==null&&$r(e,t,1,-1)}function Ap(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:t},e.queue=t,t=t.dispatch=K2.bind(null,Ve,t),[e.memoizedState,t]}function Lo(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Xy(){return kr().memoizedState}function nc(t,e,r,n){var s=qr();Ve.flags|=t,s.memoizedState=Lo(1|e,r,void 0,n===void 0?null:n)}function ru(t,e,r,n){var s=kr();n=n===void 0?null:n;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,n!==null&&Qf(n,o.deps)){s.memoizedState=Lo(e,r,i,n);return}}Ve.flags|=t,s.memoizedState=Lo(1|e,r,i,n)}function Rp(t,e){return nc(8390656,8,t,e)}function Xf(t,e){return ru(2048,8,t,e)}function Zy(t,e){return ru(4,2,t,e)}function ev(t,e){return ru(4,4,t,e)}function tv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rv(t,e,r){return r=r!=null?r.concat([t]):null,ru(4,4,tv.bind(null,e,t),r)}function Zf(){}function nv(t,e){var r=kr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qf(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function sv(t,e){var r=kr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Qf(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function av(t,e,r){return na&21?(zr(r,e)||(r=uy(),Ve.lanes|=r,sa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=r)}function G2(t,e){var r=Te;Te=r!==0&&4>r?r:4,t(!0);var n=sd.transition;sd.transition={};try{t(!1),e()}finally{Te=r,sd.transition=n}}function iv(){return kr().memoizedState}function q2(t,e,r){var n=ms(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ov(t))lv(e,r);else if(r=By(t,e,r,n),r!==null){var s=Ot();$r(r,t,n,s),cv(r,e,n)}}function K2(t,e,r){var n=ms(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ov(t))lv(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,zr(l,o)){var c=e.interleaved;c===null?(s.next=s,Hf(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=By(t,e,s,n),r!==null&&(s=Ot(),$r(r,t,n,s),cv(r,e,n))}}function ov(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function lv(t,e){mo=Rc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function cv(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Pf(t,r)}}var Ic={readContext:br,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Q2={readContext:br,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:Rp,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,nc(4194308,4,tv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return nc(4194308,4,t,e)},useInsertionEffect:function(t,e){return nc(4,2,t,e)},useMemo:function(t,e){var r=qr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=qr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=q2.bind(null,Ve,t),[n.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:Ap,useDebugValue:Zf,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=Ap(!1),e=t[0];return t=G2.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ve,s=qr();if(Be){if(r===void 0)throw Error(H(407));r=r()}else{if(r=e(),yt===null)throw Error(H(349));na&30||qy(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Rp(Qy.bind(null,n,i,t),[t]),n.flags|=2048,Lo(9,Ky.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=qr(),e=yt.identifierPrefix;if(Be){var r=kn,n=bn;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Oo++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=V2++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y2={readContext:br,useCallback:nv,useContext:br,useEffect:Xf,useImperativeHandle:rv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:sv,useReducer:ad,useRef:Xy,useState:function(){return ad(Mo)},useDebugValue:Zf,useDeferredValue:function(t){var e=kr();return av(e,ct.memoizedState,t)},useTransition:function(){var t=ad(Mo)[0],e=kr().memoizedState;return[t,e]},useMutableSource:Vy,useSyncExternalStore:Gy,useId:iv,unstable_isNewReconciler:!1},J2={readContext:br,useCallback:nv,useContext:br,useEffect:Xf,useImperativeHandle:rv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:sv,useReducer:id,useRef:Xy,useState:function(){return id(Mo)},useDebugValue:Zf,useDeferredValue:function(t){var e=kr();return ct===null?e.memoizedState=t:av(e,ct.memoizedState,t)},useTransition:function(){var t=id(Mo)[0],e=kr().memoizedState;return[t,e]},useMutableSource:Vy,useSyncExternalStore:Gy,useId:iv,unstable_isNewReconciler:!1};function Rr(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function bh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ge({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nu={isMounted:function(t){return(t=t._reactInternals)?fa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ot(),s=ms(t),i=Nn(n,s);i.payload=e,r!=null&&(i.callback=r),e=hs(t,i,s),e!==null&&($r(e,t,s,n),tc(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ot(),s=ms(t),i=Nn(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=hs(t,i,s),e!==null&&($r(e,t,s,n),tc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ot(),n=ms(t),s=Nn(r,n);s.tag=2,e!=null&&(s.callback=e),e=hs(t,s,n),e!==null&&($r(e,t,n,r),tc(e,t,n))}};function Ip(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!To(r,n)||!To(s,i):!0}function uv(t,e,r){var n=!1,s=vs,i=e.contextType;return typeof i=="object"&&i!==null?i=br(i):(s=Kt(e)?ta:Ct.current,n=e.contextTypes,i=(n=n!=null)?bi(t,s):vs),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Dp(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nu.enqueueReplaceState(e,e.state,null)}function kh(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Vf(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=br(i):(i=Kt(e)?ta:Ct.current,s.context=bi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(bh(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&nu.enqueueReplaceState(s,s.state,null),Pc(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ni(t,e){try{var r="",n=e;do r+=N1(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function od(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function jh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var X2=typeof WeakMap=="function"?WeakMap:Map;function dv(t,e,r){r=Nn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Oc||(Oc=!0,Ih=n),jh(t,e)},r}function hv(t,e,r){r=Nn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){jh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jh(t,e),typeof n!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Op(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new X2;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=hk.bind(null,t,e,r),e.then(t,t))}function Mp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lp(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Nn(-1,1),e.tag=2,hs(r,e,1))),r.lanes|=1),t)}var Z2=In.ReactCurrentOwner,Gt=!1;function It(t,e,r,n){e.child=t===null?Uy(e,null,r,n):ji(e,t.child,r,n)}function Fp(t,e,r,n,s){r=r.render;var i=e.ref;return ni(e,s),n=Yf(t,e,r,n,i,s),r=Jf(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rn(t,e,s)):(Be&&r&&Ff(e),e.flags|=1,It(t,e,n,s),e.child)}function $p(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!om(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,fv(t,e,i,n,s)):(t=oc(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:To,r(o,n)&&t.ref===e.ref)return Rn(t,e,s)}return e.flags|=1,t=ps(i,n),t.ref=e.ref,t.return=e,e.child=t}function fv(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(To(i,n)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Rn(t,e,s)}return Sh(t,e,r,n,s)}function mv(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ja,rr),rr|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Ja,rr),rr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ie(Ja,rr),rr|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Ie(Ja,rr),rr|=n;return It(t,e,s,r),e.child}function pv(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Sh(t,e,r,n,s){var i=Kt(r)?ta:Ct.current;return i=bi(e,i),ni(e,s),r=Yf(t,e,r,n,i,s),n=Jf(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rn(t,e,s)):(Be&&n&&Ff(e),e.flags|=1,It(t,e,r,s),e.child)}function zp(t,e,r,n,s){if(Kt(r)){var i=!0;Nc(e)}else i=!1;if(ni(e,s),e.stateNode===null)sc(t,e),uv(e,r,n),kh(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=br(u):(u=Kt(r)?ta:Ct.current,u=bi(e,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Dp(e,o,n,u),Hn=!1;var f=e.memoizedState;o.state=f,Pc(e,n,o,s),c=e.memoizedState,l!==n||f!==c||qt.current||Hn?(typeof h=="function"&&(bh(e,r,h,n),c=e.memoizedState),(l=Hn||Ip(e,r,l,n,f,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Wy(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Rr(e.type,l),o.props=u,d=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=br(c):(c=Kt(r)?ta:Ct.current,c=bi(e,c));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==c)&&Dp(e,o,n,c),Hn=!1,f=e.memoizedState,o.state=f,Pc(e,n,o,s);var w=e.memoizedState;l!==d||f!==w||qt.current||Hn?(typeof p=="function"&&(bh(e,r,p,n),w=e.memoizedState),(u=Hn||Ip(e,r,u,n,f,w,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Nh(t,e,r,n,i,s)}function Nh(t,e,r,n,s,i){pv(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Np(e,r,!1),Rn(t,e,i);n=e.stateNode,Z2.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ji(e,t.child,null,i),e.child=ji(e,null,l,i)):It(t,e,l,i),e.memoizedState=n.state,s&&Np(e,r,!0),e.child}function gv(t){var e=t.stateNode;e.pendingContext?Sp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sp(t,e.context,!1),Gf(t,e.containerInfo)}function Up(t,e,r,n,s){return ki(),zf(s),e.flags|=256,It(t,e,r,n),e.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function _h(t){return{baseLanes:t,cachePool:null,transitions:null}}function yv(t,e,r){var n=e.pendingProps,s=He.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(He,s&1),t===null)return xh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=iu(o,n,0,null),t=Xs(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=_h(r),e.memoizedState=Ch,t):em(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return ek(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ps(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ps(l,i):(i=Xs(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?_h(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ch,n}return i=t.child,t=i.sibling,n=ps(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function em(t,e){return e=iu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nl(t,e,r,n){return n!==null&&zf(n),ji(e,t.child,null,r),t=em(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ek(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=od(Error(H(422))),Nl(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=iu({mode:"visible",children:n.children},s,0,null),i=Xs(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&ji(e,t.child,null,o),e.child.memoizedState=_h(o),e.memoizedState=Ch,i);if(!(e.mode&1))return Nl(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(H(419)),n=od(i,n,void 0),Nl(t,e,o,n)}if(l=(o&t.childLanes)!==0,Gt||l){if(n=yt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,An(t,s),$r(n,t,s,-1))}return im(),n=od(Error(H(421))),Nl(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,sr=ds(s.nextSibling),ar=e,Be=!0,Lr=null,t!==null&&(mr[pr++]=bn,mr[pr++]=kn,mr[pr++]=ra,bn=t.id,kn=t.overflow,ra=e),e=em(e,n.children),e.flags|=4096,e)}function Bp(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),wh(t.return,e,r)}function ld(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function vv(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(It(t,e,n.children,r),n=He.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bp(t,r,e);else if(t.tag===19)Bp(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ie(He,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ac(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ld(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ac(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ld(e,!0,r,null,i);break;case"together":ld(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),sa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,r=ps(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ps(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tk(t,e,r){switch(e.tag){case 3:gv(e),ki();break;case 5:Hy(e);break;case 1:Kt(e.type)&&Nc(e);break;case 4:Gf(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Ie(Ec,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ie(He,He.current&1),e.flags|=128,null):r&e.child.childLanes?yv(t,e,r):(Ie(He,He.current&1),t=Rn(t,e,r),t!==null?t.sibling:null);Ie(He,He.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return vv(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(He,He.current),n)break;return null;case 22:case 23:return e.lanes=0,mv(t,e,r)}return Rn(t,e,r)}var xv,Eh,wv,bv;xv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Eh=function(){};wv=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Fs(nn.current);var i=null;switch(r){case"input":s=Yd(t,s),n=Yd(t,n),i=[];break;case"select":s=Ge({},s,{value:void 0}),n=Ge({},n,{value:void 0}),i=[];break;case"textarea":s=Zd(t,s),n=Zd(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=jc)}th(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ko.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ko.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};bv=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yi(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rk(t,e,r){var n=e.pendingProps;switch($f(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return Kt(e.type)&&Sc(),jt(e),null;case 3:return n=e.stateNode,Si(),Fe(qt),Fe(Ct),Kf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(jl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(Mh(Lr),Lr=null))),Eh(t,e),jt(e),null;case 5:qf(e);var s=Fs(Do.current);if(r=e.type,t!==null&&e.stateNode!=null)wv(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(H(166));return jt(e),null}if(t=Fs(nn.current),jl(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Zr]=e,n[Ro]=i,t=(e.mode&1)!==0,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(s=0;s<so.length;s++)Me(so[s],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":Jm(n,i),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Me("invalid",n);break;case"textarea":Zm(n,i),Me("invalid",n)}th(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&kl(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kl(n.textContent,l,t),s=["children",""+l]):ko.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Me("scroll",n)}switch(r){case"input":ml(n),Xm(n,i,!0);break;case"textarea":ml(n),ep(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=jc)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Q0(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Zr]=e,t[Ro]=n,xv(t,e,!1,!1),e.stateNode=t;e:{switch(o=rh(r,n),r){case"dialog":Me("cancel",t),Me("close",t),s=n;break;case"iframe":case"object":case"embed":Me("load",t),s=n;break;case"video":case"audio":for(s=0;s<so.length;s++)Me(so[s],t);s=n;break;case"source":Me("error",t),s=n;break;case"img":case"image":case"link":Me("error",t),Me("load",t),s=n;break;case"details":Me("toggle",t),s=n;break;case"input":Jm(t,n),s=Yd(t,n),Me("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Ge({},n,{value:void 0}),Me("invalid",t);break;case"textarea":Zm(t,n),s=Zd(t,n),Me("invalid",t);break;default:s=n}th(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?X0(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Y0(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jo(t,c):typeof c=="number"&&jo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ko.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Me("scroll",t):c!=null&&Sf(t,i,c,o))}switch(r){case"input":ml(t),Xm(t,n,!1);break;case"textarea":ml(t),ep(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ys(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Za(t,!!n.multiple,i,!1):n.defaultValue!=null&&Za(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)bv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(H(166));if(r=Fs(Do.current),Fs(nn.current),jl(e)){if(n=e.stateNode,r=e.memoizedProps,n[Zr]=e,(i=n.nodeValue!==r)&&(t=ar,t!==null))switch(t.tag){case 3:kl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kl(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=e,e.stateNode=n}return jt(e),null;case 13:if(Fe(He),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&sr!==null&&e.mode&1&&!(e.flags&128))$y(),ki(),e.flags|=98560,i=!1;else if(i=jl(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Zr]=e}else ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else Lr!==null&&(Mh(Lr),Lr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?ht===0&&(ht=3):im())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Si(),Eh(t,e),t===null&&Po(e.stateNode.containerInfo),jt(e),null;case 10:return Wf(e.type._context),jt(e),null;case 17:return Kt(e.type)&&Sc(),jt(e),null;case 19:if(Fe(He),i=e.memoizedState,i===null)return jt(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Yi(i,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ac(t),o!==null){for(e.flags|=128,Yi(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ie(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&et()>Ci&&(e.flags|=128,n=!0,Yi(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ac(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return jt(e),null}else 2*et()-i.renderingStartTime>Ci&&r!==1073741824&&(e.flags|=128,n=!0,Yi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=et(),e.sibling=null,r=He.current,Ie(He,n?r&1|2:r&1),e):(jt(e),null);case 22:case 23:return am(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?rr&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function nk(t,e){switch($f(e),e.tag){case 1:return Kt(e.type)&&Sc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Si(),Fe(qt),Fe(Ct),Kf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qf(e),null;case 13:if(Fe(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(He),null;case 4:return Si(),null;case 10:return Wf(e.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var Cl=!1,Nt=!1,sk=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ya(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ye(t,e,n)}else r.current=null}function Th(t,e,r){try{r()}catch(n){Ye(t,e,n)}}var Wp=!1;function ak(t,e){if(hh=wc,t=Cy(),Lf(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===r&&++u===s&&(l=o),f===i&&++h===n&&(c=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fh={focusedElem:t,selectionRange:r},wc=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Rr(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){Ye(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return w=Wp,Wp=!1,w}function po(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Th(e,r,i)}s=s.next}while(s!==n)}}function su(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ph(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function kv(t){var e=t.alternate;e!==null&&(t.alternate=null,kv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zr],delete e[Ro],delete e[gh],delete e[U2],delete e[B2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jv(t){return t.tag===5||t.tag===3||t.tag===4}function Hp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ah(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=jc));else if(n!==4&&(t=t.child,t!==null))for(Ah(t,e,r),t=t.sibling;t!==null;)Ah(t,e,r),t=t.sibling}function Rh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rh(t,e,r),t=t.sibling;t!==null;)Rh(t,e,r),t=t.sibling}var vt=null,Or=!1;function Mn(t,e,r){for(r=r.child;r!==null;)Sv(t,e,r),r=r.sibling}function Sv(t,e,r){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Yc,r)}catch{}switch(r.tag){case 5:Nt||Ya(r,e);case 6:var n=vt,s=Or;vt=null,Mn(t,e,r),vt=n,Or=s,vt!==null&&(Or?(t=vt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(Or?(t=vt,r=r.stateNode,t.nodeType===8?td(t.parentNode,r):t.nodeType===1&&td(t,r),_o(t)):td(vt,r.stateNode));break;case 4:n=vt,s=Or,vt=r.stateNode.containerInfo,Or=!0,Mn(t,e,r),vt=n,Or=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Th(r,e,o),s=s.next}while(s!==n)}Mn(t,e,r);break;case 1:if(!Nt&&(Ya(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ye(r,e,l)}Mn(t,e,r);break;case 21:Mn(t,e,r);break;case 22:r.mode&1?(Nt=(n=Nt)||r.memoizedState!==null,Mn(t,e,r),Nt=n):Mn(t,e,r);break;default:Mn(t,e,r)}}function Vp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new sk),e.forEach(function(n){var s=mk.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Pr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Or=!1;break e;case 3:vt=l.stateNode.containerInfo,Or=!0;break e;case 4:vt=l.stateNode.containerInfo,Or=!0;break e}l=l.return}if(vt===null)throw Error(H(160));Sv(i,o,s),vt=null,Or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ye(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nv(e,t),e=e.sibling}function Nv(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pr(e,t),Wr(t),n&4){try{po(3,t,t.return),su(3,t)}catch(v){Ye(t,t.return,v)}try{po(5,t,t.return)}catch(v){Ye(t,t.return,v)}}break;case 1:Pr(e,t),Wr(t),n&512&&r!==null&&Ya(r,r.return);break;case 5:if(Pr(e,t),Wr(t),n&512&&r!==null&&Ya(r,r.return),t.flags&32){var s=t.stateNode;try{jo(s,"")}catch(v){Ye(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&q0(s,i),rh(l,o);var u=rh(l,i);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?X0(s,d):h==="dangerouslySetInnerHTML"?Y0(s,d):h==="children"?jo(s,d):Sf(s,h,d,u)}switch(l){case"input":Jd(s,i);break;case"textarea":K0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Za(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Za(s,!!i.multiple,i.defaultValue,!0):Za(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ro]=i}catch(v){Ye(t,t.return,v)}}break;case 6:if(Pr(e,t),Wr(t),n&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ye(t,t.return,v)}}break;case 3:if(Pr(e,t),Wr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(v){Ye(t,t.return,v)}break;case 4:Pr(e,t),Wr(t);break;case 13:Pr(e,t),Wr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nm=et())),n&4&&Vp(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(Nt=(u=Nt)||h,Pr(e,t),Nt=u):Pr(e,t),Wr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(d=te=h;te!==null;){switch(f=te,p=f.child,f.tag){case 0:case 11:case 14:case 15:po(4,f,f.return);break;case 1:Ya(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){Ye(n,r,v)}}break;case 5:Ya(f,f.return);break;case 22:if(f.memoizedState!==null){qp(d);continue}}p!==null?(p.return=f,te=p):qp(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=J0("display",o))}catch(v){Ye(t,t.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ye(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Pr(e,t),Wr(t),n&4&&Vp(t);break;case 21:break;default:Pr(e,t),Wr(t)}}function Wr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(jv(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(jo(s,""),n.flags&=-33);var i=Hp(t);Rh(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Hp(t);Ah(t,l,o);break;default:throw Error(H(161))}}catch(c){Ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ik(t,e,r){te=t,Cv(t)}function Cv(t,e,r){for(var n=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Cl;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Nt;l=Cl;var u=Nt;if(Cl=o,(Nt=c)&&!u)for(te=s;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?Kp(s):c!==null?(c.return=o,te=c):Kp(s);for(;i!==null;)te=i,Cv(i),i=i.sibling;te=s,Cl=l,Nt=u}Gp(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):Gp(t)}}function Gp(t){for(;te!==null;){var e=te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nt||su(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Nt)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Rr(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Pp(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Pp(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&_o(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Nt||e.flags&512&&Ph(e)}catch(f){Ye(e,e.return,f)}}if(e===t){te=null;break}if(r=e.sibling,r!==null){r.return=e.return,te=r;break}te=e.return}}function qp(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,te=r;break}te=e.return}}function Kp(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{su(4,e)}catch(c){Ye(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Ye(e,s,c)}}var i=e.return;try{Ph(e)}catch(c){Ye(e,i,c)}break;case 5:var o=e.return;try{Ph(e)}catch(c){Ye(e,o,c)}}}catch(c){Ye(e,e.return,c)}if(e===t){te=null;break}var l=e.sibling;if(l!==null){l.return=e.return,te=l;break}te=e.return}}var ok=Math.ceil,Dc=In.ReactCurrentDispatcher,tm=In.ReactCurrentOwner,xr=In.ReactCurrentBatchConfig,be=0,yt=null,rt=null,xt=0,rr=0,Ja=ks(0),ht=0,Fo=null,sa=0,au=0,rm=0,go=null,Wt=null,nm=0,Ci=1/0,gn=null,Oc=!1,Ih=null,fs=null,_l=!1,as=null,Mc=0,yo=0,Dh=null,ac=-1,ic=0;function Ot(){return be&6?et():ac!==-1?ac:ac=et()}function ms(t){return t.mode&1?be&2&&xt!==0?xt&-xt:H2.transition!==null?(ic===0&&(ic=uy()),ic):(t=Te,t!==0||(t=window.event,t=t===void 0?16:yy(t.type)),t):1}function $r(t,e,r,n){if(50<yo)throw yo=0,Dh=null,Error(H(185));Qo(t,r,n),(!(be&2)||t!==yt)&&(t===yt&&(!(be&2)&&(au|=r),ht===4&&Gn(t,xt)),Qt(t,n),r===1&&be===0&&!(e.mode&1)&&(Ci=et()+500,tu&&js()))}function Qt(t,e){var r=t.callbackNode;H1(t,e);var n=xc(t,t===yt?xt:0);if(n===0)r!==null&&np(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&np(r),e===1)t.tag===0?W2(Qp.bind(null,t)):My(Qp.bind(null,t)),$2(function(){!(be&6)&&js()}),r=null;else{switch(dy(n)){case 1:r=Tf;break;case 4:r=ly;break;case 16:r=vc;break;case 536870912:r=cy;break;default:r=vc}r=Dv(r,_v.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function _v(t,e){if(ac=-1,ic=0,be&6)throw Error(H(327));var r=t.callbackNode;if(si()&&t.callbackNode!==r)return null;var n=xc(t,t===yt?xt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Lc(t,n);else{e=n;var s=be;be|=2;var i=Tv();(yt!==t||xt!==e)&&(gn=null,Ci=et()+500,Js(t,e));do try{uk();break}catch(l){Ev(t,l)}while(!0);Bf(),Dc.current=i,be=s,rt!==null?e=0:(yt=null,xt=0,e=ht)}if(e!==0){if(e===2&&(s=oh(t),s!==0&&(n=s,e=Oh(t,s))),e===1)throw r=Fo,Js(t,0),Gn(t,n),Qt(t,et()),r;if(e===6)Gn(t,n);else{if(s=t.current.alternate,!(n&30)&&!lk(s)&&(e=Lc(t,n),e===2&&(i=oh(t),i!==0&&(n=i,e=Oh(t,i))),e===1))throw r=Fo,Js(t,0),Gn(t,n),Qt(t,et()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(H(345));case 2:Is(t,Wt,gn);break;case 3:if(Gn(t,n),(n&130023424)===n&&(e=nm+500-et(),10<e)){if(xc(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ph(Is.bind(null,t,Wt,gn),e);break}Is(t,Wt,gn);break;case 4:if(Gn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Fr(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ok(n/1960))-n,10<n){t.timeoutHandle=ph(Is.bind(null,t,Wt,gn),n);break}Is(t,Wt,gn);break;case 5:Is(t,Wt,gn);break;default:throw Error(H(329))}}}return Qt(t,et()),t.callbackNode===r?_v.bind(null,t):null}function Oh(t,e){var r=go;return t.current.memoizedState.isDehydrated&&(Js(t,e).flags|=256),t=Lc(t,e),t!==2&&(e=Wt,Wt=r,e!==null&&Mh(e)),t}function Mh(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function lk(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!zr(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gn(t,e){for(e&=~rm,e&=~au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Fr(e),n=1<<r;t[r]=-1,e&=~n}}function Qp(t){if(be&6)throw Error(H(327));si();var e=xc(t,0);if(!(e&1))return Qt(t,et()),null;var r=Lc(t,e);if(t.tag!==0&&r===2){var n=oh(t);n!==0&&(e=n,r=Oh(t,n))}if(r===1)throw r=Fo,Js(t,0),Gn(t,e),Qt(t,et()),r;if(r===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Is(t,Wt,gn),Qt(t,et()),null}function sm(t,e){var r=be;be|=1;try{return t(e)}finally{be=r,be===0&&(Ci=et()+500,tu&&js())}}function aa(t){as!==null&&as.tag===0&&!(be&6)&&si();var e=be;be|=1;var r=xr.transition,n=Te;try{if(xr.transition=null,Te=1,t)return t()}finally{Te=n,xr.transition=r,be=e,!(be&6)&&js()}}function am(){rr=Ja.current,Fe(Ja)}function Js(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,F2(r)),rt!==null)for(r=rt.return;r!==null;){var n=r;switch($f(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sc();break;case 3:Si(),Fe(qt),Fe(Ct),Kf();break;case 5:qf(n);break;case 4:Si();break;case 13:Fe(He);break;case 19:Fe(He);break;case 10:Wf(n.type._context);break;case 22:case 23:am()}r=r.return}if(yt=t,rt=t=ps(t.current,null),xt=rr=e,ht=0,Fo=null,rm=au=sa=0,Wt=go=null,Ls!==null){for(e=0;e<Ls.length;e++)if(r=Ls[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ls=null}return t}function Ev(t,e){do{var r=rt;try{if(Bf(),rc.current=Ic,Rc){for(var n=Ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Rc=!1}if(na=0,pt=ct=Ve=null,mo=!1,Oo=0,tm.current=null,r===null||r.return===null){ht=1,Fo=e,rt=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Mp(o);if(p!==null){p.flags&=-257,Lp(p,o,l,i,e),p.mode&1&&Op(i,u,e),e=p,c=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(c),e.updateQueue=v}else w.add(c);break e}else{if(!(e&1)){Op(i,u,e),im();break e}c=Error(H(426))}}else if(Be&&l.mode&1){var b=Mp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Lp(b,o,l,i,e),zf(Ni(c,l));break e}}i=c=Ni(c,l),ht!==4&&(ht=2),go===null?go=[i]:go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=dv(i,c,e);Tp(i,y);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(fs===null||!fs.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=hv(i,l,e);Tp(i,k);break e}}i=i.return}while(i!==null)}Av(r)}catch(j){e=j,rt===r&&r!==null&&(rt=r=r.return);continue}break}while(!0)}function Tv(){var t=Dc.current;return Dc.current=Ic,t===null?Ic:t}function im(){(ht===0||ht===3||ht===2)&&(ht=4),yt===null||!(sa&268435455)&&!(au&268435455)||Gn(yt,xt)}function Lc(t,e){var r=be;be|=2;var n=Tv();(yt!==t||xt!==e)&&(gn=null,Js(t,e));do try{ck();break}catch(s){Ev(t,s)}while(!0);if(Bf(),be=r,Dc.current=n,rt!==null)throw Error(H(261));return yt=null,xt=0,ht}function ck(){for(;rt!==null;)Pv(rt)}function uk(){for(;rt!==null&&!O1();)Pv(rt)}function Pv(t){var e=Iv(t.alternate,t,rr);t.memoizedProps=t.pendingProps,e===null?Av(t):rt=e,tm.current=null}function Av(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=nk(r,e),r!==null){r.flags&=32767,rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,rt=null;return}}else if(r=rk(r,e,rr),r!==null){rt=r;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ht===0&&(ht=5)}function Is(t,e,r){var n=Te,s=xr.transition;try{xr.transition=null,Te=1,dk(t,e,r,n)}finally{xr.transition=s,Te=n}return null}function dk(t,e,r,n){do si();while(as!==null);if(be&6)throw Error(H(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(V1(t,i),t===yt&&(rt=yt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_l||(_l=!0,Dv(vc,function(){return si(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var o=Te;Te=1;var l=be;be|=4,tm.current=null,ak(t,r),Nv(r,t),A2(fh),wc=!!hh,fh=hh=null,t.current=r,ik(r),M1(),be=l,Te=o,xr.transition=i}else t.current=r;if(_l&&(_l=!1,as=t,Mc=s),i=t.pendingLanes,i===0&&(fs=null),$1(r.stateNode),Qt(t,et()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Oc)throw Oc=!1,t=Ih,Ih=null,t;return Mc&1&&t.tag!==0&&si(),i=t.pendingLanes,i&1?t===Dh?yo++:(yo=0,Dh=t):yo=0,js(),null}function si(){if(as!==null){var t=dy(Mc),e=xr.transition,r=Te;try{if(xr.transition=null,Te=16>t?16:t,as===null)var n=!1;else{if(t=as,as=null,Mc=0,be&6)throw Error(H(331));var s=be;for(be|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:po(8,h,i)}var d=h.child;if(d!==null)d.return=h,te=d;else for(;te!==null;){h=te;var f=h.sibling,p=h.return;if(kv(h),h===u){te=null;break}if(f!==null){f.return=p,te=f;break}te=p}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:po(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,te=y;break e}te=i.return}}var g=t.current;for(te=g;te!==null;){o=te;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,te=x;else e:for(o=g;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:su(9,l)}}catch(j){Ye(l,l.return,j)}if(l===o){te=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,te=k;break e}te=l.return}}if(be=s,js(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Yc,t)}catch{}n=!0}return n}finally{Te=r,xr.transition=e}}return!1}function Yp(t,e,r){e=Ni(r,e),e=dv(t,e,1),t=hs(t,e,1),e=Ot(),t!==null&&(Qo(t,1,e),Qt(t,e))}function Ye(t,e,r){if(t.tag===3)Yp(t,t,r);else for(;e!==null;){if(e.tag===3){Yp(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fs===null||!fs.has(n))){t=Ni(r,t),t=hv(e,t,1),e=hs(e,t,1),t=Ot(),e!==null&&(Qo(e,1,t),Qt(e,t));break}}e=e.return}}function hk(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&r,yt===t&&(xt&r)===r&&(ht===4||ht===3&&(xt&130023424)===xt&&500>et()-nm?Js(t,0):rm|=r),Qt(t,e)}function Rv(t,e){e===0&&(t.mode&1?(e=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):e=1);var r=Ot();t=An(t,e),t!==null&&(Qo(t,e,r),Qt(t,r))}function fk(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Rv(t,r)}function mk(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(e),Rv(t,r)}var Iv;Iv=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Gt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gt=!1,tk(t,e,r);Gt=!!(t.flags&131072)}else Gt=!1,Be&&e.flags&1048576&&Ly(e,_c,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;sc(t,e),t=e.pendingProps;var s=bi(e,Ct.current);ni(e,r),s=Yf(null,e,n,t,s,r);var i=Jf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(n)?(i=!0,Nc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vf(e),s.updater=nu,e.stateNode=s,s._reactInternals=e,kh(e,n,t,r),e=Nh(null,e,n,!0,i,r)):(e.tag=0,Be&&i&&Ff(e),It(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(sc(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=gk(n),t=Rr(n,t),s){case 0:e=Sh(null,e,n,t,r);break e;case 1:e=zp(null,e,n,t,r);break e;case 11:e=Fp(null,e,n,t,r);break e;case 14:e=$p(null,e,n,Rr(n.type,t),r);break e}throw Error(H(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rr(n,s),Sh(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rr(n,s),zp(t,e,n,s,r);case 3:e:{if(gv(e),t===null)throw Error(H(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Wy(t,e),Pc(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ni(Error(H(423)),e),e=Up(t,e,n,r,s);break e}else if(n!==s){s=Ni(Error(H(424)),e),e=Up(t,e,n,r,s);break e}else for(sr=ds(e.stateNode.containerInfo.firstChild),ar=e,Be=!0,Lr=null,r=Uy(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ki(),n===s){e=Rn(t,e,r);break e}It(t,e,n,r)}e=e.child}return e;case 5:return Hy(e),t===null&&xh(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,mh(n,s)?o=null:i!==null&&mh(n,i)&&(e.flags|=32),pv(t,e),It(t,e,o,r),e.child;case 6:return t===null&&xh(e),null;case 13:return yv(t,e,r);case 4:return Gf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ji(e,null,n,r):It(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rr(n,s),Fp(t,e,n,s,r);case 7:return It(t,e,e.pendingProps,r),e.child;case 8:return It(t,e,e.pendingProps.children,r),e.child;case 12:return It(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ie(Ec,n._currentValue),n._currentValue=o,i!==null)if(zr(i.value,o)){if(i.children===s.children&&!qt.current){e=Rn(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Nn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),wh(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),wh(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}It(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,ni(e,r),s=br(s),n=n(s),e.flags|=1,It(t,e,n,r),e.child;case 14:return n=e.type,s=Rr(n,e.pendingProps),s=Rr(n.type,s),$p(t,e,n,s,r);case 15:return fv(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Rr(n,s),sc(t,e),e.tag=1,Kt(n)?(t=!0,Nc(e)):t=!1,ni(e,r),uv(e,n,s),kh(e,n,s,r),Nh(null,e,n,!0,t,r);case 19:return vv(t,e,r);case 22:return mv(t,e,r)}throw Error(H(156,e.tag))};function Dv(t,e){return oy(t,e)}function pk(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,e,r,n){return new pk(t,e,r,n)}function om(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gk(t){if(typeof t=="function")return om(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cf)return 11;if(t===_f)return 14}return 2}function ps(t,e){var r=t.alternate;return r===null?(r=gr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function oc(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")om(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ua:return Xs(r.children,s,i,e);case Nf:o=8,s|=8;break;case Gd:return t=gr(12,r,e,s|2),t.elementType=Gd,t.lanes=i,t;case qd:return t=gr(13,r,e,s),t.elementType=qd,t.lanes=i,t;case Kd:return t=gr(19,r,e,s),t.elementType=Kd,t.lanes=i,t;case H0:return iu(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B0:o=10;break e;case W0:o=9;break e;case Cf:o=11;break e;case _f:o=14;break e;case Wn:o=16,n=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=gr(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Xs(t,e,r,n){return t=gr(7,t,n,e),t.lanes=r,t}function iu(t,e,r,n){return t=gr(22,t,n,e),t.elementType=H0,t.lanes=r,t.stateNode={isHidden:!1},t}function cd(t,e,r){return t=gr(6,t,null,e),t.lanes=r,t}function ud(t,e,r){return e=gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yk(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hu(0),this.expirationTimes=Hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lm(t,e,r,n,s,i,o,l,c){return t=new yk(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=gr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vf(i),t}function vk(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ov(t){if(!t)return vs;t=t._reactInternals;e:{if(fa(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var r=t.type;if(Kt(r))return Oy(t,r,e)}return e}function Mv(t,e,r,n,s,i,o,l,c){return t=lm(r,n,!0,t,s,i,o,l,c),t.context=Ov(null),r=t.current,n=Ot(),s=ms(r),i=Nn(n,s),i.callback=e??null,hs(r,i,s),t.current.lanes=s,Qo(t,s,n),Qt(t,n),t}function ou(t,e,r,n){var s=e.current,i=Ot(),o=ms(s);return r=Ov(r),e.context===null?e.context=r:e.pendingContext=r,e=Nn(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=hs(s,e,o),t!==null&&($r(t,s,o,i),tc(t,s,o)),o}function Fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function cm(t,e){Jp(t,e),(t=t.alternate)&&Jp(t,e)}function xk(){return null}var Lv=typeof reportError=="function"?reportError:function(t){console.error(t)};function um(t){this._internalRoot=t}lu.prototype.render=um.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));ou(t,e,null,null)};lu.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;aa(function(){ou(null,t,null,null)}),e[Pn]=null}};function lu(t){this._internalRoot=t}lu.prototype.unstable_scheduleHydration=function(t){if(t){var e=my();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vn.length&&e!==0&&e<Vn[r].priority;r++);Vn.splice(r,0,t),r===0&&gy(t)}};function dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xp(){}function wk(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Fc(o);i.call(u)}}var o=Mv(e,n,t,0,null,!1,!1,"",Xp);return t._reactRootContainer=o,t[Pn]=o.current,Po(t.nodeType===8?t.parentNode:t),aa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Fc(c);l.call(u)}}var c=lm(t,0,!1,null,null,!1,!1,"",Xp);return t._reactRootContainer=c,t[Pn]=c.current,Po(t.nodeType===8?t.parentNode:t),aa(function(){ou(e,c,r,n)}),c}function uu(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Fc(o);l.call(c)}}ou(e,o,t,s)}else o=wk(r,e,t,s,n);return Fc(o)}hy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=no(e.pendingLanes);r!==0&&(Pf(e,r|1),Qt(e,et()),!(be&6)&&(Ci=et()+500,js()))}break;case 13:aa(function(){var n=An(t,1);if(n!==null){var s=Ot();$r(n,t,1,s)}}),cm(t,1)}};Af=function(t){if(t.tag===13){var e=An(t,134217728);if(e!==null){var r=Ot();$r(e,t,134217728,r)}cm(t,134217728)}};fy=function(t){if(t.tag===13){var e=ms(t),r=An(t,e);if(r!==null){var n=Ot();$r(r,t,e,n)}cm(t,e)}};my=function(){return Te};py=function(t,e){var r=Te;try{return Te=t,e()}finally{Te=r}};sh=function(t,e,r){switch(e){case"input":if(Jd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=eu(n);if(!s)throw Error(H(90));G0(n),Jd(n,s)}}}break;case"textarea":K0(t,r);break;case"select":e=r.value,e!=null&&Za(t,!!r.multiple,e,!1)}};ty=sm;ry=aa;var bk={usingClientEntryPoint:!1,Events:[Jo,Va,eu,Z0,ey,sm]},Ji={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kk={bundleType:Ji.bundleType,version:Ji.version,rendererPackageName:Ji.rendererPackageName,rendererConfig:Ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ay(t),t===null?null:t.stateNode},findFiberByHostInstance:Ji.findFiberByHostInstance||xk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{Yc=El.inject(kk),rn=El}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bk;or.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dm(e))throw Error(H(200));return vk(t,e,null,r)};or.createRoot=function(t,e){if(!dm(t))throw Error(H(299));var r=!1,n="",s=Lv;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lm(t,1,!1,null,null,r,!1,n,s),t[Pn]=e.current,Po(t.nodeType===8?t.parentNode:t),new um(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=ay(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return aa(t)};or.hydrate=function(t,e,r){if(!cu(e))throw Error(H(200));return uu(null,t,e,!0,r)};or.hydrateRoot=function(t,e,r){if(!dm(t))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Lv;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Mv(e,null,t,1,r??null,s,!1,i,o),t[Pn]=e.current,Po(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new lu(e)};or.render=function(t,e,r){if(!cu(e))throw Error(H(200));return uu(null,t,e,!1,r)};or.unmountComponentAtNode=function(t){if(!cu(t))throw Error(H(40));return t._reactRootContainer?(aa(function(){uu(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};or.unstable_batchedUpdates=sm;or.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!cu(r))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return uu(t,e,r,!1,n)};or.version="18.3.1-next-f1338f8080-20240426";function Fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fv)}catch(t){console.error(t)}}Fv(),F0.exports=or;var hm=F0.exports;const $v=C0(hm);var zv,Zp=hm;zv=Zp.createRoot,Zp.hydrateRoot;var Mi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ia=typeof window>"u"||"Deno"in globalThis;function Dt(){}function jk(t,e){return typeof t=="function"?t(e):t}function Lh(t){return typeof t=="number"&&t>=0&&t!==1/0}function Uv(t,e){return Math.max(t+(e||0)-Date.now(),0)}function gs(t,e){return typeof t=="function"?t(e):t}function fr(t,e){return typeof t=="function"?t(e):t}function eg(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==fm(o,e.options))return!1}else if(!$o(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function tg(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(oa(e.options.mutationKey)!==oa(i))return!1}else if(!$o(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function fm(t,e){return((e==null?void 0:e.queryKeyHashFn)||oa)(t)}function oa(t){return JSON.stringify(t,(e,r)=>Fh(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function $o(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>$o(t[r],e[r])):!1}function Bv(t,e){if(t===e)return t;const r=rg(t)&&rg(e);if(r||Fh(t)&&Fh(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let h=0;h<o;h++){const d=r?h:i[h];(!r&&c.has(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,u++):(l[d]=Bv(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&u++)}return s===o&&u===s?t:l}return e}function $c(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function rg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Fh(t){if(!ng(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ng(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ng(t){return Object.prototype.toString.call(t)==="[object Object]"}function Sk(t){return new Promise(e=>{setTimeout(e,t)})}function $h(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Bv(t,e):e}function Nk(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Ck(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var mm=Symbol();function Wv(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Hv(t,e){return typeof t=="function"?t(...e):!!t}var Bs,Kn,li,m0,_k=(m0=class extends Mi{constructor(){super();ae(this,Bs);ae(this,Kn);ae(this,li);ee(this,li,e=>{if(!ia&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,Kn)||this.setEventListener(E(this,li))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Kn))==null||e.call(this),ee(this,Kn,void 0))}setEventListener(e){var r;ee(this,li,e),(r=E(this,Kn))==null||r.call(this),ee(this,Kn,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){E(this,Bs)!==e&&(ee(this,Bs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof E(this,Bs)=="boolean"?E(this,Bs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Bs=new WeakMap,Kn=new WeakMap,li=new WeakMap,m0),pm=new _k,ci,Qn,ui,p0,Ek=(p0=class extends Mi{constructor(){super();ae(this,ci,!0);ae(this,Qn);ae(this,ui);ee(this,ui,e=>{if(!ia&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){E(this,Qn)||this.setEventListener(E(this,ui))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,Qn))==null||e.call(this),ee(this,Qn,void 0))}setEventListener(e){var r;ee(this,ui,e),(r=E(this,Qn))==null||r.call(this),ee(this,Qn,e(this.setOnline.bind(this)))}setOnline(e){E(this,ci)!==e&&(ee(this,ci,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return E(this,ci)}},ci=new WeakMap,Qn=new WeakMap,ui=new WeakMap,p0),zc=new Ek;function zh(){let t,e;const r=new Promise((s,i)=>{t=s,e=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function Tk(t){return Math.min(1e3*2**t,3e4)}function Vv(t){return(t??"online")==="online"?zc.isOnline():!0}var Gv=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function dd(t){return t instanceof Gv}function qv(t){let e=!1,r=0,n=!1,s;const i=zh(),o=v=>{var b;n||(f(new Gv(v)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>pm.isFocused()&&(t.networkMode==="always"||zc.isOnline())&&t.canRun(),h=()=>Vv(t.networkMode)&&t.canRun(),d=v=>{var b;n||(n=!0,(b=t.onSuccess)==null||b.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var b;n||(n=!0,(b=t.onError)==null||b.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var b;s=y=>{(n||u())&&v(y)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;s=void 0,n||(v=t.onContinue)==null||v.call(t)}),w=()=>{if(n)return;let v;const b=r===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var _;if(n)return;const g=t.retry??(ia?0:3),x=t.retryDelay??Tk,k=typeof x=="function"?x(r,y):x,j=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,y);if(e||!j){f(y);return}r++,(_=t.onFail)==null||_.call(t,r,y),Sk(k).then(()=>u()?void 0:p()).then(()=>{e?f(y):w()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?w():p().then(w),i)}}var Pk=t=>setTimeout(t,0);function Ak(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=Pk;const i=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var ut=Ak(),Ws,g0,Kv=(g0=class{constructor(){ae(this,Ws)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lh(this.gcTime)&&ee(this,Ws,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ia?1/0:5*60*1e3))}clearGcTimeout(){E(this,Ws)&&(clearTimeout(E(this,Ws)),ee(this,Ws,void 0))}},Ws=new WeakMap,g0),di,Hs,hr,Vs,St,Ho,Gs,Ir,mn,y0,Rk=(y0=class extends Kv{constructor(e){super();ae(this,Ir);ae(this,di);ae(this,Hs);ae(this,hr);ae(this,Vs);ae(this,St);ae(this,Ho);ae(this,Gs);ee(this,Gs,!1),ee(this,Ho,e.defaultOptions),this.setOptions(e.options),this.observers=[],ee(this,Vs,e.client),ee(this,hr,E(this,Vs).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ee(this,di,Ik(this.options)),this.state=e.state??E(this,di),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=E(this,St))==null?void 0:e.promise}setOptions(e){this.options={...E(this,Ho),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,hr).remove(this)}setData(e,r){const n=$h(this.state.data,e,this.options);return pe(this,Ir,mn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){pe(this,Ir,mn).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=E(this,St))==null?void 0:n.promise;return(s=E(this,St))==null||s.cancel(e),r?r.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,di))}isActive(){return this.observers.some(e=>fr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>gs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Uv(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=E(this,St))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=E(this,St))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),E(this,hr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(E(this,St)&&(E(this,Gs)?E(this,St).cancel({revert:!0}):E(this,St).cancelRetry()),this.scheduleGc()),E(this,hr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||pe(this,Ir,mn).call(this,{type:"invalidate"})}fetch(e,r){var u,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,St))return E(this,St).continueRetry(),E(this,St).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ee(this,Gs,!0),n.signal)})},i=()=>{const f=Wv(this.options,r),w=(()=>{const v={client:E(this,Vs),queryKey:this.queryKey,meta:this.meta};return s(v),v})();return ee(this,Gs,!1),this.options.persister?this.options.persister(f,w,this):f(w)},l=(()=>{const f={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,Vs),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(l,this),ee(this,Hs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&pe(this,Ir,mn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta});const c=f=>{var p,w,v,b;dd(f)&&f.silent||pe(this,Ir,mn).call(this,{type:"error",error:f}),dd(f)||((w=(p=E(this,hr).config).onError)==null||w.call(p,f,this),(b=(v=E(this,hr).config).onSettled)==null||b.call(v,this.state.data,f,this)),this.scheduleGc()};return ee(this,St,qv({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,w,v,b;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(w=(p=E(this,hr).config).onSuccess)==null||w.call(p,f,this),(b=(v=E(this,hr).config).onSettled)==null||b.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,p)=>{pe(this,Ir,mn).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{pe(this,Ir,mn).call(this,{type:"pause"})},onContinue:()=>{pe(this,Ir,mn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),E(this,St).start()}},di=new WeakMap,Hs=new WeakMap,hr=new WeakMap,Vs=new WeakMap,St=new WeakMap,Ho=new WeakMap,Gs=new WeakMap,Ir=new WeakSet,mn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Qv(n.data,this.options),fetchMeta:e.meta??null};case"success":return ee(this,Hs,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return dd(s)&&s.revert&&E(this,Hs)?{...E(this,Hs),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),E(this,hr).notify({query:this,type:"updated",action:e})})},y0);function Qv(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vv(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ik(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Yr,v0,Dk=(v0=class extends Mi{constructor(e={}){super();ae(this,Yr);this.config=e,ee(this,Yr,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??fm(s,r);let o=this.get(i);return o||(o=new Rk({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){E(this,Yr).has(e.queryHash)||(E(this,Yr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=E(this,Yr).get(e.queryHash);r&&(e.destroy(),r===e&&E(this,Yr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,Yr).get(e)}getAll(){return[...E(this,Yr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>eg(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>eg(e,n)):r}notify(e){ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Yr=new WeakMap,v0),Jr,At,qs,Xr,zn,x0,Ok=(x0=class extends Kv{constructor(e){super();ae(this,Xr);ae(this,Jr);ae(this,At);ae(this,qs);this.mutationId=e.mutationId,ee(this,At,e.mutationCache),ee(this,Jr,[]),this.state=e.state||Yv(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,Jr).includes(e)||(E(this,Jr).push(e),this.clearGcTimeout(),E(this,At).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ee(this,Jr,E(this,Jr).filter(r=>r!==e)),this.scheduleGc(),E(this,At).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,Jr).length||(this.state.status==="pending"?this.scheduleGc():E(this,At).remove(this))}continue(){var e;return((e=E(this,qs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,l,c,u,h,d,f,p,w,v,b,y,g,x,k,j,_,A,C;const r=()=>{pe(this,Xr,zn).call(this,{type:"continue"})};ee(this,qs,qv({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,M)=>{pe(this,Xr,zn).call(this,{type:"failed",failureCount:I,error:M})},onPause:()=>{pe(this,Xr,zn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,At).canRun(this)}));const n=this.state.status==="pending",s=!E(this,qs).canStart();try{if(n)r();else{pe(this,Xr,zn).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=E(this,At).config).onMutate)==null?void 0:o.call(i,e,this));const M=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));M!==this.state.context&&pe(this,Xr,zn).call(this,{type:"pending",context:M,variables:e,isPaused:s})}const I=await E(this,qs).start();return await((h=(u=E(this,At).config).onSuccess)==null?void 0:h.call(u,I,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,I,e,this.state.context)),await((w=(p=E(this,At).config).onSettled)==null?void 0:w.call(p,I,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,I,null,e,this.state.context)),pe(this,Xr,zn).call(this,{type:"success",data:I}),I}catch(I){try{throw await((g=(y=E(this,At).config).onError)==null?void 0:g.call(y,I,e,this.state.context,this)),await((k=(x=this.options).onError)==null?void 0:k.call(x,I,e,this.state.context)),await((_=(j=E(this,At).config).onSettled)==null?void 0:_.call(j,void 0,I,this.state.variables,this.state.context,this)),await((C=(A=this.options).onSettled)==null?void 0:C.call(A,void 0,I,e,this.state.context)),I}finally{pe(this,Xr,zn).call(this,{type:"error",error:I})}}finally{E(this,At).runNext(this)}}},Jr=new WeakMap,At=new WeakMap,qs=new WeakMap,Xr=new WeakSet,zn=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ut.batch(()=>{E(this,Jr).forEach(n=>{n.onMutationUpdate(e)}),E(this,At).notify({mutation:this,type:"updated",action:e})})},x0);function Yv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xn,Dr,Vo,w0,Mk=(w0=class extends Mi{constructor(e={}){super();ae(this,xn);ae(this,Dr);ae(this,Vo);this.config=e,ee(this,xn,new Set),ee(this,Dr,new Map),ee(this,Vo,0)}build(e,r,n){const s=new Ok({mutationCache:this,mutationId:++dl(this,Vo)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){E(this,xn).add(e);const r=Tl(e);if(typeof r=="string"){const n=E(this,Dr).get(r);n?n.push(e):E(this,Dr).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(E(this,xn).delete(e)){const r=Tl(e);if(typeof r=="string"){const n=E(this,Dr).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&E(this,Dr).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Tl(e);if(typeof r=="string"){const n=E(this,Dr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Tl(e);if(typeof r=="string"){const s=(n=E(this,Dr).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ut.batch(()=>{E(this,xn).forEach(e=>{this.notify({type:"removed",mutation:e})}),E(this,xn).clear(),E(this,Dr).clear()})}getAll(){return Array.from(E(this,xn))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>tg(r,n))}findAll(e={}){return this.getAll().filter(r=>tg(e,r))}notify(e){ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return ut.batch(()=>Promise.all(e.map(r=>r.continue().catch(Dt))))}},xn=new WeakMap,Dr=new WeakMap,Vo=new WeakMap,w0);function Tl(t){var e;return(e=t.options.scope)==null?void 0:e.id}function sg(t){return{onFetch:(e,r)=>{var h,d,f,p,w;const n=e.options,s=(f=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((w=e.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},y=Wv(e.options,e.fetchOptions),g=async(x,k,j)=>{if(v)return Promise.reject();if(k==null&&x.pages.length)return Promise.resolve(x);const A=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:k,direction:j?"backward":"forward",meta:e.options.meta};return b(G),G})(),C=await y(A),{maxPages:I}=e.options,M=j?Ck:Nk;return{pages:M(x.pages,C,I),pageParams:M(x.pageParams,k,I)}};if(s&&i.length){const x=s==="backward",k=x?Lk:ag,j={pages:i,pageParams:o},_=k(n,j);l=await g(j,_,x)}else{const x=t??i.length;do{const k=c===0?o[0]??n.initialPageParam:ag(n,l);if(c>0&&k==null)break;l=await g(l,k),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function ag(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Lk(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Qe,Yn,Jn,hi,fi,Xn,mi,pi,b0,Fk=(b0=class{constructor(t={}){ae(this,Qe);ae(this,Yn);ae(this,Jn);ae(this,hi);ae(this,fi);ae(this,Xn);ae(this,mi);ae(this,pi);ee(this,Qe,t.queryCache||new Dk),ee(this,Yn,t.mutationCache||new Mk),ee(this,Jn,t.defaultOptions||{}),ee(this,hi,new Map),ee(this,fi,new Map),ee(this,Xn,0)}mount(){dl(this,Xn)._++,E(this,Xn)===1&&(ee(this,mi,pm.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,Qe).onFocus())})),ee(this,pi,zc.subscribe(async t=>{t&&(await this.resumePausedMutations(),E(this,Qe).onOnline())})))}unmount(){var t,e;dl(this,Xn)._--,E(this,Xn)===0&&((t=E(this,mi))==null||t.call(this),ee(this,mi,void 0),(e=E(this,pi))==null||e.call(this),ee(this,pi,void 0))}isFetching(t){return E(this,Qe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,Yn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=E(this,Qe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=E(this,Qe).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(gs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return E(this,Qe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=E(this,Qe).get(n.queryHash),i=s==null?void 0:s.state.data,o=jk(e,i);if(o!==void 0)return E(this,Qe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ut.batch(()=>E(this,Qe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=E(this,Qe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=E(this,Qe);ut.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=E(this,Qe);return ut.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=ut.batch(()=>E(this,Qe).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Dt).catch(Dt)}invalidateQueries(t,e={}){return ut.batch(()=>(E(this,Qe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=ut.batch(()=>E(this,Qe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Dt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Dt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=E(this,Qe).build(this,e);return r.isStaleByTime(gs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dt).catch(Dt)}fetchInfiniteQuery(t){return t.behavior=sg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dt).catch(Dt)}ensureInfiniteQueryData(t){return t.behavior=sg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zc.isOnline()?E(this,Yn).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,Qe)}getMutationCache(){return E(this,Yn)}getDefaultOptions(){return E(this,Jn)}setDefaultOptions(t){ee(this,Jn,t)}setQueryDefaults(t,e){E(this,hi).set(oa(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,hi).values()],r={};return e.forEach(n=>{$o(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){E(this,fi).set(oa(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,fi).values()],r={};return e.forEach(n=>{$o(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...E(this,Jn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===mm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,Jn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,Qe).clear(),E(this,Yn).clear()}},Qe=new WeakMap,Yn=new WeakMap,Jn=new WeakMap,hi=new WeakMap,fi=new WeakMap,Xn=new WeakMap,mi=new WeakMap,pi=new WeakMap,b0),zt,xe,Go,Rt,Ks,gi,Zn,es,qo,yi,vi,Qs,Ys,ts,xi,Ne,ao,Uh,Bh,Wh,Hh,Vh,Gh,qh,Jv,k0,$k=(k0=class extends Mi{constructor(e,r){super();ae(this,Ne);ae(this,zt);ae(this,xe);ae(this,Go);ae(this,Rt);ae(this,Ks);ae(this,gi);ae(this,Zn);ae(this,es);ae(this,qo);ae(this,yi);ae(this,vi);ae(this,Qs);ae(this,Ys);ae(this,ts);ae(this,xi,new Set);this.options=r,ee(this,zt,e),ee(this,es,null),ee(this,Zn,zh()),this.options.experimental_prefetchInRender||E(this,Zn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,xe).addObserver(this),ig(E(this,xe),this.options)?pe(this,Ne,ao).call(this):this.updateResult(),pe(this,Ne,Hh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Kh(E(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Kh(E(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,pe(this,Ne,Vh).call(this),pe(this,Ne,Gh).call(this),E(this,xe).removeObserver(this)}setOptions(e){const r=this.options,n=E(this,xe);if(this.options=E(this,zt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fr(this.options.enabled,E(this,xe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");pe(this,Ne,qh).call(this),E(this,xe).setOptions(this.options),r._defaulted&&!$c(this.options,r)&&E(this,zt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,xe),observer:this});const s=this.hasListeners();s&&og(E(this,xe),n,this.options,r)&&pe(this,Ne,ao).call(this),this.updateResult(),s&&(E(this,xe)!==n||fr(this.options.enabled,E(this,xe))!==fr(r.enabled,E(this,xe))||gs(this.options.staleTime,E(this,xe))!==gs(r.staleTime,E(this,xe)))&&pe(this,Ne,Uh).call(this);const i=pe(this,Ne,Bh).call(this);s&&(E(this,xe)!==n||fr(this.options.enabled,E(this,xe))!==fr(r.enabled,E(this,xe))||i!==E(this,ts))&&pe(this,Ne,Wh).call(this,i)}getOptimisticResult(e){const r=E(this,zt).getQueryCache().build(E(this,zt),e),n=this.createResult(r,e);return Uk(this,n)&&(ee(this,Rt,n),ee(this,gi,this.options),ee(this,Ks,E(this,xe).state)),n}getCurrentResult(){return E(this,Rt)}trackResult(e,r){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(e){E(this,xi).add(e)}getCurrentQuery(){return E(this,xe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=E(this,zt).defaultQueryOptions(e),n=E(this,zt).getQueryCache().build(E(this,zt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return pe(this,Ne,ao).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Rt)))}createResult(e,r){var I;const n=E(this,xe),s=this.options,i=E(this,Rt),o=E(this,Ks),l=E(this,gi),u=e!==n?e.state:E(this,Go),{state:h}=e;let d={...h},f=!1,p;if(r._optimisticResults){const M=this.hasListeners(),G=!M&&ig(e,r),T=M&&og(e,n,r,s);(G||T)&&(d={...d,...Qv(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:b}=d;p=d.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let M;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(M=i.data,y=!0):M=typeof r.placeholderData=="function"?r.placeholderData((I=E(this,vi))==null?void 0:I.state.data,E(this,vi)):r.placeholderData,M!==void 0&&(b="success",p=$h(i==null?void 0:i.data,M,r),f=!0)}if(r.select&&p!==void 0&&!y)if(i&&p===(o==null?void 0:o.data)&&r.select===E(this,qo))p=E(this,yi);else try{ee(this,qo,r.select),p=r.select(p),p=$h(i==null?void 0:i.data,p,r),ee(this,yi,p),ee(this,es,null)}catch(M){ee(this,es,M)}E(this,es)&&(w=E(this,es),p=E(this,yi),v=Date.now(),b="error");const g=d.fetchStatus==="fetching",x=b==="pending",k=b==="error",j=x&&g,_=p!==void 0,C={status:b,fetchStatus:d.fetchStatus,isPending:x,isSuccess:b==="success",isError:k,isInitialLoading:j,isLoading:j,data:p,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:k&&!_,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:k&&_,isStale:gm(e,r),refetch:this.refetch,promise:E(this,Zn),isEnabled:fr(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const M=K=>{C.status==="error"?K.reject(C.error):C.data!==void 0&&K.resolve(C.data)},G=()=>{const K=ee(this,Zn,C.promise=zh());M(K)},T=E(this,Zn);switch(T.status){case"pending":e.queryHash===n.queryHash&&M(T);break;case"fulfilled":(C.status==="error"||C.data!==T.value)&&G();break;case"rejected":(C.status!=="error"||C.error!==T.reason)&&G();break}}return C}updateResult(){const e=E(this,Rt),r=this.createResult(E(this,xe),this.options);if(ee(this,Ks,E(this,xe).state),ee(this,gi,this.options),E(this,Ks).data!==void 0&&ee(this,vi,E(this,xe)),$c(r,e))return;ee(this,Rt,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!E(this,xi).size)return!0;const o=new Set(i??E(this,xi));return this.options.throwOnError&&o.add("error"),Object.keys(E(this,Rt)).some(l=>{const c=l;return E(this,Rt)[c]!==e[c]&&o.has(c)})};pe(this,Ne,Jv).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&pe(this,Ne,Hh).call(this)}},zt=new WeakMap,xe=new WeakMap,Go=new WeakMap,Rt=new WeakMap,Ks=new WeakMap,gi=new WeakMap,Zn=new WeakMap,es=new WeakMap,qo=new WeakMap,yi=new WeakMap,vi=new WeakMap,Qs=new WeakMap,Ys=new WeakMap,ts=new WeakMap,xi=new WeakMap,Ne=new WeakSet,ao=function(e){pe(this,Ne,qh).call(this);let r=E(this,xe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Dt)),r},Uh=function(){pe(this,Ne,Vh).call(this);const e=gs(this.options.staleTime,E(this,xe));if(ia||E(this,Rt).isStale||!Lh(e))return;const n=Uv(E(this,Rt).dataUpdatedAt,e)+1;ee(this,Qs,setTimeout(()=>{E(this,Rt).isStale||this.updateResult()},n))},Bh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,xe)):this.options.refetchInterval)??!1},Wh=function(e){pe(this,Ne,Gh).call(this),ee(this,ts,e),!(ia||fr(this.options.enabled,E(this,xe))===!1||!Lh(E(this,ts))||E(this,ts)===0)&&ee(this,Ys,setInterval(()=>{(this.options.refetchIntervalInBackground||pm.isFocused())&&pe(this,Ne,ao).call(this)},E(this,ts)))},Hh=function(){pe(this,Ne,Uh).call(this),pe(this,Ne,Wh).call(this,pe(this,Ne,Bh).call(this))},Vh=function(){E(this,Qs)&&(clearTimeout(E(this,Qs)),ee(this,Qs,void 0))},Gh=function(){E(this,Ys)&&(clearInterval(E(this,Ys)),ee(this,Ys,void 0))},qh=function(){const e=E(this,zt).getQueryCache().build(E(this,zt),this.options);if(e===E(this,xe))return;const r=E(this,xe);ee(this,xe,e),ee(this,Go,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},Jv=function(e){ut.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(E(this,Rt))}),E(this,zt).getQueryCache().notify({query:E(this,xe),type:"observerResultsUpdated"})})},k0);function zk(t,e){return fr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ig(t,e){return zk(t,e)||t.state.data!==void 0&&Kh(t,e,e.refetchOnMount)}function Kh(t,e,r){if(fr(e.enabled,t)!==!1&&gs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&gm(t,e)}return!1}function og(t,e,r,n){return(t!==e||fr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&gm(t,r)}function gm(t,e){return fr(e.enabled,t)!==!1&&t.isStaleByTime(gs(e.staleTime,t))}function Uk(t,e){return!$c(t.getCurrentResult(),e)}var rs,ns,Ut,wn,En,lc,Qh,j0,Bk=(j0=class extends Mi{constructor(r,n){super();ae(this,En);ae(this,rs);ae(this,ns);ae(this,Ut);ae(this,wn);ee(this,rs,r),this.setOptions(n),this.bindMethods(),pe(this,En,lc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=E(this,rs).defaultMutationOptions(r),$c(this.options,n)||E(this,rs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,Ut),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&oa(n.mutationKey)!==oa(this.options.mutationKey)?this.reset():((s=E(this,Ut))==null?void 0:s.state.status)==="pending"&&E(this,Ut).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,Ut))==null||r.removeObserver(this)}onMutationUpdate(r){pe(this,En,lc).call(this),pe(this,En,Qh).call(this,r)}getCurrentResult(){return E(this,ns)}reset(){var r;(r=E(this,Ut))==null||r.removeObserver(this),ee(this,Ut,void 0),pe(this,En,lc).call(this),pe(this,En,Qh).call(this)}mutate(r,n){var s;return ee(this,wn,n),(s=E(this,Ut))==null||s.removeObserver(this),ee(this,Ut,E(this,rs).getMutationCache().build(E(this,rs),this.options)),E(this,Ut).addObserver(this),E(this,Ut).execute(r)}},rs=new WeakMap,ns=new WeakMap,Ut=new WeakMap,wn=new WeakMap,En=new WeakSet,lc=function(){var n;const r=((n=E(this,Ut))==null?void 0:n.state)??Yv();ee(this,ns,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Qh=function(r){ut.batch(()=>{var n,s,i,o,l,c,u,h;if(E(this,wn)&&this.hasListeners()){const d=E(this,ns).variables,f=E(this,ns).context;(r==null?void 0:r.type)==="success"?((s=(n=E(this,wn)).onSuccess)==null||s.call(n,r.data,d,f),(o=(i=E(this,wn)).onSettled)==null||o.call(i,r.data,null,d,f)):(r==null?void 0:r.type)==="error"&&((c=(l=E(this,wn)).onError)==null||c.call(l,r.error,d,f),(h=(u=E(this,wn)).onSettled)==null||h.call(u,void 0,r.error,d,f))}this.listeners.forEach(d=>{d(E(this,ns))})})},j0),Xv=m.createContext(void 0),Li=t=>{const e=m.useContext(Xv);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Wk=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(Xv.Provider,{value:t,children:e})),Zv=m.createContext(!1),Hk=()=>m.useContext(Zv);Zv.Provider;function Vk(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gk=m.createContext(Vk()),qk=()=>m.useContext(Gk),Kk=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Qk=t=>{m.useEffect(()=>{t.clearReset()},[t])},Yk=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||Hv(r,[t.error,n])),Jk=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Xk=(t,e)=>t.isLoading&&t.isFetching&&!e,Zk=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,lg=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function ej(t,e,r){var d,f,p,w,v;const n=Hk(),s=qk(),i=Li(),o=i.defaultQueryOptions(t);(f=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",Jk(o),Kk(o,s),Qk(s);const l=!i.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new e(i,o)),u=c.getOptimisticResult(o),h=!n&&t.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(b=>{const y=h?c.subscribe(ut.batchCalls(b)):Dt;return c.updateResult(),y},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),Zk(o,u))throw lg(o,c,s);if(Yk({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((w=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||w.call(p,o,u),o.experimental_prefetchInRender&&!ia&&Xk(u,n)){const b=l?lg(o,c,s):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;b==null||b.catch(Dt).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Cn(t,e){return ej(t,$k)}function on(t,e){const r=Li(),[n]=m.useState(()=>new Bk(r,t));m.useEffect(()=>{n.setOptions(t)},[n,t]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(ut.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,l)=>{n.mutate(o,l).catch(Dt)},[n]);if(s.error&&Hv(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const tj="modulepreload",rj=function(t){return"/"+t},cg={},Ss=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=rj(c),c in cg)return;cg[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":tj,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},nj=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>Fi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ym extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class sj extends ym{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ug extends ym{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dg extends ym{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yh||(Yh={}));var aj=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class ij{constructor(e,{headers:r={},customFetch:n,region:s=Yh.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=nj(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return aj(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h}).catch(v=>{throw new sj(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ug(d);if(!d.ok)throw new dg(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return p==="application/json"?w=yield d.json():p==="application/octet-stream"?w=yield d.blob():p==="text/event-stream"?w=d:p==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof dg||s instanceof ug?s.context:void 0}}})}}var Ht={},vm={},du={},Zo={},hu={},fu={},oj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_i=oj();const lj=_i.fetch,ex=_i.fetch.bind(_i),tx=_i.Headers,cj=_i.Request,uj=_i.Response,Fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:tx,Request:cj,Response:uj,default:ex,fetch:lj},Symbol.toStringTag,{value:"Module"})),dj=Jb(Fi);var mu={};Object.defineProperty(mu,"__esModule",{value:!0});let hj=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};mu.default=hj;var rx=wr&&wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fu,"__esModule",{value:!0});const fj=rx(dj),mj=rx(mu);let pj=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=fj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,h=null,d=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,f=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const v=await i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(h=[],u=null,f=200,p="OK")}catch{i.status===404&&v===""?(f=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new mj.default(u)}return{error:u,data:h,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};fu.default=pj;var gj=wr&&wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hu,"__esModule",{value:!0});const yj=gj(fu);let vj=class extends yj.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};hu.default=vj;var xj=wr&&wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zo,"__esModule",{value:!0});const wj=xj(hu);let bj=class extends wj.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Zo.default=bj;var kj=wr&&wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(du,"__esModule",{value:!0});const Xi=kj(Zo);let jj=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Xi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};du.default=jj;var pu={},gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.version=void 0;gu.version="0.0.0-automated";Object.defineProperty(pu,"__esModule",{value:!0});pu.DEFAULT_HEADERS=void 0;const Sj=gu;pu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Sj.version}`};var nx=wr&&wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vm,"__esModule",{value:!0});const Nj=nx(du),Cj=nx(Zo),_j=pu;let Ej=class sx{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},_j.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Nj.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{l.searchParams.append(h,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Cj.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};vm.default=Ej;var $i=wr&&wr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.PostgrestError=Ht.PostgrestBuilder=Ht.PostgrestTransformBuilder=Ht.PostgrestFilterBuilder=Ht.PostgrestQueryBuilder=Ht.PostgrestClient=void 0;const ax=$i(vm);Ht.PostgrestClient=ax.default;const ix=$i(du);Ht.PostgrestQueryBuilder=ix.default;const ox=$i(Zo);Ht.PostgrestFilterBuilder=ox.default;const lx=$i(hu);Ht.PostgrestTransformBuilder=lx.default;const cx=$i(fu);Ht.PostgrestBuilder=cx.default;const ux=$i(mu);Ht.PostgrestError=ux.default;var Tj=Ht.default={PostgrestClient:ax.default,PostgrestQueryBuilder:ix.default,PostgrestFilterBuilder:ox.default,PostgrestTransformBuilder:lx.default,PostgrestBuilder:cx.default,PostgrestError:ux.default};const{PostgrestClient:Pj,PostgrestQueryBuilder:fT,PostgrestFilterBuilder:mT,PostgrestTransformBuilder:pT,PostgrestBuilder:gT,PostgrestError:yT}=Tj;class Aj{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Rj="2.15.1",Ij=`realtime-js/${Rj}`,Dj="1.0.0",Jh=1e4,Oj=1e3,Mj=100;var vo;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vo||(vo={}));var ot;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ot||(ot={}));var Mr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Mr||(Mr={}));var Xh;(function(t){t.websocket="websocket"})(Xh||(Xh={}));var Os;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Os||(Os={}));class Lj{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let dx=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Re;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Re||(Re={}));const hg=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=Fj(o,t,e,s),i),{})},Fj=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?hx(i,o):Zh(o)},hx=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Bj(e,r)}switch(t){case Re.bool:return $j(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return zj(e);case Re.json:case Re.jsonb:return Uj(e);case Re.timestamp:return Wj(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Zh(e);default:return Zh(e)}},Zh=t=>t,$j=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zj=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Uj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Bj=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>hx(e,l))}return t},Wj=t=>typeof t=="string"?t.replace(" ","T"):t,fx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class hd{constructor(e,r,n={},s=Jh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fg||(fg={}));class xo{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=xo.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=xo.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,h)=>{o[u]||(c[u]=h)}),this.map(o,(u,h)=>{const d=i[u];if(d){const f=h.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),w=h.filter(b=>p.indexOf(b.presence_ref)<0),v=d.filter(b=>f.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),v.length>0&&(c[u]=v)}else l[u]=h}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const h=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),h.length>0){const d=e[l].map(p=>p.presence_ref),f=h.filter(p=>d.indexOf(p.presence_ref)<0);e[l].unshift(...f)}n(l,h,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const h=c.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mg||(mg={}));var wo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wo||(wo={}));var yn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class xm{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hd(this,Mr.join,this.params,this.timeout),this.rejoinTimer=new dx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mr.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new xo(this),this.broadcastEndpointURL=fx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[wo.PRESENCE]&&this.bindings[wo.PRESENCE].length>0,h={},d={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(yn.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e==null||e(yn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(p=w==null?void 0:w.length)!==null&&p!==void 0?p:0,b=[];for(let y=0;y<v;y++){const g=w[y],{filter:{event:x,schema:k,table:j,filter:_}}=g,A=f&&f[y];if(A&&A.event===x&&A.schema===k&&A.table===j&&A.filter===_)b.push(Object.assign(Object.assign({},g),{id:A.id}));else{this.unsubscribe(),this.state=ot.errored,e==null||e(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(yn.SUBSCRIBED);return}}).receive("error",f=>{this.state=ot.errored,e==null||e(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ot.joined&&e===wo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new hd(this,Mr.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new hd(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Mj){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Mr;if(n&&[l,c,u,h].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var w,v,b;return((w=p.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(v=p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var w,v,b,y,g,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,j=(w=p.filter)===null||w===void 0?void 0:w.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(g=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return k==="*"||k===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:v,table:b,commit_timestamp:y,type:g,errors:x}=w;f=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(w))}p.callback(f,n)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&xm.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Mr.close,{},e)}_onError(e){this._on(Mr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hg(e.columns,e.old_record)),r}}const pg=()=>{},Pl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hj=[1e3,2e3,5e3,1e4],Vj=1e4,Gj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qj{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jh,this.transport=null,this.heartbeatIntervalMs=Pl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pg,this.ref=0,this.reconnectTimer=null,this.logger=pg,this.conn=null,this.sendBuffer=[],this.serializer=new Lj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ss(async()=>{const{default:l}=await Promise.resolve().then(()=>Fi);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Xh.websocket}`,this.httpEndpoint=fx(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Aj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dj}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vo.connecting:return Os.Connecting;case vo.open:return Os.Open;case vo.closing:return Os.Closing;default:return Os.Closed}}isConnected(){return this.connectionState()===Os.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new xm(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Oj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Pl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Mr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Gj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Ij};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Mr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Jh,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Pl.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Hj[h-1]||Vj,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,d)=>d(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class wm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Kj extends wm{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ef extends wm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Qj=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const mx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>Fi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Yj=()=>Qj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ss(()=>Promise.resolve().then(()=>Fi),void 0)).Response:Response}),tf=t=>{if(Array.isArray(t))return t.map(r=>tf(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=tf(n)}),e},Jj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ma=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const fd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Xj=(t,e,r)=>ma(void 0,void 0,void 0,function*(){const n=yield Yj();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Kj(fd(s),i,o))}).catch(s=>{e(new ef(fd(s),s))}):e(new ef(fd(t),t))}),Zj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Jj(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function el(t,e,r,n,s,i){return ma(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Zj(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Xj(c,l,n))})})}function Uc(t,e,r,n){return ma(this,void 0,void 0,function*(){return el(t,"GET",e,r,n)})}function Kr(t,e,r,n,s){return ma(this,void 0,void 0,function*(){return el(t,"POST",e,n,s,r)})}function rf(t,e,r,n,s){return ma(this,void 0,void 0,function*(){return el(t,"PUT",e,n,s,r)})}function eS(t,e,r,n){return ma(this,void 0,void 0,function*(){return el(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function px(t,e,r,n,s){return ma(this,void 0,void 0,function*(){return el(t,"DELETE",e,n,s,r)})}var Pt=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const tS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rS{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=mx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Pt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gg),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),d=yield(e=="PUT"?rf:Kr)(this.fetch,`${this.url}/object/${h}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Pt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:gg.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const d=yield rf(this.fetch,l.toString(),c,{headers:h});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Kr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new wm("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}update(e,r,n){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Pt(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Kr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Kr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Pt(this,void 0,void 0,function*(){try{const s=yield Kr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}download(e,r){return Pt(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Uc(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}info(e){return Pt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Uc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tf(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}exists(e){return Pt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield eS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n)&&n instanceof ef){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Pt(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(e,r,n){return Pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tS),r),{prefix:e||""});return{data:yield Kr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(lt(s))return{data:null,error:s};throw s}})}listV2(e,r){return Pt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Kr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const nS="2.12.1",sS={"X-Client-Info":`storage-js/${nS}`};var _a=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class aS{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},sS),r),this.fetch=mx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _a(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}getBucket(e){return _a(this,void 0,void 0,function*(){try{return{data:yield Uc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return _a(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return _a(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _a(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _a(this,void 0,void 0,function*(){try{return{data:yield px(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}}class iS extends aS{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new rS(this.url,this.headers,e,this.fetch)}}const oS="2.55.0";let io="";typeof Deno<"u"?io="deno":typeof document<"u"?io="web":typeof navigator<"u"&&navigator.product==="ReactNative"?io="react-native":io="node";const lS={"X-Client-Info":`supabase-js-${io}/${oS}`},cS={headers:lS},uS={schema:"public"},dS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hS={};var fS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const mS=t=>{let e;return t?e=t:typeof fetch>"u"?e=ex:e=fetch,(...r)=>e(...r)},pS=()=>typeof Headers>"u"?tx:Headers,gS=(t,e,r)=>{const n=mS(r),s=pS();return(i,o)=>fS(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var yS=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function vS(t){return t.endsWith("/")?t:t+"/"}function xS(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:h,global:d}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},h),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>yS(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const gx="2.71.1",La=30*1e3,nf=3,md=nf*La,wS="http://localhost:9999",bS="supabase.auth.token",kS={"X-Client-Info":`gotrue-js/${gx}`},sf="X-Supabase-Api-Version",yx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,SS=10*60*1e3;class bm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NS extends bm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function CS(t){return de(t)&&t.name==="AuthApiError"}class vx extends bm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ns extends bm{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Un extends Ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _S(t){return de(t)&&t.name==="AuthSessionMissingError"}class Al extends Ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rl extends Ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Il extends Ns{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ES(t){return de(t)&&t.name==="AuthImplicitGrantRedirectError"}class yg extends Ns{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class af extends Ns{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function pd(t){return de(t)&&t.name==="AuthRetryableFetchError"}class vg extends Ns{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class of extends Ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xg=` 	
\r=`.split(""),TS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xg.length;e+=1)t[xg[e].charCodeAt(0)]=-2;for(let e=0;e<Bc.length;e+=1)t[Bc[e].charCodeAt(0)]=e;return t})();function wg(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Bc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Bc[n]),e.queuedBits-=6}}function xx(t,e,r){const n=TS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bg(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{RS(o,n,r)};for(let o=0;o<t.length;o+=1)xx(t.charCodeAt(o),s,i);return e.join("")}function PS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function AS(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}PS(n,e)}}function RS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function IS(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)xx(t.charCodeAt(s),r,n);return new Uint8Array(e)}function DS(t){const e=[];return AS(t,r=>e.push(r)),new Uint8Array(e)}function OS(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>wg(s,r,n)),wg(null,r,n),e.join("")}function MS(t){return Math.round(Date.now()/1e3)+t}function LS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ar=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},wx=()=>{if(!Ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function FS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const bx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Ss(async()=>{const{default:n}=await Promise.resolve().then(()=>Fi);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},$S=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fa=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ps=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ln=async(t,e)=>{await t.removeItem(e)};class yu{constructor(){this.promise=new yu.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}yu.promiseConstructor=Promise;function gd(t){const e=t.split(".");if(e.length!==3)throw new of("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!jS.test(e[n]))throw new of("JWT not in base64url format");return{header:JSON.parse(bg(e[0])),payload:JSON.parse(bg(e[1])),signature:IS(e[2]),raw:{header:e[0],payload:e[1]}}}async function zS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function US(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function BS(t){return("0"+t.toString(16)).substr(-2)}function WS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,BS).join("")}async function HS(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function VS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await HS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ea(t,e,r=!1){const n=WS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Fa(t,`${e}-code-verifier`,s);const i=await VS(n);return[i,n===i?"plain":"s256"]}const GS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qS(t){const e=t.headers.get(sf);if(!e||!e.match(GS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function KS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function QS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ta(t){if(!YS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yd(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kg(t){return JSON.parse(JSON.stringify(t))}var JS=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Ds=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),XS=[502,503,504];async function jg(t){var e;if(!$S(t))throw new af(Ds(t),0);if(XS.includes(t.status))throw new af(Ds(t),t.status);let r;try{r=await t.json()}catch(i){throw new vx(Ds(i),i)}let n;const s=qS(t);if(s&&s.getTime()>=yx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vg(Ds(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Un}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new vg(Ds(r),t.status,r.weak_password.reasons);throw new NS(Ds(r),t.status||500,n)}const ZS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ye(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[sf]||(i[sf]=yx["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await eN(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function eN(t,e,r,n,s,i){const o=ZS(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new af(Ds(c),0)}if(l.ok||await jg(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await jg(c)}}function pn(t){var e;let r=null;sN(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=MS(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Sg(t){const e=pn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function qn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tN(t){return{data:t,error:null}}function rN(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=JS(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function nN(t){return t}function sN(t){return t.access_token&&t.refresh_token&&t.expires_in}const vd=["global","local","others"];var aN=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class iN{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=bx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=vd[0]){if(vd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vd.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=aN(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:rN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:qn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:nN});if(h.error)throw h.error;const d=await h.json(),f=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ta(e);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:qn})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ta(e);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:qn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ta(e);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:qn})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ta(e.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ta(e.userId),Ta(e.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}function Ng(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function oN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pa={debug:!!(globalThis&&wx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lN extends kx{}async function cN(t,e,r){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}oN();const uN={url:wS,storageKey:bS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cg(t,e,r){return await r()}const Aa={};class zo{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zo.nextInstanceID,zo.nextInstanceID+=1,this.instanceID>0&&Ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},uN),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iN({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bx(s.fetch),this.lock=s.lock||Cg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ar()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cN:this.lock=Cg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:wx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ng(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ng(this.memoryStorage)),Ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Aa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Aa[this.storageKey]=Object.assign(Object.assign({},Aa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Aa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Aa[this.storageKey]=Object.assign(Object.assign({},Aa[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=FS(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ar()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ES(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new vx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pn}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:d,options:f}=e;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Ea(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:w},xform:pn})}else if("phone"in e){const{phone:h,password:d,options:f}=e;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:pn})}else throw new Rl("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sg})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sg})}else throw new Rl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Al}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,l,c,u,h,d,f,p;let w,v;if("message"in e)w=e.message,v=e.signature;else{const{chain:b,wallet:y,statement:g,options:x}=e;let k;if(Ar())if(typeof y=="object")k=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))k=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const _=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let A;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")A=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)A=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)w=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${j.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(h=x==null?void 0:x.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const _=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:b,error:y}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:OS(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:pn});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Al}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(de(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Ps(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pn});if(await Ln(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Al}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(de(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Al}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Ea(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:h}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Rl("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ea(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:tN})}catch(i){if(de(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Un;const{error:s}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(de(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Rl("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<md:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Ps(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=yd()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,h)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:qn}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Un}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:qn})})}catch(r){if(de(r))return _S(r)&&(await this._removeSession(),await Ln(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Un;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Ea(this.storage,this.storageKey));const{data:u,error:h}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:qn});if(h)throw h;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Un;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=gd(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Un;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ar())throw new Il("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Il(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Il("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new yg("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Il("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(l);let f=h+d;c&&(f=parseInt(c));const p=f-h;p*1e3<=La&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const w=f-d;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,h);const{data:v,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ps(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(CS(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ln(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=LS(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ea(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(de(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,h;const{data:d,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ar()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await US(async s=>(s>0&&await zS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&pd(i)&&Date.now()+o-n<La})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ps(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Fa(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:yd()}else if(s&&!s.user&&!s.user){const o=await Ps(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ln(this.storage,this.storageKey+"-user"),await Fa(this.storage,this.storageKey,s)):s.user=yd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<md;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${md}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),pd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yu;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Un;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),de(i)){const o={session:null,error:i};return pd(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fa(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=kg(s);await Fa(this.storage,this.storageKey,i)}else{const s=kg(r);await Fa(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ln(this.storage,this.storageKey),await Ln(this.storage,this.storageKey+"-code-verifier"),await Ln(this.storage,this.storageKey+"-user"),this.userStorage&&await Ln(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),La);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/La);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${La}ms, refresh threshold is ${nf} ticks`),s<=nf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ea(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gd(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+SS>s)return n;const{data:i,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:w}=await this.getSession();if(w||!p.session)return{data:null,error:w};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=gd(n);r!=null&&r.allowExpired||KS(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const h=QS(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,o,DS(`${l}.${c}`)))throw new of("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}zo.nextInstanceID=0;const dN=zo;class hN extends dN{constructor(e){super(e)}}var fN=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{u(n.next(h))}catch(d){o(d)}}function c(h){try{u(n.throw(h))}catch(d){o(d)}}function u(h){h.done?i(h.value):s(h.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class mN{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=vS(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:uS,realtime:hS,auth:Object.assign(Object.assign({},dS),{storageKey:u}),global:cS},d=xS(n??{},h);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=gS(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Pj(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new iS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new ij(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return fN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hN({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new qj(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pN=(t,e,r)=>new mN(t,e,r);function gN(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gN()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _g={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjZmlsc3J5Zmp3ZW1xeXR3YnZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMzU5MTksImV4cCI6MjA2OTYxMTkxOX0.9AJ51rynZVDSINfVWYsh9s2cjpUvz75BR7FiA_TqNvk",VITE_SUPABASE_URL:"https://bcfilsryfjwemqytwbvr.supabase.co",VITE_USDA_API_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjZmlsc3J5Zmp3ZW1xeXR3YnZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMzU5MTksImV4cCI6MjA2OTYxMTkxOX0.9AJ51rynZVDSINfVWYsh9s2cjpUvz75BR7FiA_TqNvk"};var Eg={};typeof window<"u"&&(window.location.hostname.includes("github.io")||window.location.hostname.includes("bytewise-nutritionist"));const xd={supabaseUrl:"https://bcfilsryfjwemqytwbvr.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJjZmlsc3J5Zmp3ZW1xeXR3YnZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMzU5MTksImV4cCI6MjA2OTYxMTkxOX0.9AJ51rynZVDSINfVWYsh9s2cjpUvz75BR7FiA_TqNvk",usdaApiKey:"z4YPCZm0HAL1SLXe9sRhXXRG8meDjQDBkGqE7hqY"};function wd(t){try{if(typeof import.meta<"u"&&_g)return _g[t];if(typeof process<"u"&&Eg)return Eg[t]}catch{}}const jx={supabase:{url:wd("VITE_SUPABASE_URL")||xd.supabaseUrl,anonKey:wd("VITE_SUPABASE_ANON_KEY")||xd.supabaseKey},usda:{apiKey:wd("VITE_USDA_API_KEY")||xd.usdaApiKey}},yN=jx.supabase.url,vN=jx.supabase.anonKey;let bd=null;const dt=(bd||(bd=pN(yN,vN,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"bytewise-auth",storage:window.localStorage},db:{schema:"public"},global:{headers:{"X-Client-Info":"bytewise-nutrition-tracker"}}})),bd);dt.auth;dt.storage;dt.functions;const xN=Object.freeze(Object.defineProperty({__proto__:null,supabase:dt},Symbol.toStringTag,{value:"Module"}));async function Sx(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function Nx(){const t={};let e=null;const{data:{session:r}}=await dt.auth.getSession();if(r!=null&&r.access_token&&(e=r.access_token,e.split(".").length!==3&&(e=null)),!e){const n=localStorage.getItem("supabase.auth.token");if(n)try{const s=JSON.parse(n);s.access_token&&(e=s.access_token)}catch{}}return e&&(t.Authorization=`Bearer ${e}`),t}async function je(t,e,r){const s={...await Nx(),...r?{"Content-Type":"application/json"}:{}},i=await fetch(e,{method:t,headers:s,body:r?JSON.stringify(r):void 0,credentials:"include"});return await Sx(i),i}const wN=({on401:t})=>async({queryKey:e})=>{const r=await Nx(),n=e.join("/"),s=await fetch(n,{headers:r,credentials:"include"});return await Sx(s),await s.json()},bN=new Fk({defaultOptions:{queries:{queryFn:wN({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:1e3*60*2,gcTime:1e3*60*15,retry:3,retryDelay:t=>Math.min(1e3*2**t,1e4)},mutations:{retry:2,retryDelay:1e3}}});function kN(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,s,i,o=[],l="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Cx={exports:{}},_x={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=m;function jN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var SN=typeof Object.is=="function"?Object.is:jN,NN=Ei.useState,CN=Ei.useEffect,_N=Ei.useLayoutEffect,EN=Ei.useDebugValue;function TN(t,e){var r=e(),n=NN({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return _N(function(){s.value=r,s.getSnapshot=e,kd(s)&&i({inst:s})},[t,r,e]),CN(function(){return kd(s)&&i({inst:s}),t(function(){kd(s)&&i({inst:s})})},[t]),EN(r),r}function kd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!SN(t,r)}catch{return!0}}function PN(t,e){return e()}var AN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PN:TN;_x.useSyncExternalStore=Ei.useSyncExternalStore!==void 0?Ei.useSyncExternalStore:AN;Cx.exports=_x;var RN=Cx.exports;const IN=bf.useInsertionEffect,DN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ON=DN?m.useLayoutEffect:m.useEffect,MN=IN||ON,Ex=t=>{const e=m.useRef([t,(...r)=>e[0](...r)]).current;return MN(()=>{e[0]=t}),e[1]},LN="popstate",km="pushState",jm="replaceState",FN="hashchange",Tg=[LN,km,jm,FN],$N=t=>{for(const e of Tg)addEventListener(e,t);return()=>{for(const e of Tg)removeEventListener(e,t)}},Tx=(t,e)=>RN.useSyncExternalStore($N,t,e),zN=()=>location.search,UN=({ssrSearch:t=""}={})=>Tx(zN,()=>t),Pg=()=>location.pathname,BN=({ssrPath:t}={})=>Tx(Pg,t?()=>t:Pg),WN=(t,{replace:e=!1,state:r=null}={})=>history[e?jm:km](r,"",t),HN=(t={})=>[BN(t),WN],Ag=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ag]>"u"){for(const t of[km,jm]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Ag,{value:!0})}const VN=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Px=(t="")=>t==="/"?"":t,GN=(t,e)=>t[0]==="~"?t.slice(1):Px(e)+t,qN=(t="",e)=>VN(Rg(Px(t)),Rg(e)),Rg=t=>{try{return decodeURI(t)}catch{return t}},Ax={hook:HN,searchHook:UN,parser:kN,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},Rx=m.createContext(Ax),tl=()=>m.useContext(Rx),Ix={},Dx=m.createContext(Ix),KN=()=>m.useContext(Dx),vu=t=>{const[e,r]=t.hook(t);return[qN(t.base,e),Ex((n,s)=>r(GN(n,t.base),s))]},Sm=()=>vu(tl()),Ox=(t,e,r,n)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((d,f)=>[d,c[f]])):o.groups;let h={...c};return u&&Object.assign(h,u),h})(),...n?[l]:[]]:[!1,null]},Mx=({children:t,...e})=>{var h,d;const r=tl(),n=e.hook?Ax:r;let s=n;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let f in n){const p=f==="base"?n[f]+(e[f]||""):e[f]||n[f];c===u&&p!==u[f]&&(l.current=u={...u}),u[f]=p,(p!==n[f]||p!==s[f])&&(s=u)}return m.createElement(Rx.Provider,{value:s,children:t})},Ig=({children:t,component:e},r)=>e?m.createElement(e,{params:r}):typeof t=="function"?t(r):t,QN=t=>{let e=m.useRef(Ix);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,s])=>s!==r[n])?t:r},jd=({path:t,nest:e,match:r,...n})=>{const s=tl(),[i]=vu(s),[o,l,c]=r??Ox(s.parser,t,i,e),u=QN({...KN(),...l});if(!o)return null;const h=c?m.createElement(Mx,{base:c},Ig(n,u)):Ig(n,u);return m.createElement(Dx.Provider,{value:u,children:h})};m.forwardRef((t,e)=>{const r=tl(),[n,s]=vu(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:h,replace:d,state:f,...p}=t,w=Ex(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),s(o,t)))}),v=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:w,href:v}):m.createElement("a",{...p,onClick:w,href:v,className:h!=null&&h.call?h(n===o):h,children:u,ref:e})});const Lx=t=>Array.isArray(t)?t.flatMap(e=>Lx(e&&e.type===m.Fragment?e.props.children:e)):[t],YN=({children:t,location:e})=>{const r=tl(),[n]=vu(r);for(const s of Lx(t)){let i=0;if(m.isValidElement(s)&&(i=Ox(r.parser,s.props.path,e||n,s.props.nest))[0])return m.cloneElement(s,{match:i})}return null};function Fx(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Fx(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $x(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Fx(t))&&(n&&(n+=" "),n+=e);return n}const Nm="-",JN=t=>{const e=ZN(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(Nm);return l[0]===""&&l.length!==1&&l.shift(),zx(l,e)||XN(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},zx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?zx(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Nm);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Dg=/^\[(.+)\]$/,XN=t=>{if(Dg.test(t)){const e=Dg.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},ZN=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return tC(Object.entries(t.classGroups),r).forEach(([i,o])=>{lf(o,n,i,e)}),n},lf=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Og(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(eC(s)){lf(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{lf(o,Og(e,i),r,n)})})},Og=(t,e)=>{let r=t;return e.split(Nm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},eC=t=>t.isThemeGetter,tC=(t,e)=>e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,s]}):t,rC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},Ux="!",nC=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,h=0,d;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(n||l.slice(b,b+i)===e)){c.push(l.slice(h,b)),h=b+i;continue}if(y==="/"){d=b;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(h),p=f.startsWith(Ux),w=p?f.substring(1):f,v=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},sC=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},aC=t=>({cache:rC(t.cacheSize),parseClassName:nC(t),...JN(t)}),iC=/\s+/,oC=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(iC);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let w=!!p,v=n(w?f.substring(0,p):f);if(!v){if(!w){l=u+(l.length>0?" "+l:l);continue}if(v=n(f),!v){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=sC(h).join(":"),y=d?b+Ux:b,g=y+v;if(i.includes(g))continue;i.push(g);const x=s(v,w);for(let k=0;k<x.length;++k){const j=x[k];i.push(y+j)}l=u+(l.length>0?" "+l:l)}return l};function lC(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Bx(e))&&(n&&(n+=" "),n+=r);return n}const Bx=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Bx(t[n]))&&(r&&(r+=" "),r+=e);return r};function cC(t,...e){let r,n,s,i=o;function o(c){const u=e.reduce((h,d)=>d(h),t());return r=aC(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const h=oC(c,r);return s(c,h),h}return function(){return i(lC.apply(null,arguments))}}const Oe=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Wx=/^\[(?:([a-z-]+):)?(.+)\]$/i,uC=/^\d+\/\d+$/,dC=new Set(["px","full","screen"]),hC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hn=t=>ai(t)||dC.has(t)||uC.test(t),Fn=t=>zi(t,"length",SC),ai=t=>!!t&&!Number.isNaN(Number(t)),Sd=t=>zi(t,"number",ai),Zi=t=>!!t&&Number.isInteger(Number(t)),yC=t=>t.endsWith("%")&&ai(t.slice(0,-1)),he=t=>Wx.test(t),$n=t=>hC.test(t),vC=new Set(["length","size","percentage"]),xC=t=>zi(t,vC,Hx),wC=t=>zi(t,"position",Hx),bC=new Set(["image","url"]),kC=t=>zi(t,bC,CC),jC=t=>zi(t,"",NC),eo=()=>!0,zi=(t,e,r)=>{const n=Wx.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},SC=t=>fC.test(t)&&!mC.test(t),Hx=()=>!1,NC=t=>pC.test(t),CC=t=>gC.test(t),_C=()=>{const t=Oe("colors"),e=Oe("spacing"),r=Oe("blur"),n=Oe("brightness"),s=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),l=Oe("borderWidth"),c=Oe("contrast"),u=Oe("grayscale"),h=Oe("hueRotate"),d=Oe("invert"),f=Oe("gap"),p=Oe("gradientColorStops"),w=Oe("gradientColorStopPositions"),v=Oe("inset"),b=Oe("margin"),y=Oe("opacity"),g=Oe("padding"),x=Oe("saturate"),k=Oe("scale"),j=Oe("sepia"),_=Oe("skew"),A=Oe("space"),C=Oe("translate"),I=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",he,e],T=()=>[he,e],K=()=>["",hn,Fn],D=()=>["auto",ai,he],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",he],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ai,he];return{cacheSize:500,separator:":",theme:{colors:[eo],spacing:[hn,Fn],blur:["none","",$n,he],brightness:W(),borderColor:[t],borderRadius:["none","","full",$n,he],borderSpacing:T(),borderWidth:K(),contrast:W(),grayscale:U(),hueRotate:W(),invert:U(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[yC,Fn],inset:G(),margin:G(),opacity:W(),padding:T(),saturate:W(),scale:W(),sepia:U(),skew:W(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[$n]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),he]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zi,he]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Zi,he]}],"grid-cols":[{"grid-cols":[eo]}],"col-start-end":[{col:["auto",{span:["full",Zi,he]},he]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[eo]}],"row-start-end":[{row:["auto",{span:[Zi,he]},he]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[$n]},$n]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$n,Fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sd]}],"font-family":[{font:[eo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",ai,Sd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hn,Fn]}],"underline-offset":[{"underline-offset":["auto",hn,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),wC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[hn,he]}],"outline-w":[{outline:[hn,Fn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[hn,Fn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$n,jC]}],"shadow-color":[{shadow:[eo]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$n,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Zi,he]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hn,Fn,Sd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EC=cC(_C);function Ce(...t){return EC($x(t))}function ie({className:t,...e}){return a.jsx("div",{"data-slot":"card",className:Ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function yr({className:t,...e}){return a.jsx("div",{"data-slot":"card-header",className:Ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function vr({className:t,...e}){return a.jsx("h4",{"data-slot":"card-title",className:Ce("leading-none",t),...e})}function ii({className:t,...e}){return a.jsx("p",{"data-slot":"card-description",className:Ce("text-muted-foreground",t),...e})}function gt({className:t,...e}){return a.jsx("div",{"data-slot":"card-content",className:Ce("px-6 [&:last-child]:pb-6",t),...e})}function Mg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Vx(...t){return e=>{let r=!1;const n=t.map(s=>{const i=Mg(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():Mg(t[s],null)}}}}function nt(...t){return m.useCallback(Vx(...t),t)}function Uo(t){const e=PC(t),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(RC);if(c){const u=c.props.children,h=l.map(d=>d===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:d);return a.jsx(e,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return a.jsx(e,{...o,ref:s,children:i})});return r.displayName=`${t}.Slot`,r}var TC=Uo("Slot");function PC(t){const e=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=DC(s),l=IC(i,s.props);return s.type!==m.Fragment&&(l.ref=n?Vx(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AC=Symbol("radix.slottable");function RC(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AC}function IC(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function DC(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const Lg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Fg=$x,Cm=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Fg(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=r==null?void 0:r[u],d=i==null?void 0:i[u];if(h===null)return null;const f=Lg(h)||Lg(d);return s[u][f]}),l=r&&Object.entries(r).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let{class:d,className:f,...p}=h;return Object.entries(p).every(w=>{let[v,b]=w;return Array.isArray(b)?b.includes({...i,...l}[v]):{...i,...l}[v]===b})?[...u,d,f]:u},[]);return Fg(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},OC=Cm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-amber-400",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?TC:"button";return a.jsx(o,{className:Ce(OC({variant:e,size:r,className:t})),ref:i,...s})});Q.displayName="Button";const MC=Cm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:t,variant:e,...r}){return a.jsx("div",{className:Ce(MC({variant:e}),t),...r})}function Ue({className:t,type:e,...r}){return a.jsx("input",{type:e,"data-slot":"input",className:Ce("file:text-foreground placeholder:text-gray-400 placeholder:opacity-60 selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-10 w-full min-w-0 rounded-md border py-3 px-4 text-base bg-white text-gray-900 text-center transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm leading-tight","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}function LC(t,e){const r=m.createContext(e),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,s]}function Cs(t,e=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=d=>{var y;const{scope:f,children:p,...w}=d,v=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,b=m.useMemo(()=>w,Object.values(w));return a.jsx(v.Provider,{value:b,children:p})};u.displayName=i+"Provider";function h(d,f){var v;const p=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,w=m.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,FC(s,...e)]}function FC(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Gx(t){const e=t+"CollectionProvider",[r,n]=Cs(e),[s,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:y}=v,g=N.useRef(null),x=N.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:x,collectionRef:g,children:y})};o.displayName=e;const l=t+"CollectionSlot",c=Uo(l),u=N.forwardRef((v,b)=>{const{scope:y,children:g}=v,x=i(l,y),k=nt(b,x.collectionRef);return a.jsx(c,{ref:k,children:g})});u.displayName=l;const h=t+"CollectionItemSlot",d="data-radix-collection-item",f=Uo(h),p=N.forwardRef((v,b)=>{const{scope:y,children:g,...x}=v,k=N.useRef(null),j=nt(b,k),_=i(h,y);return N.useEffect(()=>(_.itemMap.set(k,{ref:k,...x}),()=>void _.itemMap.delete(k))),a.jsx(f,{[d]:"",ref:j,children:g})});p.displayName=h;function w(v){const b=i(t+"CollectionConsumer",v);return N.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((_,A)=>x.indexOf(_.ref.current)-x.indexOf(A.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},w,n]}function Ae(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var xs=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$C=bf[" useInsertionEffect ".trim().toString()]||xs;function pa({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,i,o]=zC({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:s;{const h=m.useRef(t!==void 0);m.useEffect(()=>{const d=h.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,n])}const u=m.useCallback(h=>{var d;if(l){const f=UC(h)?h(t):h;f!==t&&((d=o.current)==null||d.call(o,f))}else i(h)},[l,t,i,o]);return[c,u]}function zC({defaultProp:t,onChange:e}){const[r,n]=m.useState(t),s=m.useRef(r),i=m.useRef(e);return $C(()=>{i.current=e},[e]),m.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function UC(t){return typeof t=="function"}var BC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=BC.reduce((t,e)=>{const r=Uo(`Primitive.${e}`),n=m.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function WC(t,e){t&&hm.flushSync(()=>t.dispatchEvent(e))}function HC(t,e){return m.useReducer((r,n)=>e[r][n]??r,t)}var cn=t=>{const{present:e,children:r}=t,n=VC(e),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=nt(n.ref,GC(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};cn.displayName="Presence";function VC(t){const[e,r]=m.useState(),n=m.useRef(null),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[l,c]=HC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Dl(n.current);i.current=l==="mounted"?u:"none"},[l]),xs(()=>{const u=n.current,h=s.current;if(h!==t){const f=i.current,p=Dl(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),xs(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,d=p=>{const v=Dl(n.current).includes(p.animationName);if(p.target===e&&v&&(c("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=p=>{p.target===e&&(i.current=Dl(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Dl(t){return(t==null?void 0:t.animationName)||"none"}function GC(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qC=bf[" useId ".trim().toString()]||(()=>{}),KC=0;function Zs(t){const[e,r]=m.useState(qC());return xs(()=>{r(n=>n??String(KC++))},[t]),t||(e?`radix-${e}`:"")}var xu="Collapsible",[QC,qx]=Cs(xu),[YC,_m]=QC(xu),Kx=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=t,[c,u]=pa({prop:n,defaultProp:s??!1,onChange:o,caller:xu});return a.jsx(YC,{scope:r,disabled:i,contentId:Zs(),open:c,onOpenToggle:m.useCallback(()=>u(h=>!h),[u]),children:a.jsx(Pe.div,{"data-state":Tm(c),"data-disabled":i?"":void 0,...l,ref:e})})});Kx.displayName=xu;var Qx="CollapsibleTrigger",Yx=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,s=_m(Qx,r);return a.jsx(Pe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Tm(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:e,onClick:Ae(t.onClick,s.onOpenToggle)})});Yx.displayName=Qx;var Em="CollapsibleContent",Jx=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=_m(Em,t.__scopeCollapsible);return a.jsx(cn,{present:r||s.open,children:({present:i})=>a.jsx(JC,{...n,ref:e,present:i})})});Jx.displayName=Em;var JC=m.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=t,o=_m(Em,r),[l,c]=m.useState(n),u=m.useRef(null),h=nt(e,u),d=m.useRef(0),f=d.current,p=m.useRef(0),w=p.current,v=o.open||l,b=m.useRef(v),y=m.useRef(void 0);return m.useEffect(()=>{const g=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(g)},[]),xs(()=>{const g=u.current;if(g){y.current=y.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const x=g.getBoundingClientRect();d.current=x.height,p.current=x.width,b.current||(g.style.transitionDuration=y.current.transitionDuration,g.style.animationName=y.current.animationName),c(n)}},[o.open,n]),a.jsx(Pe.div,{"data-state":Tm(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:h,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:v&&s})});function Tm(t){return t?"open":"closed"}var XC=Kx,ZC=Yx,e_=Jx,t_=m.createContext(void 0);function wu(t){const e=m.useContext(t_);return t||e||"ltr"}var Ur="Accordion",r_=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Pm,n_,s_]=Gx(Ur),[bu,xT]=Cs(Ur,[s_,qx]),Am=qx(),Xx=N.forwardRef((t,e)=>{const{type:r,...n}=t,s=n,i=n;return a.jsx(Pm.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?a.jsx(l_,{...i,ref:e}):a.jsx(o_,{...s,ref:e})})});Xx.displayName=Ur;var[Zx,a_]=bu(Ur),[ew,i_]=bu(Ur,{collapsible:!1}),o_=N.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[l,c]=pa({prop:r,defaultProp:n??"",onChange:s,caller:Ur});return a.jsx(Zx,{scope:t.__scopeAccordion,value:N.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:N.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(ew,{scope:t.__scopeAccordion,collapsible:i,children:a.jsx(tw,{...o,ref:e})})})}),l_=N.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=t,[o,l]=pa({prop:r,defaultProp:n??[],onChange:s,caller:Ur}),c=N.useCallback(h=>l((d=[])=>[...d,h]),[l]),u=N.useCallback(h=>l((d=[])=>d.filter(f=>f!==h)),[l]);return a.jsx(Zx,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(ew,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(tw,{...i,ref:e})})})}),[c_,ku]=bu(Ur),tw=N.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=t,l=N.useRef(null),c=nt(l,e),u=n_(r),d=wu(s)==="ltr",f=Ae(t.onKeyDown,p=>{var C;if(!r_.includes(p.key))return;const w=p.target,v=u().filter(I=>{var M;return!((M=I.ref.current)!=null&&M.disabled)}),b=v.findIndex(I=>I.ref.current===w),y=v.length;if(b===-1)return;p.preventDefault();let g=b;const x=0,k=y-1,j=()=>{g=b+1,g>k&&(g=x)},_=()=>{g=b-1,g<x&&(g=k)};switch(p.key){case"Home":g=x;break;case"End":g=k;break;case"ArrowRight":i==="horizontal"&&(d?j():_());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(d?_():j());break;case"ArrowUp":i==="vertical"&&_();break}const A=g%y;(C=v[A].ref.current)==null||C.focus()});return a.jsx(c_,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(Pm.Slot,{scope:r,children:a.jsx(Pe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:f})})})}),Wc="AccordionItem",[u_,Rm]=bu(Wc),rw=N.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...s}=t,i=ku(Wc,r),o=a_(Wc,r),l=Am(r),c=Zs(),u=n&&o.value.includes(n)||!1,h=i.disabled||t.disabled;return a.jsx(u_,{scope:r,open:u,disabled:h,triggerId:c,children:a.jsx(XC,{"data-orientation":i.orientation,"data-state":lw(u),...l,...s,ref:e,disabled:h,open:u,onOpenChange:d=>{d?o.onItemOpen(n):o.onItemClose(n)}})})});rw.displayName=Wc;var nw="AccordionHeader",sw=N.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=ku(Ur,r),i=Rm(nw,r);return a.jsx(Pe.h3,{"data-orientation":s.orientation,"data-state":lw(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:e})});sw.displayName=nw;var cf="AccordionTrigger",aw=N.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=ku(Ur,r),i=Rm(cf,r),o=i_(cf,r),l=Am(r);return a.jsx(Pm.ItemSlot,{scope:r,children:a.jsx(ZC,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:e})})});aw.displayName=cf;var iw="AccordionContent",ow=N.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=ku(Ur,r),i=Rm(iw,r),o=Am(r);return a.jsx(e_,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});ow.displayName=iw;function lw(t){return t?"open":"closed"}var d_=Xx,h_=rw,f_=sw,m_=aw,p_=ow;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cw=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...y_,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:cw("lucide",s),...l},[...o.map(([u,h])=>m.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(t,e)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(v_,{ref:i,iconNode:e,className:cw(`lucide-${g_(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=X("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=X("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=X("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=X("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=X("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=X("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=X("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=X("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=X("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=X("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=X("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=X("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=X("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=X("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=X("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=X("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=X("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=X("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=X("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=X("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=X("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=X("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=X("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=X("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=X("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=X("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=X("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=X("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=X("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=X("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=X("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=X("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=X("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=X("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=X("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=X("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=X("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function X_({...t}){return a.jsx(d_,{"data-slot":"accordion",...t})}function Ml({className:t,...e}){return a.jsx(h_,{"data-slot":"accordion-item",className:Ce("border-b last:border-b-0",t),...e})}function Ll({className:t,children:e,...r}){return a.jsx(f_,{className:"flex",children:a.jsxs(m_,{"data-slot":"accordion-trigger",className:Ce("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,a.jsx(uw,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function Fl({className:t,children:e,...r}){return a.jsx(p_,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:a.jsx("div",{className:Ce("pt-0 pb-4",t),children:e})})}function nr(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Z_(t,e=globalThis==null?void 0:globalThis.document){const r=nr(t);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var eE="DismissableLayer",ff="dismissableLayer.update",tE="dismissableLayer.pointerDownOutside",rE="dismissableLayer.focusOutside",Hg,yw=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vw=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=m.useContext(yw),[h,d]=m.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=nt(e,A=>d(A)),v=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(b),g=h?v.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,k=g>=y,j=aE(A=>{const C=A.target,I=[...u.branches].some(M=>M.contains(C));!k||I||(s==null||s(A),o==null||o(A),A.defaultPrevented||l==null||l())},f),_=iE(A=>{const C=A.target;[...u.branches].some(M=>M.contains(C))||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},f);return Z_(A=>{g===u.layers.size-1&&(n==null||n(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},f),m.useEffect(()=>{if(h)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Hg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Vg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Hg)}},[h,f,r,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Vg())},[h,u]),m.useEffect(()=>{const A=()=>p({});return document.addEventListener(ff,A),()=>document.removeEventListener(ff,A)},[]),a.jsx(Pe.div,{...c,ref:w,style:{pointerEvents:x?k?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,_.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,j.onPointerDownCapture)})});vw.displayName=eE;var nE="DismissableLayerBranch",sE=m.forwardRef((t,e)=>{const r=m.useContext(yw),n=m.useRef(null),s=nt(e,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Pe.div,{...t,ref:s})});sE.displayName=nE;function aE(t,e=globalThis==null?void 0:globalThis.document){const r=nr(t),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){xw(tE,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function iE(t,e=globalThis==null?void 0:globalThis.document){const r=nr(t),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&xw(rE,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Vg(){const t=new CustomEvent(ff);document.dispatchEvent(t)}function xw(t,e,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?WC(s,i):s.dispatchEvent(i)}var Cd="focusScope.autoFocusOnMount",_d="focusScope.autoFocusOnUnmount",Gg={bubbles:!1,cancelable:!0},oE="FocusScope",ww=m.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=m.useState(null),u=nr(s),h=nr(i),d=m.useRef(null),f=nt(e,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(x){if(p.paused||!l)return;const k=x.target;l.contains(k)?d.current=k:Bn(d.current,{select:!0})},b=function(x){if(p.paused||!l)return;const k=x.relatedTarget;k!==null&&(l.contains(k)||Bn(d.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const j of x)j.removedNodes.length>0&&Bn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const g=new MutationObserver(y);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),g.disconnect()}}},[n,l,p.paused]),m.useEffect(()=>{if(l){Kg.add(p);const v=document.activeElement;if(!l.contains(v)){const y=new CustomEvent(Cd,Gg);l.addEventListener(Cd,u),l.dispatchEvent(y),y.defaultPrevented||(lE(fE(bw(l)),{select:!0}),document.activeElement===v&&Bn(l))}return()=>{l.removeEventListener(Cd,u),setTimeout(()=>{const y=new CustomEvent(_d,Gg);l.addEventListener(_d,h),l.dispatchEvent(y),y.defaultPrevented||Bn(v??document.body,{select:!0}),l.removeEventListener(_d,h),Kg.remove(p)},0)}}},[l,u,h,p]);const w=m.useCallback(v=>{if(!r&&!n||p.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(b&&y){const g=v.currentTarget,[x,k]=cE(g);x&&k?!v.shiftKey&&y===k?(v.preventDefault(),r&&Bn(x,{select:!0})):v.shiftKey&&y===x&&(v.preventDefault(),r&&Bn(k,{select:!0})):y===g&&v.preventDefault()}},[r,n,p.paused]);return a.jsx(Pe.div,{tabIndex:-1,...o,ref:f,onKeyDown:w})});ww.displayName=oE;function lE(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Bn(n,{select:e}),document.activeElement!==r)return}function cE(t){const e=bw(t),r=qg(e,t),n=qg(e.reverse(),t);return[r,n]}function bw(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function qg(t,e){for(const r of t)if(!uE(r,{upTo:e}))return r}function uE(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dE(t){return t instanceof HTMLInputElement&&"select"in t}function Bn(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&dE(t)&&e&&t.select()}}var Kg=hE();function hE(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Qg(t,e),t.unshift(e)},remove(e){var r;t=Qg(t,e),(r=t[0])==null||r.resume()}}}function Qg(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function fE(t){return t.filter(e=>e.tagName!=="A")}var mE="Portal",kw=m.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,i]=m.useState(!1);xs(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?$v.createPortal(a.jsx(Pe.div,{...n,ref:e}),o):null});kw.displayName=mE;var Ed=0;function pE(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Yg()),document.body.insertAdjacentElement("beforeend",t[1]??Yg()),Ed++,()=>{Ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ed--}},[])}function Yg(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var en=function(){return en=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},en.apply(this,arguments)};function jw(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function gE(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var cc="right-scroll-bar-position",uc="width-before-scroll-bar",yE="with-scroll-bars-hidden",vE="--removed-body-scroll-bar-size";function Td(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xE(t,e){var r=m.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var wE=typeof window<"u"?m.useLayoutEffect:m.useEffect,Jg=new WeakMap;function bE(t,e){var r=xE(null,function(n){return t.forEach(function(s){return Td(s,n)})});return wE(function(){var n=Jg.get(r);if(n){var s=new Set(n),i=new Set(t),o=r.current;s.forEach(function(l){i.has(l)||Td(l,null)}),i.forEach(function(l){s.has(l)||Td(l,o)})}Jg.set(r,t)},[t]),r}function kE(t){return t}function jE(t,e){e===void 0&&(e=kE);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),r}}}};return s}function SE(t){t===void 0&&(t={});var e=jE(null);return e.options=en({async:!0,ssr:!1},t),e}var Sw=function(t){var e=t.sideCar,r=jw(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,en({},r))};Sw.isSideCarExport=!0;function NE(t,e){return t.useMedium(e),Sw}var Nw=SE(),Pd=function(){},ju=m.forwardRef(function(t,e){var r=m.useRef(null),n=m.useState({onScrollCapture:Pd,onWheelCapture:Pd,onTouchMoveCapture:Pd}),s=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,d=t.shards,f=t.sideCar,p=t.noRelative,w=t.noIsolation,v=t.inert,b=t.allowPinchZoom,y=t.as,g=y===void 0?"div":y,x=t.gapMode,k=jw(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,_=bE([r,e]),A=en(en({},k),s);return m.createElement(m.Fragment,null,h&&m.createElement(j,{sideCar:Nw,removeScrollBar:u,shards:d,noRelative:p,noIsolation:w,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:x}),o?m.cloneElement(m.Children.only(l),en(en({},A),{ref:_})):m.createElement(g,en({},A,{className:c,ref:_}),l))});ju.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ju.classNames={fullWidth:uc,zeroRight:cc};var CE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _E(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=CE();return e&&t.setAttribute("nonce",e),t}function EE(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function TE(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var PE=function(){var t=0,e=null;return{add:function(r){t==0&&(e=_E())&&(EE(e,r),TE(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},AE=function(){var t=PE();return function(e,r){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Cw=function(){var t=AE(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},RE={left:0,top:0,right:0,gap:0},Ad=function(t){return parseInt(t||"",10)||0},IE=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ad(r),Ad(n),Ad(s)]},DE=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RE;var e=IE(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},OE=Cw(),oi="data-scroll-locked",ME=function(t,e,r,n){var s=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(yE,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(oi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(uc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(cc," .").concat(cc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(uc," .").concat(uc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(oi,`] {
    `).concat(vE,": ").concat(l,`px;
  }
`)},Xg=function(){var t=parseInt(document.body.getAttribute(oi)||"0",10);return isFinite(t)?t:0},LE=function(){m.useEffect(function(){return document.body.setAttribute(oi,(Xg()+1).toString()),function(){var t=Xg()-1;t<=0?document.body.removeAttribute(oi):document.body.setAttribute(oi,t.toString())}},[])},FE=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;LE();var i=m.useMemo(function(){return DE(s)},[s]);return m.createElement(OE,{styles:ME(i,!e,s,r?"":"!important")})},mf=!1;if(typeof window<"u")try{var $l=Object.defineProperty({},"passive",{get:function(){return mf=!0,!0}});window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{mf=!1}var Ra=mf?{passive:!1}:!1,$E=function(t){return t.tagName==="TEXTAREA"},_w=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!$E(t)&&r[e]==="visible")},zE=function(t){return _w(t,"overflowY")},UE=function(t){return _w(t,"overflowX")},Zg=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Ew(t,n);if(s){var i=Tw(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},BE=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},WE=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Ew=function(t,e){return t==="v"?zE(e):UE(e)},Tw=function(t,e){return t==="v"?BE(e):WE(e)},HE=function(t,e){return t==="h"&&e==="rtl"?-1:1},VE=function(t,e,r,n,s){var i=HE(t,window.getComputedStyle(e).direction),o=i*n,l=r.target,c=e.contains(l),u=!1,h=o>0,d=0,f=0;do{if(!l)break;var p=Tw(t,l),w=p[0],v=p[1],b=p[2],y=v-b-i*w;(w||y)&&Ew(t,l)&&(d+=y,f+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&Math.abs(d)<1||!h&&Math.abs(f)<1)&&(u=!0),u},zl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},e0=function(t){return[t.deltaX,t.deltaY]},t0=function(t){return t&&"current"in t?t.current:t},GE=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qE=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KE=0,Ia=[];function QE(t){var e=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(KE++)[0],i=m.useState(Cw)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=gE([t.lockRef.current],(t.shards||[]).map(t0),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var y=zl(v),g=r.current,x="deltaX"in v?v.deltaX:g[0]-y[0],k="deltaY"in v?v.deltaY:g[1]-y[1],j,_=v.target,A=Math.abs(x)>Math.abs(k)?"h":"v";if("touches"in v&&A==="h"&&_.type==="range")return!1;var C=Zg(A,_);if(!C)return!0;if(C?j=A:(j=A==="v"?"h":"v",C=Zg(A,_)),!C)return!1;if(!n.current&&"changedTouches"in v&&(x||k)&&(n.current=j),!j)return!0;var I=n.current||j;return VE(I,b,v,I==="h"?x:k)},[]),c=m.useCallback(function(v){var b=v;if(!(!Ia.length||Ia[Ia.length-1]!==i)){var y="deltaY"in b?e0(b):zl(b),g=e.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&GE(j.delta,y)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(t0).filter(Boolean).filter(function(j){return j.contains(b.target)}),k=x.length>0?l(b,x[0]):!o.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(v,b,y,g){var x={name:v,delta:b,target:y,should:g,shadowParent:YE(y)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(k){return k!==x})},1)},[]),h=m.useCallback(function(v){r.current=zl(v),n.current=void 0},[]),d=m.useCallback(function(v){u(v.type,e0(v),v.target,l(v,t.lockRef.current))},[]),f=m.useCallback(function(v){u(v.type,zl(v),v.target,l(v,t.lockRef.current))},[]);m.useEffect(function(){return Ia.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ra),document.addEventListener("touchmove",c,Ra),document.addEventListener("touchstart",h,Ra),function(){Ia=Ia.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ra),document.removeEventListener("touchmove",c,Ra),document.removeEventListener("touchstart",h,Ra)}},[]);var p=t.removeScrollBar,w=t.inert;return m.createElement(m.Fragment,null,w?m.createElement(i,{styles:qE(s)}):null,p?m.createElement(FE,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YE(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const JE=NE(Nw,QE);var Pw=m.forwardRef(function(t,e){return m.createElement(ju,en({},t,{ref:e,sideCar:JE}))});Pw.classNames=ju.classNames;var XE=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Da=new WeakMap,Ul=new WeakMap,Bl={},Rd=0,Aw=function(t){return t&&(t.host||Aw(t.parentNode))},ZE=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=Aw(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},e4=function(t,e,r,n){var s=ZE(e,Array.isArray(t)?t:[t]);Bl[r]||(Bl[r]=new WeakMap);var i=Bl[r],o=[],l=new Set,c=new Set(s),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};s.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(f){if(l.has(f))h(f);else try{var p=f.getAttribute(n),w=p!==null&&p!=="false",v=(Da.get(f)||0)+1,b=(i.get(f)||0)+1;Da.set(f,v),i.set(f,b),o.push(f),v===1&&w&&Ul.set(f,!0),b===1&&f.setAttribute(r,"true"),w||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return h(e),l.clear(),Rd++,function(){o.forEach(function(d){var f=Da.get(d)-1,p=i.get(d)-1;Da.set(d,f),i.set(d,p),f||(Ul.has(d)||d.removeAttribute(n),Ul.delete(d)),p||d.removeAttribute(r)}),Rd--,Rd||(Da=new WeakMap,Da=new WeakMap,Ul=new WeakMap,Bl={})}},t4=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=XE(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),e4(n,s,r,"aria-hidden")):function(){return null}},Su="Dialog",[Rw,wT]=Cs(Su),[r4,Br]=Rw(Su),Iw=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=m.useRef(null),c=m.useRef(null),[u,h]=pa({prop:n,defaultProp:s??!1,onChange:i,caller:Su});return a.jsx(r4,{scope:e,triggerRef:l,contentRef:c,contentId:Zs(),titleId:Zs(),descriptionId:Zs(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(d=>!d),[h]),modal:o,children:r})};Iw.displayName=Su;var Dw="DialogTrigger",Ow=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Br(Dw,r),i=nt(e,s.triggerRef);return a.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mm(s.open),...n,ref:i,onClick:Ae(t.onClick,s.onOpenToggle)})});Ow.displayName=Dw;var Dm="DialogPortal",[n4,Mw]=Rw(Dm,{forceMount:void 0}),Lw=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,i=Br(Dm,e);return a.jsx(n4,{scope:e,forceMount:r,children:m.Children.map(n,o=>a.jsx(cn,{present:r||i.open,children:a.jsx(kw,{asChild:!0,container:s,children:o})}))})};Lw.displayName=Dm;var Gc="DialogOverlay",Fw=m.forwardRef((t,e)=>{const r=Mw(Gc,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Br(Gc,t.__scopeDialog);return i.modal?a.jsx(cn,{present:n||i.open,children:a.jsx(a4,{...s,ref:e})}):null});Fw.displayName=Gc;var s4=Uo("DialogOverlay.RemoveScroll"),a4=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Br(Gc,r);return a.jsx(Pw,{as:s4,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Pe.div,{"data-state":Mm(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ua="DialogContent",$w=m.forwardRef((t,e)=>{const r=Mw(ua,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,i=Br(ua,t.__scopeDialog);return a.jsx(cn,{present:n||i.open,children:i.modal?a.jsx(i4,{...s,ref:e}):a.jsx(o4,{...s,ref:e})})});$w.displayName=ua;var i4=m.forwardRef((t,e)=>{const r=Br(ua,t.__scopeDialog),n=m.useRef(null),s=nt(e,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return t4(i)},[]),a.jsx(zw,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,i=>i.preventDefault())})}),o4=m.forwardRef((t,e)=>{const r=Br(ua,t.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(zw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),zw=m.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Br(ua,r),c=m.useRef(null),u=nt(e,c);return pE(),a.jsxs(a.Fragment,{children:[a.jsx(ww,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(vw,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Mm(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(l4,{titleId:l.titleId}),a.jsx(u4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Om="DialogTitle",Uw=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Br(Om,r);return a.jsx(Pe.h2,{id:s.titleId,...n,ref:e})});Uw.displayName=Om;var Bw="DialogDescription",Ww=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Br(Bw,r);return a.jsx(Pe.p,{id:s.descriptionId,...n,ref:e})});Ww.displayName=Bw;var Hw="DialogClose",Vw=m.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Br(Hw,r);return a.jsx(Pe.button,{type:"button",...n,ref:e,onClick:Ae(t.onClick,()=>s.onOpenChange(!1))})});Vw.displayName=Hw;function Mm(t){return t?"open":"closed"}var Gw="DialogTitleWarning",[bT,qw]=LC(Gw,{contentName:ua,titleName:Om,docsSlug:"dialog"}),l4=({titleId:t})=>{const e=qw(Gw),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},c4="DialogDescriptionWarning",u4=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qw(c4).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},d4=Iw,h4=Ow,f4=Lw,Kw=Fw,m4=$w,p4=Uw,g4=Ww,y4=Vw;function Nu({...t}){return a.jsx(d4,{"data-slot":"dialog",...t})}function Qw({...t}){return a.jsx(h4,{"data-slot":"dialog-trigger",...t})}function v4({...t}){return a.jsx(f4,{"data-slot":"dialog-portal",...t})}const Yw=m.forwardRef(({className:t,...e},r)=>a.jsx(Kw,{ref:r,"data-slot":"dialog-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 backdrop-blur-sm bg-black/30",t),...e}));Yw.displayName=Kw.displayName;function Cu({className:t,children:e,...r}){return a.jsxs(v4,{"data-slot":"dialog-portal",children:[a.jsx(Yw,{}),a.jsxs(m4,{"data-slot":"dialog-content",className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,a.jsxs(y4,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(ln,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function _u({className:t,...e}){return a.jsx("div",{"data-slot":"dialog-header",className:Ce("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Eu({className:t,...e}){return a.jsx(p4,{"data-slot":"dialog-title",className:Ce("text-lg leading-none font-semibold",t),...e})}function x4({className:t,...e}){return a.jsx(g4,{"data-slot":"dialog-description",className:Ce("text-muted-foreground text-sm",t),...e})}function w4(){return Cn({queryKey:["/api/achievements"],queryFn:async()=>(await(await je("GET","/api/achievements")).json()).achievements,staleTime:5*60*1e3})}function Jw(){const t=Li();return on({mutationFn:async()=>(await je("POST","/api/achievements/check")).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/achievements"]})}})}function b4(t){return{target:"",flame:"",zap:"",utensils:"",calendar:"",trophy:"",star:"",medal:""}[t||"star"]||""}function k4(t){const e=new Date(t),n=(new Date().getTime()-e.getTime())/(1e3*60*60);return n<1?"Just now":n<24?"Today":n<48?"Yesterday":n<168?`${Math.floor(n/24)} days ago`:e.toLocaleDateString()}const Wl={categories:{Flours:{all_purpose_flour:{displayName:"All-Purpose Flour",aliases:["AP flour","plain flour","all purpose"],usdaQuery:"all purpose flour",units:{cup:120,"3/4_cup":105,"2/3_cup":93,"1/2_cup":70,"1/3_cup":47,"1/4_cup":35,"1/8_cup":18,tbsp:9,tsp:3,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#F4E1A1"}},bread_flour:{displayName:"Bread Flour",aliases:["high protein flour","strong flour"],usdaQuery:"bread flour",units:{cup:127,"3/4_cup":95,"1/2_cup":64,"1/3_cup":42,"1/4_cup":32,tbsp:8,tsp:2.7,oz:28,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#F4E1A1"}},cake_flour:{displayName:"Cake Flour",aliases:["pastry flour","soft flour"],usdaQuery:"cake flour",units:{cup:114,"3/4_cup":86,"1/2_cup":57,"1/3_cup":38,"1/4_cup":29,tbsp:7,tsp:2.4,oz:28,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#F4E1A1"}},whole_wheat_flour:{displayName:"Whole Wheat Flour",aliases:["whole grain flour","wholemeal flour"],usdaQuery:"whole wheat flour",units:{cup:113,"3/4_cup":85,"1/2_cup":57,"1/3_cup":38,"1/4_cup":28,tbsp:7,tsp:2.3,oz:28,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#F4E1A1"}}},"Oils & Fats":{olive_oil:{displayName:"Olive Oil",aliases:["extra virgin olive oil","EVOO"],usdaQuery:"olive oil",units:{cup:216,"3/4_cup":162,"2/3_cup":144,"1/2_cup":108,"1/3_cup":72,"1/4_cup":54,tbsp:14,tsp:5,fl_oz:30,ml:.92,l:920,g:1},tags:{isCommon:!0,densityType:"liquid",dietType:["vegetarian","vegan","keto"],categoryColor:"#FFD580"}},butter:{displayName:"Butter",aliases:["unsalted butter","salted butter"],usdaQuery:"butter",units:{cup:227,"3/4_cup":170,"2/3_cup":151,"1/2_cup":113,"1/3_cup":76,"1/4_cup":57,tbsp:14,tsp:5,stick:113,oz:28,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian"],categoryColor:"#FFD580"}},coconut_oil:{displayName:"Coconut Oil",aliases:["virgin coconut oil","refined coconut oil"],usdaQuery:"coconut oil",units:{cup:218,"3/4_cup":164,"1/2_cup":109,"1/3_cup":73,"1/4_cup":55,tbsp:14,tsp:5,oz:28,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian","vegan","keto"],categoryColor:"#FFD580"}}},"Dairy & Eggs":{egg_large:{displayName:"Egg (Large)",aliases:["large egg","whole egg"],usdaQuery:"egg large",units:{piece:55,cup:275,"1/2_cup":138,"1/4_cup":69,yolk:20,white:35,dozen:660,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian"],categoryColor:"#FDD692"}},milk_whole:{displayName:"Milk (Whole)",aliases:["whole milk","3.25% milk"],usdaQuery:"milk whole",units:{cup:244,"3/4_cup":183,"2/3_cup":163,"1/2_cup":122,"1/3_cup":81,"1/4_cup":61,"1/8_cup":30,tbsp:15,tsp:5,fl_oz:30,pt:488,qt:976,gal:3904,ml:1.03,l:1030,g:1},tags:{isCommon:!0,densityType:"liquid",dietType:["vegetarian"],categoryColor:"#FDD692"}},heavy_cream:{displayName:"Heavy Cream",aliases:["heavy whipping cream","double cream"],usdaQuery:"heavy cream",units:{cup:240,"3/4_cup":180,"1/2_cup":120,"1/3_cup":80,"1/4_cup":60,tbsp:15,tsp:5,fl_oz:30,ml:.98,g:1},tags:{isCommon:!0,densityType:"liquid",dietType:["vegetarian","keto"],categoryColor:"#FDD692"}},cheddar_cheese:{displayName:"Cheddar Cheese",aliases:["sharp cheddar","mild cheddar"],usdaQuery:"cheddar cheese",units:{cup_shredded:113,"1/2_cup_shredded":57,"1/4_cup_shredded":28,oz:28,slice:28,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian"],categoryColor:"#FDD692"}}},"Sugars & Sweeteners":{granulated_sugar:{displayName:"Granulated Sugar",aliases:["white sugar","table sugar","refined sugar"],usdaQuery:"sugar granulated",units:{cup:198,"3/4_cup":150,"2/3_cup":133,"1/2_cup":100,"1/3_cup":67,"1/4_cup":50,"1/8_cup":25,tbsp:13,tsp:4,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#F8E8FF"}},brown_sugar:{displayName:"Brown Sugar (Packed)",aliases:["light brown sugar","dark brown sugar"],usdaQuery:"brown sugar",units:{cup_packed:213,"3/4_cup_packed":165,"2/3_cup_packed":145,"1/2_cup_packed":110,"1/3_cup_packed":75,"1/4_cup_packed":55,tbsp:15,tsp:5,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#F8E8FF"}},honey:{displayName:"Honey",aliases:["pure honey","raw honey"],usdaQuery:"honey",units:{cup:320,"3/4_cup":240,"2/3_cup":213,"1/2_cup":160,"1/3_cup":107,"1/4_cup":80,tbsp:20,tsp:7,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"liquid",dietType:["vegetarian"],categoryColor:"#F8E8FF"}},powdered_sugar:{displayName:"Powdered Sugar",aliases:["confectioners sugar","icing sugar"],usdaQuery:"powdered sugar",units:{cup:160,"3/4_cup":120,"2/3_cup":107,"1/2_cup":80,"1/3_cup":53,"1/4_cup":40,tbsp:10,tsp:3.3,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#F8E8FF"}},maple_syrup:{displayName:"Maple Syrup",aliases:["pure maple syrup","real maple syrup"],usdaQuery:"maple syrup",units:{cup:312,"3/4_cup":234,"2/3_cup":208,"1/2_cup":156,"1/3_cup":104,"1/4_cup":78,tbsp:20,tsp:7,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"liquid",dietType:["vegetarian","vegan"],categoryColor:"#F8E8FF"}}},Grains:{white_rice:{displayName:"White Rice",aliases:["long grain rice","jasmine rice"],usdaQuery:"white rice cooked",units:{cup_cooked:158,cup_dry:185,"3/4_cup_cooked":119,"1/2_cup_cooked":79,"1/3_cup_cooked":53,"1/4_cup_cooked":40,tbsp:10,oz:28,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian","vegan"],categoryColor:"#F4E4BC"}},quinoa:{displayName:"Quinoa",aliases:["cooked quinoa","quinoa grain"],usdaQuery:"quinoa cooked",units:{cup_cooked:185,cup_dry:170,"1/2_cup_cooked":93,"1/3_cup_cooked":62,"1/4_cup_cooked":46,oz:28,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian","vegan","gluten-free"],categoryColor:"#F4E4BC"}},oats:{displayName:"Rolled Oats",aliases:["old fashioned oats","oatmeal","quick oats"],usdaQuery:"oats rolled dry",units:{cup:81,"3/4_cup":61,"1/2_cup":41,"1/3_cup":27,"1/4_cup":20,tbsp:5,tsp:1.7,oz:28,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan","gluten-free"],categoryColor:"#F4E4BC"}}},"Nuts & Seeds":{almonds:{displayName:"Almonds",aliases:["raw almonds","whole almonds"],usdaQuery:"almonds raw",units:{cup_whole:142,cup_sliced:100,cup_slivered:108,"1/2_cup_whole":71,"1/4_cup_whole":36,tbsp:9,oz:28.35,"23_almonds":28,handful:28,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian","vegan","keto","gluten-free"],categoryColor:"#D4A574"}},walnuts:{displayName:"Walnuts",aliases:["english walnuts","walnut halves"],usdaQuery:"walnuts english",units:{cup_halves:90,cup_chopped:113,"3/4_cup_halves":68,"2/3_cup_halves":60,"1/2_cup_halves":45,"1/3_cup_halves":30,"1/4_cup_halves":23,tbsp:7,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian","vegan","keto","gluten-free"],categoryColor:"#D4A574"}},peanut_butter:{displayName:"Peanut Butter",aliases:["smooth peanut butter","creamy peanut butter"],usdaQuery:"peanut butter",units:{cup:270,"3/4_cup":203,"1/2_cup":135,"1/3_cup":90,"1/4_cup":68,tbsp:17,tsp:6,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian","vegan"],categoryColor:"#D4A574"}},sesame_seeds:{displayName:"Sesame Seeds",aliases:["white sesame seeds","hulled sesame seeds"],usdaQuery:"sesame seeds",units:{cup:144,"1/2_cup":71,"1/4_cup":36,tbsp:9,tsp:3,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian","vegan","keto"],categoryColor:"#D4A574"}}},"Baking Ingredients":{cocoa_powder:{displayName:"Cocoa Powder (Unsweetened)",aliases:["unsweetened cocoa","cocoa powder"],usdaQuery:"cocoa powder unsweetened",units:{cup:100,"3/4_cup":75,"2/3_cup":67,"1/2_cup":50,"1/3_cup":33,"1/4_cup":25,tbsp:6,tsp:2,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#8B4513"}},baking_powder:{displayName:"Baking Powder",aliases:["double acting baking powder"],usdaQuery:"baking powder",units:{tbsp:12,"2.5_tsp":10,"2_tsp":8,"1.75_tsp":7,"1.5_tsp":6,"1.25_tsp":5,tsp:4,"0.75_tsp":3,"0.5_tsp":2,"0.25_tsp":1,oz:28.35,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#FFF8DC"}},baking_soda:{displayName:"Baking Soda",aliases:["sodium bicarbonate"],usdaQuery:"baking soda",units:{tbsp:20,"2_tsp":14,"1.75_tsp":12,"1.5_tsp":10,"1.25_tsp":9,tsp:7,"0.75_tsp":5,"0.5_tsp":3,"0.25_tsp":2,oz:28.35,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#FFF8DC"}},vanilla_extract:{displayName:"Vanilla Extract",aliases:["pure vanilla extract"],usdaQuery:"vanilla extract",units:{tbsp:14,tsp:5,"0.5_tsp":2.5,fl_oz:30,ml:1,oz:28.35,g:1},tags:{isCommon:!0,densityType:"liquid",dietType:["vegetarian","vegan"],categoryColor:"#8B4513"}},salt:{displayName:"Salt (Table Salt)",aliases:["fine salt","table salt","iodized salt"],usdaQuery:"salt table",units:{tbsp:18,tsp:6,"0.5_tsp":3,"0.25_tsp":1.5,oz:28.35,lb:454,g:1},tags:{isCommon:!0,densityType:"dry",dietType:["vegetarian","vegan"],categoryColor:"#FFFFFF"}}},"Canned Goods":{canned_tomatoes:{displayName:"Canned Diced Tomatoes",aliases:["diced tomatoes","canned tomatoes"],usdaQuery:"tomatoes canned diced",units:{"can_14.5oz":411,can_28oz:794,"#10_can":3e3,cup:244,"1/2_cup":122,oz:28,g:1},tags:{isCommon:!0,densityType:"liquid",dietType:["vegetarian","vegan"],categoryColor:"#FFB3B3"}},canned_beans:{displayName:"Canned Black Beans",aliases:["black beans","canned black beans"],usdaQuery:"black beans canned",units:{can_15oz:425,can_15oz_drained:255,"#10_can":3e3,"#10_can_drained":1936,cup:240,"1/2_cup":120,oz:28,g:1},tags:{isCommon:!0,densityType:"solid",dietType:["vegetarian","vegan","gluten-free"],categoryColor:"#C8A882"}}}}};class j4{static searchIngredients(e){const r=[],n=e.toLowerCase();return Object.entries(Wl.categories).forEach(([s,i])=>{Object.entries(i).forEach(([o,l])=>{if(l.displayName.toLowerCase().includes(n)){r.push({category:s,key:o,data:l});return}if(l.aliases.some(c=>c.toLowerCase().includes(n))){r.push({category:s,key:o,data:l});return}})}),r.sort((s,i)=>s.data.tags.isCommon&&!i.data.tags.isCommon?-1:!s.data.tags.isCommon&&i.data.tags.isCommon?1:s.data.displayName.localeCompare(i.data.displayName))}static getIngredient(e,r){var n;return((n=Wl.categories[e])==null?void 0:n[r])||null}static convertUnits(e,r,n,s,i){const o=this.getIngredient(e,r);if(!o)return null;const l=o.units[s],c=o.units[i];if(!l||!c)return null;const h=n*l/c,d=this.isPreciseMeasurement(s,i)?"exact":"approximate";return{amount:h,precision:d}}static isPreciseMeasurement(e,r){const n=["g","oz","lb","ml","l"],s=["cup","tbsp","tsp"];return!!(n.includes(e)&&n.includes(r)||s.some(i=>e.includes(i))&&s.some(i=>r.includes(i)))}static getAvailableUnits(e,r){const n=this.getIngredient(e,r);return n?Object.keys(n.units).sort():[]}static getCategories(){return Object.keys(Wl.categories)}static getCategoryIngredients(e){const r=Wl.categories[e];return r?Object.entries(r).map(([n,s])=>({key:n,data:s})).sort((n,s)=>n.data.tags.isCommon&&!s.data.tags.isCommon?-1:!n.data.tags.isCommon&&s.data.tags.isCommon?1:n.data.displayName.localeCompare(s.data.displayName)):[]}static getConversionSuggestions(e,r,n){const s=this.getIngredient(e,r);if(!s)return[];const i=[],o=s.tags.densityType;return o==="dry"?(n!=="cup"&&i.push("cup"),n!=="g"&&i.push("g"),n!=="oz"&&i.push("oz")):o==="liquid"&&(n!=="cup"&&i.push("cup"),n!=="ml"&&i.push("ml"),n!=="fl_oz"&&i.push("fl_oz")),i.filter(l=>s.units[l])}}function Ze(t=new Date){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return new Intl.DateTimeFormat("en-CA",{timeZone:e,year:"numeric",month:"2-digit",day:"2-digit"}).format(t)}catch{const r=t.getTimezoneOffset(),n=new Date(t.getTime()-r*60*1e3),s=n.getUTCFullYear(),i=String(n.getUTCMonth()+1).padStart(2,"0"),o=String(n.getUTCDate()).padStart(2,"0");return`${s}-${i}-${o}`}}function S4(){return Intl.DateTimeFormat().resolvedOptions().timeZone}function dc(t){return t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:S4()})}function ea(t=new Date){const e=t.getHours();return e>=5&&e<11?"breakfast":e>=11&&e<16?"lunch":e>=16&&e<21?"dinner":"snack"}function N4(t=new Date){const e=Ze(t),[r,n,s]=e.split("-").map(Number),l=-new Date(r,n-1,s,12,0,0,0).getDay();return new Date(r,n-1,s+l,12,0,0,0)}function $a(t=new Date){const e=N4(t),r=[],n=e.getFullYear(),s=e.getMonth(),i=e.getDate();for(let o=0;o<7;o++){const l=new Date(n,s,i+o,12,0,0,0);r.push(l)}return r}const ur={"potato chips":{category:"snacks",fdaRACCgrams:28,commonDescription:"1 oz (about 15 chips)",alternativeUnits:["1 oz","handful","small bag"],visualReference:"handful",warningThreshold:85},"tortilla chips":{category:"snacks",fdaRACCgrams:28,commonDescription:"1 oz (about 10-12 chips)",alternativeUnits:["1 oz","10-12 chips"],visualReference:"handful",warningThreshold:85},"corn chips":{category:"snacks",fdaRACCgrams:28,commonDescription:"1 oz",alternativeUnits:["1 oz","handful"],visualReference:"handful",warningThreshold:85},pretzels:{category:"snacks",fdaRACCgrams:30,commonDescription:"1 oz (about 20 mini pretzels)",alternativeUnits:["1 oz","20 mini pretzels","2-3 large pretzels"],visualReference:"handful",warningThreshold:90},popcorn:{category:"snacks",fdaRACCgrams:28,commonDescription:"3 cups popped",alternativeUnits:["3 cups popped","1 oz"],visualReference:"large handful",warningThreshold:85},crackers:{category:"grain",fdaRACCgrams:30,commonDescription:"1 oz (about 6-8 crackers)",alternativeUnits:["1 oz","6-8 crackers"],visualReference:"palm-sized portion",warningThreshold:90},cookies:{category:"dessert",fdaRACCgrams:30,commonDescription:"1 oz (2-3 medium cookies)",alternativeUnits:["1 oz","2-3 cookies"],visualReference:"2-3 cookies",warningThreshold:90},"graham crackers":{category:"grain",fdaRACCgrams:30,commonDescription:"1 oz (2 full sheets)",alternativeUnits:["1 oz","2 full sheets"],visualReference:"2 full crackers",warningThreshold:90},nuts:{category:"protein",fdaRACCgrams:28,commonDescription:"1 oz (about 24 almonds)",alternativeUnits:["1 oz","24 almonds","18 cashews","28 peanuts"],visualReference:"handful",warningThreshold:85},almonds:{category:"protein",fdaRACCgrams:28,commonDescription:"1 oz (24 almonds)",alternativeUnits:["1 oz","24 almonds"],visualReference:"handful",warningThreshold:85},peanuts:{category:"protein",fdaRACCgrams:28,commonDescription:"1 oz (28 peanuts)",alternativeUnits:["1 oz","28 peanuts"],visualReference:"handful",warningThreshold:85},"nut butter":{category:"protein",fdaRACCgrams:32,commonDescription:"2 tbsp",alternativeUnits:["2 tbsp","32g"],visualReference:"ping pong ball",warningThreshold:95},"hard candy":{category:"candy",fdaRACCgrams:15,commonDescription:"0.5 oz (3-4 pieces)",alternativeUnits:["0.5 oz","3-4 pieces"],visualReference:"3-4 pieces",warningThreshold:45},"soft candy":{category:"candy",fdaRACCgrams:40,commonDescription:"1.4 oz",alternativeUnits:["1.4 oz","fun-size bar"],visualReference:"fun-size bar",warningThreshold:120},chocolate:{category:"candy",fdaRACCgrams:40,commonDescription:"1.4 oz (3-4 squares)",alternativeUnits:["1.4 oz","3-4 squares"],visualReference:"3-4 squares",warningThreshold:120},"gummy candy":{category:"candy",fdaRACCgrams:40,commonDescription:"1.4 oz",alternativeUnits:["1.4 oz","12-15 pieces"],visualReference:"handful",warningThreshold:120},"ice cream":{category:"dairy",fdaRACCgrams:66,commonDescription:"2/3 cup",alternativeUnits:["2/3 cup","1 scoop"],visualReference:"tennis ball",warningThreshold:200},"ice cream bar":{category:"dairy",fdaRACCgrams:60,commonDescription:"1 bar",alternativeUnits:["1 bar","1 piece"],visualReference:"1 bar",warningThreshold:180},popsicle:{category:"dairy",fdaRACCgrams:50,commonDescription:"1 popsicle",alternativeUnits:["1 popsicle","1 piece"],visualReference:"1 popsicle",warningThreshold:150},"beef jerky":{category:"protein",fdaRACCgrams:30,commonDescription:"1 oz",alternativeUnits:["1 oz","1 piece"],visualReference:"1 piece",warningThreshold:90},meat:{category:"protein",fdaRACCgrams:85,commonDescription:"3 oz cooked",alternativeUnits:["3 oz","deck of cards"],visualReference:"deck of cards",warningThreshold:255},"chicken breast":{category:"protein",fdaRACCgrams:85,commonDescription:"3 oz cooked",alternativeUnits:["3 oz","palm of hand"],visualReference:"palm of hand",warningThreshold:255},bread:{category:"grain",fdaRACCgrams:28,commonDescription:"1 slice",alternativeUnits:["1 slice","1 oz"],visualReference:"1 slice",warningThreshold:85},bagel:{category:"grain",fdaRACCgrams:55,commonDescription:"1/2 medium bagel",alternativeUnits:["1/2 bagel","2 oz"],visualReference:"1/2 bagel",warningThreshold:165},rice:{category:"grain",fdaRACCgrams:125,commonDescription:"1/2 cup cooked",alternativeUnits:["1/2 cup cooked","4.4 oz"],visualReference:"tennis ball",warningThreshold:375},pasta:{category:"grain",fdaRACCgrams:125,commonDescription:"1/2 cup cooked",alternativeUnits:["1/2 cup cooked","4.4 oz"],visualReference:"tennis ball",warningThreshold:375},cereal:{category:"grain",fdaRACCgrams:30,commonDescription:"1 cup (varies by type)",alternativeUnits:["1 cup","1 oz"],visualReference:"1 cup",warningThreshold:90},milk:{category:"dairy",fdaRACCgrams:240,commonDescription:"1 cup",alternativeUnits:["1 cup","8 fl oz"],visualReference:"1 cup",warningThreshold:480},yogurt:{category:"dairy",fdaRACCgrams:170,commonDescription:"6 oz container",alternativeUnits:["6 oz","3/4 cup"],visualReference:"1 container",warningThreshold:340},cheese:{category:"dairy",fdaRACCgrams:42,commonDescription:"1.5 oz (size of 4 dice)",alternativeUnits:["1.5 oz","4 dice"],visualReference:"4 dice",warningThreshold:125},apple:{category:"fruit",fdaRACCgrams:154,commonDescription:"1 medium apple",alternativeUnits:["1 medium","baseball size"],visualReference:"baseball",warningThreshold:460},banana:{category:"fruit",fdaRACCgrams:126,commonDescription:"1 medium banana",alternativeUnits:["1 medium"],visualReference:"1 medium",warningThreshold:380},orange:{category:"fruit",fdaRACCgrams:154,commonDescription:"1 medium orange",alternativeUnits:["1 medium"],visualReference:"baseball",warningThreshold:460},carrots:{category:"vegetable",fdaRACCgrams:85,commonDescription:"1/2 cup cooked or 1 large raw",alternativeUnits:["1/2 cup cooked","1 large raw"],visualReference:"large carrot",warningThreshold:255},broccoli:{category:"vegetable",fdaRACCgrams:85,commonDescription:"1/2 cup cooked",alternativeUnits:["1/2 cup cooked","3 oz"],visualReference:"tennis ball",warningThreshold:255},lettuce:{category:"vegetable",fdaRACCgrams:85,commonDescription:"3 cups raw",alternativeUnits:["3 cups raw","3 oz"],visualReference:"3 cups",warningThreshold:255}};function Lm(t){const e=t.toLowerCase().trim();if(ur[e])return ur[e];for(const[r,n]of Object.entries(ur))if(e.includes(r)||r.includes(e))return n;return e.includes("ice cream bar")||e.includes("ice cream sandwich")?ur["ice cream bar"]:e.includes("popsicle")||e.includes("ice pop")?ur.popsicle:e.includes("ice cream")?ur["ice cream"]:e.includes("chip")?ur["potato chips"]:e.includes("nut")&&!e.includes("butter")?ur.nuts:e.includes("candy")?ur["soft candy"]:e.includes("cookie")?ur.cookies:e.includes("cracker")?ur.crackers:e.includes("jerky")?ur["beef jerky"]:null}function C4(t,e){var s,i,o;const r=Lm(t);if(!r)return{isReasonable:!0};const n=e/r.fdaRACCgrams;return e>(r.warningThreshold||r.fdaRACCgrams*3)?{isReasonable:!1,warning:`Your portion (${e}g) vs FDA standard (${r.fdaRACCgrams}g) - ${Math.round(n)}x larger`,recommendation:`Try: ${r.commonDescription}  Or: ${((s=r.alternativeUnits)==null?void 0:s.join("  "))||"standard serving"}`,fdaServing:r.commonDescription}:n>2?{isReasonable:!1,warning:`Your portion (${e}g) vs FDA standard (${r.fdaRACCgrams}g) - ${Math.round(n)}x larger`,recommendation:`Try: ${r.commonDescription}  Or: ${((i=r.alternativeUnits)==null?void 0:i.join("  "))||"standard serving"}`,fdaServing:r.commonDescription}:n<.3?{isReasonable:!1,warning:`Your portion (${e}g) vs FDA standard (${r.fdaRACCgrams}g) - seems too small`,recommendation:`Try: ${r.commonDescription}  Or: ${((o=r.alternativeUnits)==null?void 0:o.join("  "))||"standard serving"}`,fdaServing:r.commonDescription}:{isReasonable:!0,fdaServing:r.commonDescription}}function _4(t){const e=Lm(t);return(e==null?void 0:e.visualReference)||null}function E4(t,e){const r=t.toLowerCase().trim(),n=r.match(/(\d+(?:\.\d+)?)\s*g(?!\w)/);if(n)return parseFloat(n[1]);const s=r.match(/(\d+(?:\.\d+)?)\s*oz/);if(s)return parseFloat(s[1])*28.35;const i=r.match(/(\d+(?:\/\d+)?|\d*\.\d+)\s*cups?/);if(i){const u=parseFloat(i[1]);let h;return e!=null&&e.includes("ice cream")?h=u*99:e!=null&&e.includes("milk")?h=u*240:e!=null&&e.includes("rice")||e!=null&&e.includes("pasta")?h=u*125:h=u*120,h}const o=r.match(/(\d+(?:\.\d+)?)\s*(?:tbsp|tablespoons?)/);if(o)return parseFloat(o[1])*15;const l=r.match(/(\d+(?:\.\d+)?)\s*(?:tsp|teaspoons?)/);if(l)return parseFloat(l[1])*5;if(r.match(/^\d+\s*t$/))return parseInt(r)*15;const c=r.match(/(\d+)\s*(?:pieces?|bars?|pops?|whole|medium|large|small)/);if(c){const u=parseInt(c[1]),h=Lm(e||"");if(h)return u*h.fdaRACCgrams}return 0}function T4(t,[e,r]){return Math.min(r,Math.max(e,t))}function P4(t,e){return m.useReducer((r,n)=>e[r][n]??r,t)}var Fm="ScrollArea",[Xw,kT]=Cs(Fm),[A4,jr]=Xw(Fm),Zw=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=t,[l,c]=m.useState(null),[u,h]=m.useState(null),[d,f]=m.useState(null),[p,w]=m.useState(null),[v,b]=m.useState(null),[y,g]=m.useState(0),[x,k]=m.useState(0),[j,_]=m.useState(!1),[A,C]=m.useState(!1),I=nt(e,G=>c(G)),M=wu(s);return a.jsx(A4,{scope:r,type:n,dir:M,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:h,content:d,onContentChange:f,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:A,onScrollbarYEnabledChange:C,onCornerWidthChange:g,onCornerHeightChange:k,children:a.jsx(Pe.div,{dir:M,...o,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});Zw.displayName=Fm;var eb="ScrollAreaViewport",tb=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=t,o=jr(eb,r),l=m.useRef(null),c=nt(e,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});tb.displayName=eb;var un="ScrollAreaScrollbar",$m=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=jr(un,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(R4,{...n,ref:e,forceMount:r}):s.type==="scroll"?a.jsx(I4,{...n,ref:e,forceMount:r}):s.type==="auto"?a.jsx(rb,{...n,ref:e,forceMount:r}):s.type==="always"?a.jsx(zm,{...n,ref:e}):null});$m.displayName=un;var R4=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=jr(un,t.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(cn,{present:r||i,children:a.jsx(rb,{"data-state":i?"visible":"hidden",...n,ref:e})})}),I4=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=jr(un,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Pu(()=>c("SCROLL_END"),100),[l,c]=P4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,h=i?"scrollLeft":"scrollTop";if(u){let d=u[h];const f=()=>{const p=u[h];d!==p&&(c("SCROLL"),o()),d=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),a.jsx(cn,{present:r||l!=="hidden",children:a.jsx(zm,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ae(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ae(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),rb=m.forwardRef((t,e)=>{const r=jr(un,t.__scopeScrollArea),{forceMount:n,...s}=t,[i,o]=m.useState(!1),l=t.orientation==="horizontal",c=Pu(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:h)}},10);return Pi(r.viewport,c),Pi(r.content,c),a.jsx(cn,{present:n||i,children:a.jsx(zm,{"data-state":i?"visible":"hidden",...s,ref:e})})}),zm=m.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=jr(un,t.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ob(l.viewport,l.content),h={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function d(f,p){return $4(f,o.current,l,p)}return r==="horizontal"?a.jsx(D4,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,p=r0(f,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=d(f,s.dir))}}):r==="vertical"?a.jsx(O4,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,p=r0(f,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=d(f))}}):null}),D4=m.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=jr(un,t.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=nt(e,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(sb,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tu(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(i.viewport){const f=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),cb(f,d)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Kc(o.paddingLeft),paddingEnd:Kc(o.paddingRight)}})}})}),O4=m.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,i=jr(un,t.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=nt(e,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(sb,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tu(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(i.viewport){const f=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),cb(f,d)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Kc(o.paddingTop),paddingEnd:Kc(o.paddingBottom)}})}})}),[M4,nb]=Xw(un),sb=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:d,...f}=t,p=jr(un,r),[w,v]=m.useState(null),b=nt(e,I=>v(I)),y=m.useRef(null),g=m.useRef(""),x=p.viewport,k=n.content-n.viewport,j=nr(h),_=nr(c),A=Pu(d,10);function C(I){if(y.current){const M=I.clientX-y.current.left,G=I.clientY-y.current.top;u({x:M,y:G})}}return m.useEffect(()=>{const I=M=>{const G=M.target;(w==null?void 0:w.contains(G))&&j(M,k)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[x,w,k,j]),m.useEffect(_,[n,_]),Pi(w,A),Pi(p.content,A),a.jsx(M4,{scope:r,scrollbar:w,hasThumb:s,onThumbChange:nr(i),onThumbPointerUp:nr(o),onThumbPositionChange:_,onThumbPointerDown:nr(l),children:a.jsx(Pe.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:Ae(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),y.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(I))}),onPointerMove:Ae(t.onPointerMove,C),onPointerUp:Ae(t.onPointerUp,I=>{const M=I.target;M.hasPointerCapture(I.pointerId)&&M.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),qc="ScrollAreaThumb",ab=m.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=nb(qc,t.__scopeScrollArea);return a.jsx(cn,{present:r||s.hasThumb,children:a.jsx(L4,{ref:e,...n})})}),L4=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,i=jr(qc,r),o=nb(qc,r),{onThumbPositionChange:l}=o,c=nt(e,d=>o.onThumbChange(d)),u=m.useRef(void 0),h=Pu(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const d=i.viewport;if(d){const f=()=>{if(h(),!u.current){const p=z4(d,l);u.current=p,l()}};return l(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[i.viewport,h,l]),a.jsx(Pe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ae(t.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),w=d.clientX-p.left,v=d.clientY-p.top;o.onThumbPointerDown({x:w,y:v})}),onPointerUp:Ae(t.onPointerUp,o.onThumbPointerUp)})});ab.displayName=qc;var Um="ScrollAreaCorner",ib=m.forwardRef((t,e)=>{const r=jr(Um,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(F4,{...t,ref:e}):null});ib.displayName=Um;var F4=m.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=jr(Um,r),[i,o]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return Pi(s.scrollbarX,()=>{var d;const h=((d=s.scrollbarX)==null?void 0:d.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Pi(s.scrollbarY,()=>{var d;const h=((d=s.scrollbarY)==null?void 0:d.offsetWidth)||0;s.onCornerWidthChange(h),o(h)}),u?a.jsx(Pe.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Kc(t){return t?parseInt(t,10):0}function ob(t,e){const r=t/e;return isNaN(r)?0:r}function Tu(t){const e=ob(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function $4(t,e,r,n="ltr"){const s=Tu(r),i=s/2,o=e||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,h=r.content-r.viewport,d=n==="ltr"?[0,h]:[h*-1,0];return lb([c,u],d)(t)}function r0(t,e,r="ltr"){const n=Tu(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=T4(t,c);return lb([0,o],[0,l])(u)}function lb(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function cb(t,e){return t>0&&t<e}var z4=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&e(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Pu(t,e){const r=nr(t),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Pi(t,e){const r=nr(e);xs(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var ub=Zw,U4=tb,B4=ib;const W4=m.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(ub,{ref:n,className:Ce("relative overflow-hidden",t),...r,children:[a.jsx(U4,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(db,{}),a.jsx(B4,{})]}));W4.displayName=ub.displayName;const db=m.forwardRef(({className:t,orientation:e="vertical",...r},n)=>a.jsx($m,{ref:n,orientation:e,className:Ce("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:a.jsx(ab,{className:"relative flex-1 rounded-full bg-border"})}));db.displayName=$m.displayName;function n0({onSelectFood:t,onSearchChange:e,placeholder:r="Search Meal's",className:n=""}){const[s,i]=m.useState(""),[o,l]=m.useState([]),[c,u]=m.useState(!1);m.useEffect(()=>{const d=()=>{try{let p=[];try{p=JSON.parse(localStorage.getItem("weeklyMeals")||"[]")}catch(v){console.warn("Failed to load meals from localStorage:",v)}const w=p.sort((v,b)=>{const y=new Date(v.timestamp||`${v.date} ${v.time}`);return new Date(b.timestamp||`${b.date} ${b.time}`).getTime()-y.getTime()});l(w)}catch{l([])}};d();const f=()=>d();return window.addEventListener("meals-updated",f),window.addEventListener("calories-logged",f),()=>{window.removeEventListener("meals-updated",f),window.removeEventListener("calories-logged",f)}},[]),m.useMemo(()=>{let d=[...o];if(s.trim()){const p=s.toLowerCase();d=d.filter(w=>w.name.toLowerCase().includes(p))}const f=new Map;return d.forEach(p=>{const w=p.name.toLowerCase().trim();(!f.has(w)||p.timestamp&&f.get(w).timestamp&&new Date(p.timestamp)>new Date(f.get(w).timestamp))&&f.set(w,p)}),Array.from(f.values()).slice(0,10)},[o,s]),m.useMemo(()=>{const d=new Map;return o.forEach(f=>{const p=f.name.toLowerCase().trim();d.has(p)?d.get(p).count++:d.set(p,{food:f,count:1})}),Array.from(d.values()).filter(f=>f.count>1).sort((f,p)=>p.count-f.count).slice(0,5).map(f=>f.food)},[o]);const h=d=>{i(d),u(!1),e(d)};return a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"relative",children:a.jsx(Ue,{"data-testid":"nutrition-food-search",value:s,onChange:d=>h(d.target.value),onFocus:()=>u(!1),placeholder:r,className:n||"text-base bg-white/80 border-2 border-amber-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-lg px-4 py-3 text-gray-950 placeholder-gray-700"})}),!1]})}function H4({onAddToMeal:t,onNavigate:e,onCaloriesCalculated:r,onLogToWeekly:n,isCompact:s=!1}){var I,M,G;const[i,o]=m.useState(""),[l,c]=m.useState(""),[u,h]=m.useState([]),[d,f]=m.useState(!1),[p,w]=m.useState(null),[v,b]=m.useState([]),[y,g]=m.useState(null),x=Jw();m.useEffect(()=>{if(i.length>=2&&!s){const T=j4.searchIngredients(i);b(T.slice(0,6))}else b([])},[i,s]),m.useEffect(()=>{if(i.trim()&&l.trim()){const T=j(i,l);g(T)}else g(null)},[i,l]);const k=on({mutationFn:async({ingredient:T,measurement:K})=>{const D=await fetch("/api/calculate-calories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredient:T,measurement:K})});if(!D.ok)throw new Error("Failed to calculate calories");return D.json()},onSuccess:T=>{var $,F,P,O,U,B,W,R,z,Y,q,fe,ke,me,st,se,De;console.log("API Response:",T),console.log("Portion Info:",T.portionInfo),($=T.portionInfo)!=null&&$.warning&&T.portionInfo.warning!=="No warning"?(console.log("Setting portion warning from API:",T.portionInfo),h(qe=>[T,...qe.slice(0,4)])):(h(qe=>[T,...qe.slice(0,4)]),_());const K=((F=T.nutritionPer100g)==null?void 0:F.calories)||100,D=K>0?T.estimatedCalories/K:1;r&&r({name:`${T.ingredient} (${T.measurement})`,calories:T.estimatedCalories,protein:(((P=T.nutritionPer100g)==null?void 0:P.protein)||0)*D,carbs:(((O=T.nutritionPer100g)==null?void 0:O.carbs)||0)*D,fat:(((U=T.nutritionPer100g)==null?void 0:U.fat)||0)*D,iron:(((B=T.nutritionPer100g)==null?void 0:B.iron)||0)*D,calcium:(((W=T.nutritionPer100g)==null?void 0:W.calcium)||0)*D,zinc:(((R=T.nutritionPer100g)==null?void 0:R.zinc)||0)*D,magnesium:(((z=T.nutritionPer100g)==null?void 0:z.magnesium)||0)*D,vitaminC:(((Y=T.nutritionPer100g)==null?void 0:Y.vitaminC)||0)*D,vitaminD:(((q=T.nutritionPer100g)==null?void 0:q.vitaminD)||0)*D,vitaminB12:(((fe=T.nutritionPer100g)==null?void 0:fe.vitaminB12)||0)*D,folate:(((ke=T.nutritionPer100g)==null?void 0:ke.folate)||0)*D,vitaminA:(((me=T.nutritionPer100g)==null?void 0:me.vitaminA)||0)*D,vitaminE:(((st=T.nutritionPer100g)==null?void 0:st.vitaminE)||0)*D,potassium:(((se=T.nutritionPer100g)==null?void 0:se.potassium)||0)*D,phosphorus:(((De=T.nutritionPer100g)==null?void 0:De.phosphorus)||0)*D,fiber:0,sugar:0,sodium:0,ingredients:[T.ingredient]})}}),j=(T,K)=>{const D=T.toLowerCase().trim(),$=K.toLowerCase().trim(),F=E4($,D);if(F===0)return console.log(`Could not convert measurement "${$}" to grams for validation`),null;console.log(`FDA Validation - Ingredient: "${D}", Measurement: "${$}", Converted grams: ${F}`);const P=C4(D,F);return _4(D),P.isReasonable?null:{warning:P.warning||"Portion size may not be accurate",suggestion:P.recommendation||`FDA Standard: ${P.fdaServing||"check serving size"}`}},_=()=>{o(""),c(""),g(null)},A=T=>{T.preventDefault(),i.trim()&&l.trim()&&k.mutate({ingredient:i.trim(),measurement:l.trim()})},C=async T=>{var U,B,W,R,z,Y,q,fe,ke,me,st,se;const K=new Date,D=ea(K),$=((U=T.nutritionPer100g)==null?void 0:U.calories)||100,F=$>0?T.estimatedCalories/$:1,P={id:`calc-${Date.now()}`,name:`${T.ingredient} (${T.measurement})`,calories:T.estimatedCalories,protein:(((B=T.nutritionPer100g)==null?void 0:B.protein)||0)*F,carbs:(((W=T.nutritionPer100g)==null?void 0:W.carbs)||0)*F,fat:(((R=T.nutritionPer100g)==null?void 0:R.fat)||0)*F,iron:(((z=T.nutritionPer100g)==null?void 0:z.iron)||0)*F,calcium:(((Y=T.nutritionPer100g)==null?void 0:Y.calcium)||0)*F,zinc:(((q=T.nutritionPer100g)==null?void 0:q.zinc)||0)*F,magnesium:(((fe=T.nutritionPer100g)==null?void 0:fe.magnesium)||0)*F,vitaminC:(((ke=T.nutritionPer100g)==null?void 0:ke.vitaminC)||0)*F,vitaminD:(((me=T.nutritionPer100g)==null?void 0:me.vitaminD)||0)*F,vitaminB12:(((st=T.nutritionPer100g)==null?void 0:st.vitaminB12)||0)*F,folate:(((se=T.nutritionPer100g)==null?void 0:se.folate)||0)*F,date:Ze(K),time:dc(K),mealType:D,category:D,timestamp:K.toISOString(),source:"calculator"},O=JSON.parse(localStorage.getItem("weeklyMeals")||"[]");O.push(P),localStorage.setItem("weeklyMeals",JSON.stringify(O));try{const qe=await(await je("POST","/api/meals/logged",{name:P.name,date:P.date,mealType:P.mealType,totalCalories:P.calories,totalProtein:P.protein,totalCarbs:P.carbs,totalFat:P.fat,iron:P.iron,calcium:P.calcium,zinc:P.zinc,magnesium:P.magnesium,vitaminC:P.vitaminC,vitaminD:P.vitaminD,vitaminB12:P.vitaminB12,folate:P.folate})).json();qe.newAchievements&&qe.newAchievements.length>0&&qe.newAchievements.forEach(ne=>{window.dispatchEvent(new CustomEvent("achievement-unlocked",{detail:{type:"milestone",title:ne.title,message:ne.description||ne.title,description:ne.description||ne.title,points:10,icon:ne.iconName||"trophy"}}))})}catch{x.mutate()}window.dispatchEvent(new CustomEvent("calories-logged",{detail:P})),window.dispatchEvent(new CustomEvent("meal-logged-success",{detail:P})),window.dispatchEvent(new CustomEvent("refresh-weekly-data")),w({name:P.name,calories:P.calories,mealType:D,protein:P.protein,carbs:P.carbs,fat:P.fat}),f(!0),setTimeout(()=>{f(!1),w(null)},3e3),window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:` Logged ${T.ingredient} to ${D}!`,type:"success"}})),n&&n({name:P.name,calories:P.calories,protein:P.protein,carbs:P.carbs,fat:P.fat,date:P.date,time:P.time,category:D})};return s?a.jsxs(ie,{className:"p-4 bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-sm border-amber-200/40 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Ol,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Quick Calorie Calculator"})]}),a.jsxs("form",{onSubmit:A,className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsx(n0,{onSelectFood:async T=>{const K=new Date,D=ea(K),$={id:`relogged-${Date.now()}`,name:T.name,calories:T.calories,protein:T.protein,carbs:T.carbs,fat:T.fat,date:Ze(K),time:dc(K),mealType:D,category:D,timestamp:K.toISOString(),source:"history"},F=JSON.parse(localStorage.getItem("weeklyMeals")||"[]");F.push($),localStorage.setItem("weeklyMeals",JSON.stringify(F)),window.dispatchEvent(new CustomEvent("calories-logged")),window.dispatchEvent(new CustomEvent("meals-updated")),window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:` Re-logged ${T.name}!`,type:"success"}}))},onSearchChange:T=>o(T),placeholder:"Search Meal's",className:"text-base bg-amber-50/90 border-2 border-amber-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-lg pr-4 py-3 text-gray-950 placeholder-gray-700"}),a.jsx(Ue,{placeholder:"Measurement (e.g., 1 cup, 100g, 1 medium)",value:l,onChange:T=>c(T.target.value),className:"text-base bg-white/80 border-2 border-amber-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-lg px-4 py-3 text-gray-950 placeholder-gray-700","data-testid":"input-measurement-compact"})]}),y&&a.jsx("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Nd,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-orange-800 font-medium",children:" Portion Size Check"}),a.jsx("p",{className:"text-xs text-orange-700 mt-1",children:y.warning}),a.jsx("p",{className:"text-xs text-orange-600 mt-1 font-medium",children:y.suggestion})]})]})}),a.jsx(Q,{type:"submit",disabled:k.isPending||!i.trim()||!l.trim(),className:"w-full",children:k.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Hc,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Calculate"]})})]}),k.isError&&a.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{className:"w-4 h-4 text-red-600"}),a.jsx("span",{className:"text-sm text-red-700",children:"Could not analyze ingredient. Please check spelling or try a simpler description."})]})}),u.length>0&&a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Recent Analysis"}),u.slice(0,2).map((T,K)=>a.jsxs("div",{className:"p-3 bg-amber-50/60 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:T.ingredient}),a.jsx("p",{className:"text-sm text-gray-600",children:T.measurement})]}),a.jsxs(Le,{variant:"secondary",className:"bg-orange-100 text-orange-800",children:[a.jsx(la,{className:"w-3 h-3 mr-1"}),T.estimatedCalories," cal"]})]}),a.jsxs("div",{className:"mt-2 space-y-2",children:[t&&a.jsx(Q,{size:"sm",variant:"outline",onClick:()=>t(T),className:"w-full",children:"Add to Meal"}),a.jsxs(Q,{size:"sm",onClick:()=>C(T),className:"w-full bg-orange-600 hover:bg-orange-700 text-white",children:[a.jsx(hf,{className:"w-3 h-3 mr-1"}),"Log to Weekly Tracker"]})]})]},K))]})]}):a.jsxs("div",{className:"space-y-6 relative",children:[d&&p&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-8 mx-4 max-w-sm w-full shadow-2xl animate-in zoom-in-95 duration-500",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto animate-pulse",children:a.jsx(tn,{className:"w-10 h-10 text-amber-600"})}),a.jsx("div",{className:"absolute -top-2 -right-2",children:a.jsx(os,{className:"w-6 h-6 text-yellow-400 animate-spin"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Successfully Logged!"}),a.jsx("p",{className:"text-gray-600 font-medium",children:p.name}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:[p.calories," calories"]})]}),a.jsxs("div",{className:"flex justify-around text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-green-600 font-bold",children:[(I=p.protein)==null?void 0:I.toFixed(1),"g"]}),a.jsx("div",{className:"text-gray-900",children:"Protein"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-yellow-600 font-bold",children:[(M=p.carbs)==null?void 0:M.toFixed(1),"g"]}),a.jsx("div",{className:"text-gray-900",children:"Carbs"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-purple-600 font-bold",children:[(G=p.fat)==null?void 0:G.toFixed(1),"g"]}),a.jsx("div",{className:"text-gray-900",children:"Fat"})]})]}),a.jsx("div",{className:"pt-2",children:a.jsxs(Le,{className:"bg-green-100 text-green-700 border-green-200",children:["Added to ",p.mealType]})})]})})}),a.jsxs(ie,{className:"p-6 bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-sm border-amber-200/40 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"How to Use"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"Food Entry"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsx("p",{children:" Search your meal history"}),a.jsx("p",{children:" Enter any food name"}),a.jsx("p",{children:" Get instant calorie estimates"}),a.jsx("p",{children:" Track detailed nutrition"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-700",children:"Measurement Examples"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsx("p",{children:" Weight: 100g, 2 oz, 1 lb"}),a.jsx("p",{children:" Volume: 1 cup, 2 tbsp, 1 tsp"}),a.jsx("p",{children:" Pieces: 1 medium, 1 slice, 1 whole"}),a.jsx("p",{children:" Portions: 1 serving, handful, bunch"})]})]})]})]}),a.jsxs(ie,{className:"p-6 bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-sm border-amber-200/40 shadow-lg","data-testid":"calorie-calculator",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Ol,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Universal Calorie Calculator"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Calculate calories for any food item with smart nutrition estimates"})]})]}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Food"}),a.jsx(n0,{onSelectFood:async T=>{const K=new Date,D=ea(K),$={id:`relogged-${Date.now()}`,name:T.name,calories:T.calories,protein:T.protein,carbs:T.carbs,fat:T.fat,date:Ze(K),time:dc(K),mealType:D,category:D,timestamp:K.toISOString(),source:"history"},F=JSON.parse(localStorage.getItem("weeklyMeals")||"[]");F.push($),localStorage.setItem("weeklyMeals",JSON.stringify(F));try{await je("POST","/api/meals/logged",{name:$.name,date:$.timestamp,mealType:$.mealType,totalCalories:$.calories,totalProtein:$.protein,totalCarbs:$.carbs,totalFat:$.fat}),w($),f(!0),setTimeout(()=>f(!1),3e3),window.dispatchEvent(new CustomEvent("calories-logged")),window.dispatchEvent(new CustomEvent("meals-updated")),x.mutate()}catch{}},onSearchChange:T=>{o(T),b([])},placeholder:"Search Meal's",className:"text-base bg-amber-50/90 border-2 border-amber-400 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-lg pr-4 py-3 text-gray-950 placeholder-gray-700"}),a.jsx("p",{className:"text-xs text-gray-900 mt-1",children:"Search your meal history or enter new food items"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Measurement"}),a.jsx(Ue,{placeholder:"e.g., 1 cup, 100g, 1 medium, 2 tablespoons, 1 slice",value:l,onChange:T=>c(T.target.value),className:"text-base bg-white/80 border-2 border-amber-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 rounded-lg px-4 py-3 text-gray-950 placeholder-gray-700","data-testid":"input-measurement"}),a.jsx("p",{className:"text-xs text-gray-900 mt-1",children:"Any measurement works - the system will provide the best estimate"})]})]}),y&&a.jsx("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Nd,{className:"w-5 h-5 text-orange-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-orange-800 font-medium mb-1",children:" Portion Size Check"}),a.jsx("p",{className:"text-xs text-orange-700 mb-1",children:y.warning}),a.jsx("p",{className:"text-xs text-orange-600 font-medium",children:y.suggestion})]})]})}),a.jsx(Q,{type:"submit",disabled:k.isPending||!i.trim()||!l.trim(),className:"w-full text-lg py-6",children:k.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Hc,{className:"w-5 h-5 mr-2 animate-spin"}),"Analyzing with USDA Database..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ol,{className:"w-5 h-5 mr-2"}),"Calculate Calories"]})})]}),k.isError&&a.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(an,{className:"w-5 h-5 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-700",children:"Analysis Failed"}),a.jsx("p",{className:"text-sm text-red-600",children:"Could not find nutrition data for this ingredient. Try using a more common name or check spelling."})]})]})})]}),u.length>0&&a.jsxs(ie,{className:"p-6 bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-sm border-amber-200/40 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Recent Analyses"}),a.jsx("div",{className:"space-y-4",children:u.map((T,K)=>a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:T.ingredient}),a.jsx("p",{className:"text-gray-600 text-sm",children:T.measurement})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs(Le,{variant:"default",className:"bg-orange-600 text-white text-lg px-3 py-1 mb-1",children:[a.jsx(la,{className:"w-4 h-4 mr-1"}),T.estimatedCalories," kcal"]}),a.jsx("p",{className:"text-xs text-gray-900",children:"Total for this portion"})]})]}),(()=>{var D;return console.log(`Analysis ${K} portionInfo:`,T.portionInfo),((D=T.portionInfo)==null?void 0:D.warning)&&a.jsx("div",{className:"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(an,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-yellow-800 font-medium mb-1",children:T.portionInfo.warning}),T.portionInfo.suggestion&&a.jsx("p",{className:"text-xs text-yellow-700",children:T.portionInfo.suggestion}),T.portionInfo.recommendedServing&&a.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:[a.jsx("strong",{children:"Suggested:"})," ",T.portionInfo.recommendedServing,T.portionInfo.recommendedCalories&&a.jsxs("span",{children:[" (",T.portionInfo.recommendedCalories," cal)"]})]})]})]})})})(),T.equivalentMeasurement&&a.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[a.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:[a.jsx(Nd,{className:"w-4 h-4 inline mr-1"}),"Reference: ",T.equivalentMeasurement]}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"This shows nutritional density for comparison"})]}),T.fdaServing&&a.jsxs("div",{className:"mb-3 p-2 bg-green-50 border border-green-200 rounded",children:[a.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[a.jsx(Bo,{className:"w-4 h-4 inline mr-1"}),"FDA Standard Serving: ",T.fdaServing]}),a.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Based on FDA Reference Amounts Customarily Consumed (RACC)"})]}),T.portionInfo&&T.portionInfo.warning&&T.portionInfo.warning!=="No warning"&&a.jsx("div",{className:"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"text-yellow-600",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800",children:T.portionInfo.warning}),T.portionInfo.suggestion&&T.portionInfo.suggestion!=="No suggestion"&&a.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:T.portionInfo.suggestion}),T.portionInfo.recommendedServing&&a.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Suggested serving: ",T.portionInfo.recommendedServing,T.portionInfo.recommendedCalories&&a.jsxs("span",{children:[" (",T.portionInfo.recommendedCalories," cal)"]})]})]})]})}),T.nutritionPer100g&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs text-gray-900 mb-2 font-medium",children:"Nutrition per 100g (for comparison):"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"text-center p-2 bg-amber-50/60 rounded",children:[a.jsx(b_,{className:"w-4 h-4 mx-auto text-red-500 mb-1"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Protein"}),a.jsxs("p",{className:"font-bold text-gray-900",children:[Math.round(T.nutritionPer100g.protein),"g"]})]}),a.jsxs("div",{className:"text-center p-2 bg-amber-50/60 rounded",children:[a.jsx(J_,{className:"w-4 h-4 mx-auto text-[#faed39] mb-1"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Carbs"}),a.jsxs("p",{className:"font-bold text-gray-900",children:[Math.round(T.nutritionPer100g.carbs),"g"]})]}),a.jsxs("div",{className:"text-center p-2 bg-amber-50/60 rounded",children:[a.jsx(Bo,{className:"w-4 h-4 mx-auto text-[#1f4aa6] mb-1"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Fat"}),a.jsxs("p",{className:"font-bold text-gray-900",children:[Math.round(T.nutritionPer100g.fat),"g"]})]})]})]}),T.note&&a.jsx("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(F_,{className:"w-4 h-4 text-blue-600 mt-0.5"}),a.jsx("p",{className:"text-sm text-blue-700",children:T.note})]})}),a.jsxs("div",{className:"space-y-2",children:[t&&a.jsxs(Q,{onClick:()=>t(T),className:"w-full bg-green-700 hover:bg-green-800 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add to Current Meal"]}),a.jsxs(Q,{onClick:()=>C(T),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",children:[a.jsx(jn,{className:"w-5 h-5 mr-2"}),"Log to Weekly Tracker"]})]})]},K))})]}),a.jsx(V4,{onSuggestionClick:T=>o(T)})]})}function V4({onSuggestionClick:t}){const[e,r]=m.useState([]),[n,s]=m.useState(null),i=l=>{try{const c=ea(new Date);window.dispatchEvent(new CustomEvent("calories-logged",{detail:{source:"calculator",name:l.name,calories:l.calories,protein:l.protein,carbs:l.carbs,fat:l.fat,mealType:c,timestamp:new Date().toISOString(),iron:l.iron||0,calcium:l.calcium||0,zinc:l.zinc||0,magnesium:l.magnesium||0,vitaminC:l.vitaminC||0,vitaminD:l.vitaminD||0,vitaminB12:l.vitaminB12||0,folate:l.folate||0}})),window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:` Added "${l.name}" to ${c}`,type:"success"}})),console.log(` Added food to meal: ${l.name}`)}catch(c){console.error(" Failed to add food to meal:",c),window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:` Failed to add ${l.name}`,type:"error"}}))}},o=async l=>{try{s(l.name),await navigator.clipboard.writeText(l.name),window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:` Copied "${l.name}" to clipboard`,type:"success"}})),console.log(` Food name copied to clipboard: ${l.name}`),setTimeout(()=>{s(null)},2e3)}catch(c){console.error(" Failed to copy food entry:",c),s(null),window.dispatchEvent(new CustomEvent("show-toast",{detail:{message:` Failed to copy ${l.name}`,type:"error"}}))}};return m.useEffect(()=>{const l=()=>{try{const u=JSON.parse(localStorage.getItem("weeklyMeals")||"[]"),h=new Date;h.setDate(h.getDate()-7);const d=u.filter(f=>f.source!=="user-suggestion"&&f.source!=="calculator"?!1:f.date?new Date(f.date)>=h:f.dateKey?new Date(f.dateKey)>=h:!1).reduce((f,p)=>{const w=p.name.split(" (")[0];return f.find(b=>b.name===w)||f.push({name:w,calories:p.calories||0,protein:p.protein||0,carbs:p.carbs||0,fat:p.fat||0,iron:p.iron||0,calcium:p.calcium||0,vitaminC:p.vitaminC||0,zinc:p.zinc||0,magnesium:p.magnesium||0,vitaminD:p.vitaminD||0,vitaminB12:p.vitaminB12||0,folate:p.folate||0}),f},[]).slice(0,6);r(d)}catch{r([])}};l();const c=()=>l();return window.addEventListener("meals-updated",c),window.addEventListener("calories-logged",c),()=>{window.removeEventListener("meals-updated",c),window.removeEventListener("calories-logged",c)}},[]),e.length===0?null:a.jsxs("div",{className:"mt-4 pt-3 border-t border-amber-200",children:[a.jsx("p",{className:"text-xs text-gray-900 mb-3",children:"Quick suggestions (last 7 days):"}),a.jsx("div",{className:"space-y-3",children:e.map(l=>a.jsx("div",{className:"text-sm bg-amber-50/80 border border-amber-200 rounded-lg p-3 shadow-sm",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-gray-900 mb-1",children:l.name}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-2 text-xs",children:[a.jsxs("span",{className:"text-orange-600 font-medium",children:[Math.round(l.calories||0)," cal"]}),a.jsxs("span",{className:"text-green-600",children:["P: ",(l.protein||0).toFixed(1),"g"]}),a.jsxs("span",{className:"text-yellow-600",children:["C: ",(l.carbs||0).toFixed(1),"g"]}),a.jsxs("span",{className:"text-purple-600",children:["F: ",(l.fat||0).toFixed(1),"g"]})]}),((l.iron||0)>0||(l.calcium||0)>0||(l.vitaminC||0)>0||(l.zinc||0)>0||(l.magnesium||0)>0||(l.vitaminD||0)>0)&&a.jsxs("div",{className:"mt-2 space-y-2",children:[((l.iron||0)>0||(l.calcium||0)>0||(l.zinc||0)>0||(l.magnesium||0)>0)&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Minerals"}),a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(l.iron||0)>0&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-transparent text-slate-700 border-2 border-slate-500 hover:border-slate-600 hover:text-slate-800 transition-colors",children:["Fe ",(l.iron||0).toFixed(1),"mg"]}),(l.calcium||0)>0&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-transparent text-stone-700 border-2 border-stone-500 hover:border-stone-600 hover:text-stone-800 transition-colors",children:["Ca ",Math.round(l.calcium||0),"mg"]}),(l.zinc||0)>0&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-transparent text-gray-700 border-2 border-gray-500 hover:border-gray-600 hover:text-gray-800 transition-colors",children:["Zn ",(l.zinc||0).toFixed(1),"mg"]}),(l.magnesium||0)>0&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-transparent text-neutral-700 border-2 border-neutral-500 hover:border-neutral-600 hover:text-neutral-800 transition-colors",children:["Mg ",Math.round(l.magnesium||0),"mg"]})]})]}),((l.vitaminC||0)>0||(l.vitaminD||0)>0||(l.vitaminB12||0)>0||(l.folate||0)>0)&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Vitamins"}),a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[(l.vitaminC||0)>0&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-transparent text-orange-700 border-2 border-orange-500 hover:border-orange-600 hover:text-orange-800 transition-colors",children:["C ",Math.round(l.vitaminC||0),"mg"]}),(l.vitaminD||0)>0&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-transparent text-amber-700 border-2 border-amber-500 hover:border-amber-600 hover:text-amber-800 transition-colors",children:["D ",(l.vitaminD||0).toFixed(1),"g"]}),(l.vitaminB12||0)>0&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-transparent text-red-700 border-2 border-red-500 hover:border-red-600 hover:text-red-800 transition-colors",children:["B12 ",(l.vitaminB12||0).toFixed(1),"g"]}),(l.folate||0)>0&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-transparent text-green-700 border-2 border-green-500 hover:border-green-600 hover:text-green-800 transition-colors",children:["Folate ",Math.round(l.folate||0),"g"]})]})]})]})]}),a.jsx("button",{onClick:()=>i(l),className:"ml-3 px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-md hover:bg-blue-700 transition-colors",title:`Add ${l.name} to meal`,"data-testid":`button-add-food-${l.name.toLowerCase().replace(/\s+/g,"-")}`,children:"Add"}),a.jsx("button",{onClick:c=>{c.stopPropagation(),console.log(" Copy button clicked for:",l.name),o(l)},className:`ml-2 p-1.5 rounded-md transition-all duration-200 ${n===l.name?"text-green-600 bg-green-50 hover:bg-green-100":"text-gray-400 hover:text-blue-600 hover:bg-blue-50"}`,title:n===l.name?"Copied to clipboard!":`Copy food name: ${l.name}`,"data-testid":`button-copy-food-${l.name.toLowerCase().replace(/\s+/g,"-")}`,children:n===l.name?a.jsx(ws,{className:"w-4 h-4"}):a.jsx(A_,{className:"w-4 h-4"})})]})},l.name))})]})}function _t(){m.useEffect(()=>{const{data:{subscription:s}}=dt.auth.onAuthStateChange(async(i,o)=>{i==="SIGNED_IN"||i==="TOKEN_REFRESHED"?(i==="SIGNED_IN"&&localStorage.setItem("fresh-auth-session","true"),window.dispatchEvent(new CustomEvent("auth-state-change"))):i==="SIGNED_OUT"&&(localStorage.removeItem("fresh-auth-session"),window.dispatchEvent(new CustomEvent("auth-state-change")))});return()=>s.unsubscribe()},[]);const{data:t,isLoading:e,refetch:r}=Cn({queryKey:["/api/auth/user"],queryFn:async()=>{try{let s=null;const{data:{session:i}}=await dt.auth.getSession();if(i!=null&&i.access_token&&i.access_token.split(".").length===3&&(s=i.access_token),localStorage.removeItem("supabase.auth.token"),!s)return null;const o=await fetch("/api/auth/user",{headers:{Authorization:`Bearer ${s}`}});if(!o.ok){if(o.status===401)return null;throw new Error("Failed to fetch user")}return await o.json()}catch{return null}},retry:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*5});return m.useEffect(()=>{const s=()=>r();return window.addEventListener("auth-state-change",s),()=>window.removeEventListener("auth-state-change",s)},[r]),{user:t,isLoading:e,isAuthenticated:!!t,refetch:r,supabase:dt,signOut:async()=>{try{localStorage.removeItem("supabase.auth.token"),await dt.auth.signOut();try{await fetch("/api/auth/signout",{method:"POST"})}catch{}await r(),window.dispatchEvent(new CustomEvent("auth-state-change")),console.log(" Sign out completed"),setTimeout(()=>{window.location.reload()},100)}catch(s){console.error(" Sign out error:",s)}}}}const G4=1,q4=1e6;let Id=0;function K4(){return Id=(Id+1)%Number.MAX_SAFE_INTEGER,Id.toString()}const Dd=new Map,s0=t=>{if(Dd.has(t))return;const e=setTimeout(()=>{Dd.delete(t),bo({type:"REMOVE_TOAST",toastId:t})},q4);Dd.set(t,e)},Q4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,G4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?s0(r):t.toasts.forEach(n=>{s0(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},hc=[];let fc={toasts:[]};function bo(t){fc=Q4(fc,t),hc.forEach(e=>{e(fc)})}function Qr({...t}){const e=K4(),r=s=>bo({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>bo({type:"DISMISS_TOAST",toastId:e});return bo({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function Yt(){const[t,e]=m.useState(fc);return m.useEffect(()=>(hc.push(e),()=>{const r=hc.indexOf(e);r>-1&&hc.splice(r,1)}),[t]),{...t,toast:Qr,dismiss:r=>bo({type:"DISMISS_TOAST",toastId:r})}}function Y4(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const J4=t=>{switch(t){case"success":return e5;case"info":return r5;case"warning":return t5;case"error":return n5;default:return null}},X4=Array(12).fill(0),Z4=({visible:t,className:e})=>N.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},N.createElement("div",{className:"sonner-spinner"},X4.map((r,n)=>N.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),e5=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),t5=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),r5=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),n5=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},N.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),s5=N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},N.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),N.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),a5=()=>{const[t,e]=N.useState(document.hidden);return N.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let pf=1;class i5{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:pf++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,o;const l=s.then(async u=>{if(o=["resolve",u],N.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(l5(u)&&!u.ok){i=!1;const d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,w=typeof d=="object"&&!N.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...w})}else if(u instanceof Error){i=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,w=typeof d=="object"&&!N.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...w})}else if(r.success!==void 0){i=!1;const d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description,w=typeof d=="object"&&!N.isValidElement(d)?d:{message:d};this.create({id:n,type:"success",description:f,...w})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;const h=typeof r.error=="function"?await r.error(u):r.error,d=typeof r.description=="function"?await r.description(u):r.description,p=typeof h=="object"&&!N.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:d,...p})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,h)=>l.then(()=>o[0]==="reject"?h(o[1]):u(o[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||pf++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Bt=new i5,o5=(t,e)=>{const r=(e==null?void 0:e.id)||pf++;return Bt.addToast({title:t,...e,id:r}),r},l5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",c5=o5,u5=()=>Bt.toasts,d5=()=>Bt.getActiveToasts(),Hl=Object.assign(c5,{success:Bt.success,info:Bt.info,warning:Bt.warning,error:Bt.error,custom:Bt.custom,message:Bt.message,promise:Bt.promise,dismiss:Bt.dismiss,loading:Bt.loading},{getHistory:u5,getToasts:d5});Y4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Vl(t){return t.label!==void 0}const h5=3,f5="24px",m5="16px",a0=4e3,p5=356,g5=14,y5=45,v5=200;function Hr(...t){return t.filter(Boolean).join(" ")}function x5(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const w5=t=>{var e,r,n,s,i,o,l,c,u;const{invert:h,toast:d,unstyled:f,interacting:p,setHeights:w,visibleToasts:v,heights:b,index:y,toasts:g,expanded:x,removeToast:k,defaultRichColors:j,closeButton:_,style:A,cancelButtonStyle:C,actionButtonStyle:I,className:M="",descriptionClassName:G="",duration:T,position:K,gap:D,expandByDefault:$,classNames:F,icons:P,closeButtonAriaLabel:O="Close toast"}=t,[U,B]=N.useState(null),[W,R]=N.useState(null),[z,Y]=N.useState(!1),[q,fe]=N.useState(!1),[ke,me]=N.useState(!1),[st,se]=N.useState(!1),[De,qe]=N.useState(!1),[ne,Sr]=N.useState(0),[Nr,ue]=N.useState(0),Jt=N.useRef(d.duration||T||a0),sl=N.useRef(null),Ft=N.useRef(null),al=y===0,il=y+1<=v,at=d.type,Dn=d.dismissible!==!1,Mu=d.className||"",Bi=d.descriptionClassName||"",Xt=N.useMemo(()=>b.findIndex(oe=>oe.toastId===d.id)||0,[b,d.id]),ba=N.useMemo(()=>{var oe;return(oe=d.closeButton)!=null?oe:_},[d.closeButton,_]),Wi=N.useMemo(()=>d.duration||T||a0,[d.duration,T]),_s=N.useRef(0),dn=N.useRef(0),Es=N.useRef(0),On=N.useRef(null),[$e,Cr]=K.split("-"),ka=N.useMemo(()=>b.reduce((oe,Je,ft)=>ft>=Xt?oe:oe+Je.height,0),[b,Xt]),ol=a5(),Lu=d.invert||h,_r=at==="loading";dn.current=N.useMemo(()=>Xt*D+ka,[Xt,ka]),N.useEffect(()=>{Jt.current=Wi},[Wi]),N.useEffect(()=>{Y(!0)},[]),N.useEffect(()=>{const oe=Ft.current;if(oe){const Je=oe.getBoundingClientRect().height;return ue(Je),w(ft=>[{toastId:d.id,height:Je,position:d.position},...ft]),()=>w(ft=>ft.filter(Et=>Et.toastId!==d.id))}},[w,d.id]),N.useLayoutEffect(()=>{if(!z)return;const oe=Ft.current,Je=oe.style.height;oe.style.height="auto";const ft=oe.getBoundingClientRect().height;oe.style.height=Je,ue(ft),w(Et=>Et.find(tt=>tt.toastId===d.id)?Et.map(tt=>tt.toastId===d.id?{...tt,height:ft}:tt):[{toastId:d.id,height:ft,position:d.position},...Et])},[z,d.title,d.description,w,d.id,d.jsx,d.action,d.cancel]);const it=N.useCallback(()=>{fe(!0),Sr(dn.current),w(oe=>oe.filter(Je=>Je.toastId!==d.id)),setTimeout(()=>{k(d)},v5)},[d,k,w,dn]);N.useEffect(()=>{if(d.promise&&at==="loading"||d.duration===1/0||d.type==="loading")return;let oe;return x||p||ol?(()=>{if(Es.current<_s.current){const Et=new Date().getTime()-_s.current;Jt.current=Jt.current-Et}Es.current=new Date().getTime()})():(()=>{Jt.current!==1/0&&(_s.current=new Date().getTime(),oe=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),it()},Jt.current))})(),()=>clearTimeout(oe)},[x,p,d,at,ol,it]),N.useEffect(()=>{d.delete&&(it(),d.onDismiss==null||d.onDismiss.call(d,d))},[it,d.delete]);function Er(){var oe;if(P!=null&&P.loading){var Je;return N.createElement("div",{className:Hr(F==null?void 0:F.loader,d==null||(Je=d.classNames)==null?void 0:Je.loader,"sonner-loader"),"data-visible":at==="loading"},P.loading)}return N.createElement(Z4,{className:Hr(F==null?void 0:F.loader,d==null||(oe=d.classNames)==null?void 0:oe.loader),visible:at==="loading"})}const ll=d.icon||(P==null?void 0:P[at])||J4(at);var cl,ja;return N.createElement("li",{tabIndex:0,ref:Ft,className:Hr(M,Mu,F==null?void 0:F.toast,d==null||(e=d.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[at],d==null||(r=d.classNames)==null?void 0:r[at]),"data-sonner-toast":"","data-rich-colors":(cl=d.richColors)!=null?cl:j,"data-styled":!(d.jsx||d.unstyled||f),"data-mounted":z,"data-promise":!!d.promise,"data-swiped":De,"data-removed":q,"data-visible":il,"data-y-position":$e,"data-x-position":Cr,"data-index":y,"data-front":al,"data-swiping":ke,"data-dismissible":Dn,"data-type":at,"data-invert":Lu,"data-swipe-out":st,"data-swipe-direction":W,"data-expanded":!!(x||$&&z),"data-testid":d.testId,style:{"--index":y,"--toasts-before":y,"--z-index":g.length-y,"--offset":`${q?ne:dn.current}px`,"--initial-height":$?"auto":`${Nr}px`,...A,...d.style},onDragEnd:()=>{me(!1),B(null),On.current=null},onPointerDown:oe=>{oe.button!==2&&(_r||!Dn||(sl.current=new Date,Sr(dn.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(me(!0),On.current={x:oe.clientX,y:oe.clientY})))},onPointerUp:()=>{var oe,Je,ft;if(st||!Dn)return;On.current=null;const Et=Number(((oe=Ft.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sa=Number(((Je=Ft.current)==null?void 0:Je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),tt=new Date().getTime()-((ft=sl.current)==null?void 0:ft.getTime()),Tt=U==="x"?Et:Sa,Na=Math.abs(Tt)/tt;if(Math.abs(Tt)>=y5||Na>.11){Sr(dn.current),d.onDismiss==null||d.onDismiss.call(d,d),R(U==="x"?Et>0?"right":"left":Sa>0?"down":"up"),it(),se(!0);return}else{var Zt,S;(Zt=Ft.current)==null||Zt.style.setProperty("--swipe-amount-x","0px"),(S=Ft.current)==null||S.style.setProperty("--swipe-amount-y","0px")}qe(!1),me(!1),B(null)},onPointerMove:oe=>{var Je,ft,Et;if(!On.current||!Dn||((Je=window.getSelection())==null?void 0:Je.toString().length)>0)return;const tt=oe.clientY-On.current.y,Tt=oe.clientX-On.current.x;var Na;const Zt=(Na=t.swipeDirections)!=null?Na:x5(K);!U&&(Math.abs(Tt)>1||Math.abs(tt)>1)&&B(Math.abs(Tt)>Math.abs(tt)?"x":"y");let S={x:0,y:0};const L=V=>1/(1.5+Math.abs(V)/20);if(U==="y"){if(Zt.includes("top")||Zt.includes("bottom"))if(Zt.includes("top")&&tt<0||Zt.includes("bottom")&&tt>0)S.y=tt;else{const V=tt*L(tt);S.y=Math.abs(V)<Math.abs(tt)?V:tt}}else if(U==="x"&&(Zt.includes("left")||Zt.includes("right")))if(Zt.includes("left")&&Tt<0||Zt.includes("right")&&Tt>0)S.x=Tt;else{const V=Tt*L(Tt);S.x=Math.abs(V)<Math.abs(Tt)?V:Tt}(Math.abs(S.x)>0||Math.abs(S.y)>0)&&qe(!0),(ft=Ft.current)==null||ft.style.setProperty("--swipe-amount-x",`${S.x}px`),(Et=Ft.current)==null||Et.style.setProperty("--swipe-amount-y",`${S.y}px`)}},ba&&!d.jsx&&at!=="loading"?N.createElement("button",{"aria-label":O,"data-disabled":_r,"data-close-button":!0,onClick:_r||!Dn?()=>{}:()=>{it(),d.onDismiss==null||d.onDismiss.call(d,d)},className:Hr(F==null?void 0:F.closeButton,d==null||(n=d.classNames)==null?void 0:n.closeButton)},(ja=P==null?void 0:P.close)!=null?ja:s5):null,(at||d.icon||d.promise)&&d.icon!==null&&((P==null?void 0:P[at])!==null||d.icon)?N.createElement("div",{"data-icon":"",className:Hr(F==null?void 0:F.icon,d==null||(s=d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Er():null,d.type!=="loading"?ll:null):null,N.createElement("div",{"data-content":"",className:Hr(F==null?void 0:F.content,d==null||(i=d.classNames)==null?void 0:i.content)},N.createElement("div",{"data-title":"",className:Hr(F==null?void 0:F.title,d==null||(o=d.classNames)==null?void 0:o.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?N.createElement("div",{"data-description":"",className:Hr(G,Bi,F==null?void 0:F.description,d==null||(l=d.classNames)==null?void 0:l.description)},typeof d.description=="function"?d.description():d.description):null),N.isValidElement(d.cancel)?d.cancel:d.cancel&&Vl(d.cancel)?N.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||C,onClick:oe=>{Vl(d.cancel)&&Dn&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,oe),it())},className:Hr(F==null?void 0:F.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,N.isValidElement(d.action)?d.action:d.action&&Vl(d.action)?N.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||I,onClick:oe=>{Vl(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,oe),!oe.defaultPrevented&&it())},className:Hr(F==null?void 0:F.actionButton,d==null||(u=d.classNames)==null?void 0:u.actionButton)},d.action.label):null)};function i0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function b5(t,e){const r={};return[t,e].forEach((n,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",l=i?m5:f5;function c(u){["top","right","bottom","left"].forEach(h=>{r[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}const k5=N.forwardRef(function(e,r){const{id:n,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:c,className:u,offset:h,mobileOffset:d,theme:f="light",richColors:p,duration:w,style:v,visibleToasts:b=h5,toastOptions:y,dir:g=i0(),gap:x=g5,icons:k,containerAriaLabel:j="Notifications"}=e,[_,A]=N.useState([]),C=N.useMemo(()=>n?_.filter(z=>z.toasterId===n):_.filter(z=>!z.toasterId),[_,n]),I=N.useMemo(()=>Array.from(new Set([i].concat(C.filter(z=>z.position).map(z=>z.position)))),[C,i]),[M,G]=N.useState([]),[T,K]=N.useState(!1),[D,$]=N.useState(!1),[F,P]=N.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=N.useRef(null),U=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=N.useRef(null),W=N.useRef(!1),R=N.useCallback(z=>{A(Y=>{var q;return(q=Y.find(fe=>fe.id===z.id))!=null&&q.delete||Bt.dismiss(z.id),Y.filter(({id:fe})=>fe!==z.id)})},[]);return N.useEffect(()=>Bt.subscribe(z=>{if(z.dismiss){requestAnimationFrame(()=>{A(Y=>Y.map(q=>q.id===z.id?{...q,delete:!0}:q))});return}setTimeout(()=>{$v.flushSync(()=>{A(Y=>{const q=Y.findIndex(fe=>fe.id===z.id);return q!==-1?[...Y.slice(0,q),{...Y[q],...z},...Y.slice(q+1)]:[z,...Y]})})})}),[_]),N.useEffect(()=>{if(f!=="system"){P(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window>"u")return;const z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Y})=>{P(Y?"dark":"light")})}catch{z.addListener(({matches:q})=>{try{P(q?"dark":"light")}catch(fe){console.error(fe)}})}},[f]),N.useEffect(()=>{_.length<=1&&K(!1)},[_]),N.useEffect(()=>{const z=Y=>{var q;if(o.every(me=>Y[me]||Y.code===me)){var ke;K(!0),(ke=O.current)==null||ke.focus()}Y.code==="Escape"&&(document.activeElement===O.current||(q=O.current)!=null&&q.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[o]),N.useEffect(()=>{if(O.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,W.current=!1)}},[O.current]),N.createElement("section",{ref:r,"aria-label":`${j} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((z,Y)=>{var q;const[fe,ke]=z.split("-");return C.length?N.createElement("ol",{key:z,dir:g==="auto"?i0():g,tabIndex:-1,ref:O,className:u,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":fe,"data-x-position":ke,style:{"--front-toast-height":`${((q=M[0])==null?void 0:q.height)||0}px`,"--width":`${p5}px`,"--gap":`${x}px`,...v,...b5(h,d)},onBlur:me=>{W.current&&!me.currentTarget.contains(me.relatedTarget)&&(W.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||W.current||(W.current=!0,B.current=me.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{D||K(!1)},onDragEnd:()=>K(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},C.filter(me=>!me.position&&Y===0||me.position===z).map((me,st)=>{var se,De;return N.createElement(w5,{key:me.id,icons:k,index:st,toast:me,defaultRichColors:p,duration:(se=y==null?void 0:y.duration)!=null?se:w,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:s,visibleToasts:b,closeButton:(De=y==null?void 0:y.closeButton)!=null?De:c,interacting:D,position:z,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,closeButtonAriaLabel:y==null?void 0:y.closeButtonAriaLabel,removeToast:R,toasts:C.filter(qe=>qe.position==me.position),heights:M.filter(qe=>qe.position==me.position),setHeights:G,expandByDefault:l,gap:x,expanded:T,swipeDirections:e.swipeDirections})})):null}))}),Od=24*60*60*1e3,j5=60*60*1e3,S5=30*60*1e3;function hb(){const{toast:t}=Yt(),e=m.useRef(null),r=m.useRef(null),n=m.useRef(Date.now()),s=m.useCallback(()=>{n.current=Date.now()},[]),i=m.useCallback(async()=>{try{const{data:{session:c},error:u}=await dt.auth.getSession();if(u)return console.error("Session refresh error:",u),!1;if(c){const{data:h,error:d}=await dt.auth.refreshSession();if(d)return console.error("Token refresh error:",d),!1;if(h.session)return localStorage.setItem("bytewise-last-refresh",Date.now().toString()),!0}return!1}catch(c){return console.error("Session refresh failed:",c),!1}},[]),o=m.useCallback(async()=>{if(Date.now()-n.current>Od){t({title:"Session Expired",description:"Your session has expired due to inactivity. Please log in again.",variant:"destructive"}),await dt.auth.signOut(),window.location.href="/";return}await i()},[i,t]),l=m.useCallback(()=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{t({title:"Session Expiring Soon",description:"Your session will expire in 30 minutes. Any activity will extend it.",variant:"default"})},Od-S5)},[t]);return m.useEffect(()=>{const c=["mousedown","keydown","scroll","touchstart"],u=()=>{s(),l()};c.forEach(d=>{window.addEventListener(d,u)}),e.current=setInterval(()=>{o()},j5),o(),l();const{data:h}=dt.auth.onAuthStateChange(async(d,f)=>{d==="SIGNED_IN"||d==="TOKEN_REFRESHED"?(s(),l(),d==="SIGNED_IN"&&localStorage.setItem("bytewise-session-start",Date.now().toString())):d==="SIGNED_OUT"&&(e.current&&clearInterval(e.current),r.current&&clearTimeout(r.current),localStorage.removeItem("bytewise-session-start"),localStorage.removeItem("bytewise-last-refresh"))});return()=>{c.forEach(d=>{window.removeEventListener(d,u)}),e.current&&clearInterval(e.current),r.current&&clearTimeout(r.current),h==null||h.subscription.unsubscribe()}},[s,o,l]),{refreshSession:i,updateActivity:s,getSessionInfo:()=>{const c=localStorage.getItem("bytewise-session-start"),u=localStorage.getItem("bytewise-last-refresh"),h=Date.now();return{sessionStart:c?new Date(parseInt(c)):null,lastRefresh:u?new Date(parseInt(u)):null,lastActivity:new Date(n.current),timeUntilExpiry:Od-(h-n.current)}}}}function N5(){const{refreshSession:t,getSessionInfo:e}=hb(),[r,n]=m.useState(null),[s,i]=m.useState(!1);m.useEffect(()=>{const d=()=>{const p=e();n(p)};d();const f=setInterval(d,6e4);return()=>clearInterval(f)},[]);const o=async()=>{if(i(!0),await t()){const f=e();n(f)}i(!1)},l=d=>{if(d<0)return"Expired";const f=Math.floor(d/(1e3*60*60)),p=Math.floor(d%(1e3*60*60)/(1e3*60));return f>0?`${f}h ${p}m`:`${p}m`},c=d=>d?new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(d):"N/A";if(!r)return null;const u=r.timeUntilExpiry,h=u<30*60*1e3;return a.jsx(ie,{className:"p-4 bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-sm border-amber-200/40",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-base font-medium",children:[a.jsx(Wo,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-gray-900",children:"Session Status"})]}),a.jsxs(Q,{size:"sm",variant:"ghost",onClick:o,disabled:s,className:"h-7 px-2",children:[a.jsx(Im,{className:`w-3 h-3 ${s?"animate-spin":""}`}),a.jsx("span",{className:"ml-1 text-sm",children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-gray-600",children:"Session Started"}),a.jsx("p",{className:"font-medium text-gray-900",children:c(r.sessionStart)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-gray-600",children:"Last Refresh"}),a.jsx("p",{className:"font-medium text-gray-900",children:c(r.lastRefresh)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-gray-600",children:"Last Activity"}),a.jsx("p",{className:"font-medium text-gray-900",children:c(r.lastActivity)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-gray-600",children:"Time Remaining"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_n,{className:`w-3 h-3 ${h?"text-yellow-600":"text-green-600"}`}),a.jsx("p",{className:`font-medium ${h?"text-yellow-700":"text-green-700"}`,children:l(u)})]})]})]}),h&&a.jsx("div",{className:"pt-2 border-t border-gray-300",children:a.jsxs("p",{className:"text-sm text-yellow-700 flex items-center gap-1",children:[a.jsx(_n,{className:"w-3 h-3"}),"Session expiring soon. Any activity will extend it."]})}),a.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:a.jsx("p",{className:"text-sm text-gray-600",children:"Your session stays active for 24 hours. It automatically refreshes with your activity."})})]})})}function C5({onClose:t}){var F,P,O,U,B,W;const{user:e,supabase:r,refetch:n}=_t(),{toast:s}=Yt(),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[u,h]=m.useState(!1),[d,f]=m.useState(""),[p,w]=m.useState(""),[v,b]=m.useState(""),[y,g]=m.useState(!1),[x,k]=m.useState(!1),[j,_]=m.useState([]),A=Li(),C=Cn({queryKey:["/api/user/photos"],enabled:x}),I=on({mutationFn:async R=>{const z=await je("DELETE",`/api/user/photos/${R}`);if(!z.ok)throw new Error("Failed to delete photo");return z.json()},onSuccess:()=>{A.invalidateQueries({queryKey:["/api/user/photos"]}),s({title:"Photo Deleted",description:"Photo has been permanently deleted from your account."}),_(R=>R.filter(z=>!j.includes(z)))},onError:R=>{s({title:"Delete Failed",description:R.message||"Failed to delete photo. Please try again.",variant:"destructive"})}}),M=on({mutationFn:async R=>{const z=await je("DELETE","/api/user/photos",{photoIds:R});if(!z.ok)throw new Error("Failed to delete photos");return z.json()},onSuccess:R=>{A.invalidateQueries({queryKey:["/api/user/photos"]}),s({title:"Photos Deleted",description:`Successfully deleted ${R.deletedCount||j.length} photos from your account.`}),_([])},onError:R=>{s({title:"Batch Delete Failed",description:R.message||"Failed to delete photos. Please try again.",variant:"destructive"})}}),[G,T]=m.useState({firstName:"",lastName:"",name:"",email:"",phone:"",location:"",birthDate:"",height:"",weight:"",activityLevel:"Moderately Active",dietaryPreferences:[],calorieGoal:2e3,joinDate:new Date().toISOString()});m.useEffect(()=>{if(e){const R=e,z=(R==null?void 0:R.firstName)||"",Y=(R==null?void 0:R.lastName)||"",q=(R==null?void 0:R.personalInfo)||{},fe=z&&z.includes("@");let ke="";!fe&&z&&Y?ke=`${z} ${Y}`.trim():!fe&&z?ke=z.trim():ke=(q==null?void 0:q.name)||(R==null?void 0:R.name)||(R!=null&&R.email?R.email.split("@")[0]:"")||"";const me={firstName:fe?"":z,lastName:fe?"":Y,name:ke,email:(R==null?void 0:R.email)||"",phone:(q==null?void 0:q.phone)||"",location:(q==null?void 0:q.location)||"",birthDate:(q==null?void 0:q.birth_date)||(q==null?void 0:q.birthDate)||"",height:(q==null?void 0:q.height)||"",weight:(q==null?void 0:q.weight)||"",activityLevel:(q==null?void 0:q.activityLevel)||"Moderately Active",dietaryPreferences:(q==null?void 0:q.dietary_preferences)||[],calorieGoal:(R==null?void 0:R.dailyCalorieGoal)||(R==null?void 0:R.calorie_goal)||2e3,joinDate:(R==null?void 0:R.createdAt)||new Date().toISOString()};T(me)}},[e]);const K=async()=>{c(!0);try{let R=null;const z=localStorage.getItem("supabase.auth.token");if(z)try{const se=JSON.parse(z);se.access_token&&(R=se.access_token)}catch{}if(!R){const{data:{session:se}}=await r.auth.getSession();se!=null&&se.access_token&&(R=se.access_token)}if(!R)throw new Error("No authentication token available");const[Y="",q=""]=G.name.split(" "),fe={firstName:Y.trim(),lastName:q.trim(),personalInfo:{phone:G.phone,location:G.location,birth_date:G.birthDate,height:G.height,weight:G.weight,activity_level:G.activityLevel,dietary_preferences:G.dietaryPreferences}};if(!Y.trim())throw new Error("First name is required");if(!q.trim())throw new Error("Last name is required");const ke=await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify(fe)});if(!ke.ok){const se=await ke.text();throw console.error("Profile update failed:",ke.status,se),new Error(`Failed to update profile: ${ke.status}`)}const me=await fetch("/api/user/goals",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({dailyCalorieGoal:G.calorieGoal})});if(!me.ok){const se=await me.text();throw console.error("Goals update failed:",me.status,se),new Error(`Failed to update calorie goal: ${me.status}`)}s({title:"Profile Updated",description:"Your profile has been successfully updated."}),Hl.success("Profile updated successfully!"),o(!1);const st=await n();if(st.data){const se=st.data,De=(se==null?void 0:se.firstName)||"",qe=(se==null?void 0:se.lastName)||"",ne=(se==null?void 0:se.personalInfo)||{},Sr=De&&De.includes("@");let Nr="";!Sr&&De&&qe?Nr=`${De} ${qe}`.trim():!Sr&&De?Nr=De.trim():Nr=(ne==null?void 0:ne.name)||(se==null?void 0:se.name)||(se!=null&&se.email?se.email.split("@")[0]:"")||"",T({firstName:Sr?"":De,lastName:Sr?"":qe,name:Nr,email:(se==null?void 0:se.email)||"",phone:(ne==null?void 0:ne.phone)||"",location:(ne==null?void 0:ne.location)||"",birthDate:(ne==null?void 0:ne.birth_date)||(ne==null?void 0:ne.birthDate)||"",height:(ne==null?void 0:ne.height)||"",weight:(ne==null?void 0:ne.weight)||"",activityLevel:(ne==null?void 0:ne.activityLevel)||"Moderately Active",dietaryPreferences:(ne==null?void 0:ne.dietary_preferences)||[],calorieGoal:(se==null?void 0:se.dailyCalorieGoal)||(se==null?void 0:se.calorie_goal)||2e3,joinDate:(se==null?void 0:se.createdAt)||new Date().toISOString()})}window.dispatchEvent(new CustomEvent("user-profile-updated",{detail:{calorieGoal:G.calorieGoal}}))}catch(R){console.error(" Profile save error:",R),console.error("Error details:",{message:R.message,stack:R.stack}),s({title:"Update Failed",description:R.message||"There was an error updating your profile. Please try again.",variant:"destructive"}),Hl.error(`Profile save failed: ${R.message||"Unknown error"}`)}finally{c(!1)}},D=async()=>{if(!d||!p||!v){s({title:"Missing Information",description:"Please fill in all password fields.",variant:"destructive"});return}if(p.length<6){s({title:"Password Too Short",description:"New password must be at least 6 characters long.",variant:"destructive"});return}if(p!==v){s({title:"Passwords Don't Match",description:"New password and confirmation don't match.",variant:"destructive"});return}g(!0);try{const{data:{user:R}}=await r.auth.getUser();if(!(R!=null&&R.email))throw new Error("User email not found");const{error:z}=await r.auth.signInWithPassword({email:R.email,password:d});if(z)throw new Error("Current password is incorrect");const{error:Y}=await r.auth.updateUser({password:p});if(Y)throw Y;Hl.success("Password changed successfully!"),f(""),w(""),b(""),h(!1)}catch(R){console.error("Password change error:",R),s({title:"Password Change Failed",description:R.message||"Unable to change password. Please try again.",variant:"destructive"})}finally{g(!1)}},$=async()=>{try{console.log(" UserSettingsManager: Starting sign out process..."),localStorage.removeItem("supabase.auth.token"),console.log(" Cleared custom tokens");const{error:R}=await r.auth.signOut();R?console.log(" Supabase signOut error:",R):console.log(" Supabase session cleared");try{await fetch("/api/auth/signout",{method:"POST"}),console.log(" Backend signout called")}catch(z){console.log(" Backend signout error:",z)}localStorage.removeItem("bytewise-auth"),localStorage.removeItem("weeklyMeals"),localStorage.removeItem("dailyStats"),localStorage.removeItem("fastingStatus"),sessionStorage.clear(),Hl.success("Signed out successfully!"),t&&t(),window.dispatchEvent(new CustomEvent("auth-state-change")),setTimeout(()=>{window.location.href="/"},500)}catch(R){console.error(" Sign out error:",R),s({title:"Sign Out Failed",description:"There was an error signing you out. Please try again.",variant:"destructive"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(N5,{}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"profile-section-title",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"profile-label",children:[a.jsx(Vc,{className:"w-4 h-4 mr-2 text-blue-400"}),"Full Name"]}),i?a.jsx(Ue,{value:G.name,onChange:R=>{const z=R.target.value,[Y="",q=""]=z.split(" ");T(fe=>({...fe,name:z,firstName:Y.trim(),lastName:q.trim()}))},className:"profile-input-field",placeholder:"Enter your full name"}):a.jsx("p",{className:"profile-display-text",children:G.name||"Not provided"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"profile-label",children:[a.jsx(H_,{className:"w-4 h-4 mr-2 text-blue-400"}),"Phone Number"]}),i?a.jsx(Ue,{value:G.phone,onChange:R=>T(z=>({...z,phone:R.target.value})),className:"profile-input-field",placeholder:"Enter your phone number"}):a.jsx("p",{className:"profile-display-text",children:G.phone||"Not provided"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"profile-label",children:[a.jsx(fw,{className:"w-4 h-4 mr-2 text-blue-400"}),"Location"]}),i?a.jsx(Ue,{value:G.location,onChange:R=>T(z=>({...z,location:R.target.value})),className:"profile-input-field",placeholder:"Enter your location"}):a.jsx("p",{className:"profile-display-text",children:G.location||"Not provided"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"profile-label",children:[a.jsx(jn,{className:"w-4 h-4 mr-2 text-blue-400"}),"Birth Date"]}),i?a.jsx(Ue,{type:"date",value:G.birthDate,onChange:R=>T(z=>({...z,birthDate:R.target.value})),className:"profile-input-field"}):a.jsx("p",{className:"profile-display-text",children:G.birthDate||"Not provided"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"profile-section-title",children:"Health & Fitness"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"profile-label",children:[a.jsx($g,{className:"w-4 h-4 mr-2 text-blue-400"}),"Height (ft/in)"]}),i?a.jsx(Ue,{value:G.height,onChange:R=>T(z=>({...z,height:R.target.value})),className:"bg-white/80 border-amber-300 text-gray-900 placeholder-gray-500 w-full",placeholder:`e.g., 5'8" or 5 ft 8 in`}):a.jsx("p",{className:"text-gray-700 bg-gradient-to-br from-amber-50 to-amber-100 p-3 rounded-lg border border-amber-200/40 break-words",children:G.height||"Not provided"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 font-medium flex items-center",children:[a.jsx($g,{className:"w-4 h-4 mr-2 text-blue-400"}),"Weight (lbs)"]}),i?a.jsx(Ue,{type:"number",value:G.weight?Math.round(parseFloat(G.weight)*2.20462):"",onChange:R=>{const Y=(parseFloat(R.target.value)||0)/2.20462;T(q=>({...q,weight:Y.toFixed(1)}))},className:"bg-white/80 border-amber-300 text-gray-900 placeholder-gray-500 w-full",placeholder:"Enter your weight in pounds"}):a.jsx("p",{className:"text-gray-700 bg-gradient-to-br from-amber-50 to-amber-100 p-3 rounded-lg border border-amber-200/40 break-words",children:G.weight?`${Math.round(parseFloat(G.weight)*2.20462)} lbs`:"Not provided"})]}),a.jsxs("div",{"data-testid":"profile-goals",className:"space-y-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 font-medium flex items-center",children:[a.jsx(Vt,{className:"w-4 h-4 mr-2 text-green-400"}),"Daily Calorie Goal"]}),i?a.jsx(Ue,{type:"number",value:G.calorieGoal,onChange:R=>{const z=parseInt(R.target.value)||2e3;T(Y=>({...Y,calorieGoal:z}))},className:"bg-white/80 border-amber-300 text-gray-900 placeholder-gray-500 w-full",placeholder:"Enter your daily calorie goal",min:"1000",max:"5000",step:"50"}):a.jsxs("p",{className:"text-gray-700 bg-gradient-to-br from-amber-50 to-amber-100 p-3 rounded-lg border border-amber-200/40 break-words",children:[G.calorieGoal," calories/day"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 font-medium flex items-center",children:[a.jsx($s,{className:"w-4 h-4 mr-2 text-blue-400"}),"Email Address"]}),a.jsx("p",{className:"text-gray-200 bg-white/5 p-3 rounded-lg border border-white/10 break-all",children:G.email||"Not provided"})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"profile-section-title flex items-center",children:[a.jsx(Wo,{className:"w-5 h-5 mr-2 text-purple-400"}),"Security Settings"]}),!u&&a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>h(!0),className:"border-amber-300/60 text-amber-600 hover:bg-amber-200/30 hover:text-amber-700 hover:border-amber-400 bg-amber-50/70",children:[a.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Change Password"]})]}),u&&a.jsxs("div",{className:"space-y-4 bg-white/5 p-4 rounded-lg border border-white/10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 font-medium flex items-center",children:[a.jsx(Sn,{className:"w-4 h-4 mr-2 text-purple-400"}),"Current Password"]}),a.jsx(Ue,{type:"password",value:d,onChange:R=>f(R.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400",placeholder:"Enter your current password"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 font-medium flex items-center",children:[a.jsx(Sn,{className:"w-4 h-4 mr-2 text-purple-400"}),"New Password"]}),a.jsx(Ue,{type:"password",value:p,onChange:R=>w(R.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400",placeholder:"Enter new password (min 6 characters)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 font-medium flex items-center",children:[a.jsx(Sn,{className:"w-4 h-4 mr-2 text-purple-400"}),"Confirm New Password"]}),a.jsx(Ue,{type:"password",value:v,onChange:R=>b(R.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400",placeholder:"Re-enter new password"})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>{h(!1),f(""),w(""),b("")},className:"border-amber-400/50 text-gray-700 hover:border-amber-500 hover:text-gray-900 bg-amber-50/30",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Cancel"]}),a.jsx(Q,{size:"sm",onClick:D,disabled:y,className:"bg-gradient-to-r from-amber-400 to-orange-400 hover:from-amber-500 hover:to-orange-500 text-white shadow-lg",children:y?a.jsx(a.Fragment,{children:"Changing Password..."}):a.jsxs(a.Fragment,{children:[a.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Update Password"]})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"profile-section-title",children:"Privacy & Data Management"}),a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>k(!x),className:"border-amber-400/60 text-gray-700 hover:border-blue-400 hover:text-blue-600 bg-white/90 hover:bg-blue-50/80","data-testid":"button-manage-photos",children:[a.jsx(sn,{className:"w-4 h-4 mr-2"}),x?"Hide":"Manage"," Uploaded Photos"]})]}),x&&a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200/40 rounded-lg p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm text-gray-700",children:"View and delete photos you've uploaded for AI analysis to maintain your privacy."}),j.length>0&&a.jsxs(Q,{variant:"destructive",size:"sm",onClick:()=>M.mutate(j),disabled:M.isPending,className:"bg-red-500 hover:bg-red-600","data-testid":"button-batch-delete",children:[a.jsx(ca,{className:"w-4 h-4 mr-2"}),"Delete Selected (",j.length,")"]})]}),C.isLoading&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading your photos..."})]}),C.error&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(pw,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-red-600",children:"Failed to load photos. Please try again."})]}),C.data&&((F=C.data)==null?void 0:F.photos)&&a.jsx("div",{className:"space-y-2",children:((O=(P=C.data)==null?void 0:P.photos)==null?void 0:O.length)===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(sn,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600",children:"No uploaded photos found."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-sm text-gray-700 mb-2",children:["Found ",((B=(U=C.data)==null?void 0:U.photos)==null?void 0:B.length)||0," uploaded photo(s)"]}),a.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:(((W=C.data)==null?void 0:W.photos)||[]).map(R=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/70 rounded-lg border border-blue-200/30","data-testid":`photo-item-${R.id}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"checkbox",checked:j.includes(R.id),onChange:z=>{z.target.checked?_(Y=>[...Y,R.id]):_(Y=>Y.filter(q=>q!==R.id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500","data-testid":`checkbox-photo-${R.id}`}),a.jsx(sn,{className:"w-4 h-4 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900","data-testid":`text-filename-${R.id}`,children:R.fileName}),a.jsxs("p",{className:"text-xs text-gray-500","data-testid":`text-upload-date-${R.id}`,children:["Uploaded: ",new Date(R.uploadedAt).toLocaleDateString()]}),R.fileSize&&a.jsxs("p",{className:"text-xs text-gray-500",children:["Size: ",(R.fileSize/1024/1024).toFixed(2)," MB"]})]})]}),a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>I.mutate(R.id),disabled:I.isPending,className:"border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400","data-testid":`button-delete-${R.id}`,children:a.jsx(ca,{className:"w-4 h-4"})})]},R.id))})]})}),a.jsx("div",{className:"border-t pt-3 mt-4",children:a.jsxs("p",{className:"text-xs text-gray-600",children:[a.jsx("strong",{children:"Privacy Notice:"})," Deleting photos will permanently remove them from our servers. This action cannot be undone."]})})]})})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-white/20 mt-8",children:[a.jsxs(Q,{variant:"outline",size:"sm",onClick:$,className:"border-red-300/60 text-red-600 hover:bg-red-200/30 hover:text-red-700 hover:border-red-400 bg-white/70",children:[a.jsx(z_,{className:"w-4 h-4 mr-2"}),"Sign Out"]}),a.jsx("div",{className:"flex gap-3",children:i?a.jsxs(a.Fragment,{children:[a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>o(!1),className:"border-amber-400/50 text-gray-700 hover:border-amber-500 hover:text-gray-900 bg-amber-50/30",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Cancel"]}),a.jsx(Q,{size:"sm",onClick:K,disabled:l,className:"bg-gradient-to-r from-green-400 to-emerald-400 hover:from-green-500 hover:to-emerald-500 text-white shadow-lg",children:l?a.jsx(a.Fragment,{children:"Saving..."}):a.jsxs(a.Fragment,{children:[a.jsx(G_,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}):a.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>o(!0),className:"border-amber-400/60 text-gray-700 hover:border-blue-400 hover:text-blue-600 bg-white/90 hover:bg-blue-50/80",children:[a.jsx(W_,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]})]})}var _5="Label",fb=m.forwardRef((t,e)=>a.jsx(Pe.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));fb.displayName=_5;var E5=fb;function Ai({className:t,...e}){return a.jsx(E5,{"data-slot":"label",className:Ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function T5({notification:t,onClose:e}){const[r,n]=m.useState(!1);m.useEffect(()=>{if(t&&(n(!0),t.duration)){const l=setTimeout(()=>{s()},t.duration);return()=>clearTimeout(l)}},[t]);const s=()=>{n(!1),setTimeout(()=>{e()},300)};if(!t)return null;const i=()=>{switch(t.type){case"success":return a.jsx(is,{className:"w-8 h-8 text-green-500"});case"error":return a.jsx(an,{className:"w-8 h-8 text-red-500"});case"warning":return a.jsx(an,{className:"w-8 h-8 text-yellow-500"});case"info":return a.jsx($s,{className:"w-8 h-8 text-blue-500"});default:return a.jsx(an,{className:"w-8 h-8 text-gray-500"})}},o=()=>{switch(t.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-amber-50 border-amber-200"}};return a.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onClick:s,children:a.jsxs("div",{className:`relative mx-4 max-w-md w-full bg-amber-50 rounded-xl shadow-2xl border-2 transform transition-all duration-300 ${r?"scale-100 translate-y-0":"scale-95 translate-y-4"} ${o()}`,onClick:l=>l.stopPropagation(),"data-testid":"auth-popup-notification",children:[a.jsx(Q,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 w-8 h-8 p-0 rounded-full hover:bg-amber-200/50",onClick:s,"data-testid":"button-close-notification",children:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx("div",{className:"p-6 pt-8",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0",children:i()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2","data-testid":"notification-title",children:t.title}),a.jsx("p",{className:"text-gray-700 leading-relaxed mb-4","data-testid":"notification-description",children:t.description}),t.onAction&&t.actionText&&a.jsx(Q,{onClick:()=>{t.onAction(),s()},className:"mt-2",variant:t.type==="error"?"destructive":"default","data-testid":"button-notification-action",children:t.actionText})]})]})})]})})}function P5(){const[t,e]=m.useState(null);return{notification:t,showNotification:s=>{e(s)},closeNotification:()=>{e(null)}}}function A5({onClose:t}){const[e,r]=m.useState(!1),[n,s]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState(!1),[u,h]=m.useState(!1),[d,f]=m.useState(!1),[p,w]=m.useState(!1),[v,b]=m.useState([]),[y,g]=m.useState(!1),[x,k]=m.useState("");Yt();const{supabase:j,refetch:_}=_t(),{notification:A,showNotification:C,closeNotification:I}=P5(),M=P=>{const O=[];return P.length<8&&O.push("At least 8 characters"),/[A-Z]/.test(P)||O.push("One uppercase letter"),/[a-z]/.test(P)||O.push("One lowercase letter"),/\d/.test(P)||O.push("One number"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(P)||O.push("One special character"),O},G=P=>{o(P),b(e?M(P):[])},T=async P=>{if(P.preventDefault(),!n||!i){C({type:"error",title:"Missing Information",description:"Please enter both email and password.",duration:5e3});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){C({type:"error",title:"Invalid Email",description:"Please enter a valid email address.",duration:5e3});return}if(e&&v.length>0){C({type:"error",title:"Password Requirements Not Met",description:`Password needs: ${v.join(", ")}`,duration:6e3});return}c(!0);try{const B=await fetch(e?"/api/auth/signup":"/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:i})}),W=await B.json();if(B.ok){if(W.requiresVerification)g(!0),k(W.email||n),h(!1),C({type:"info",title:e?"Account Created!":"Email Verification Required",description:W.message||"Please check your email and click the verification link to activate your account.",duration:1e4}),e&&(r(!1),o(""));else if(W.session)try{const{data:R,error:z}=await j.auth.setSession({access_token:W.session.access_token,refresh_token:W.session.refresh_token});if(z)throw console.error(" Session setting error:",z),z;console.log(" Supabase session set successfully");const{data:Y}=await j.auth.getSession();console.log(" Refreshing auth state..."),await _(),window.dispatchEvent(new CustomEvent("auth-state-change")),await new Promise(q=>setTimeout(q,1e3)),C({type:"success",title:"Welcome back!",description:"You've been signed in successfully.",duration:4e3}),console.log(" Closing modal after successful sign-in"),t?(console.log(" Closing authentication modal"),t()):console.log(" No onClose function provided")}catch(R){console.log(" Session setting failed, using page reload fallback:",R),C({type:"info",title:"Signing in...",description:"Refreshing page to complete sign-in.",duration:3e3}),setTimeout(()=>{window.location.reload()},1e3)}}else{console.log(" ENTERING ERROR HANDLING BRANCH");const R=W.code,z=W.message||"Please try again.";if(console.log(" Handling authentication error:",{errorCode:R,errorMessage:z,isSignUp:e}),console.log(" Full error response data:",W),W.requiresVerification||R==="EMAIL_NOT_VERIFIED")g(!0),k(W.email||n),C({type:"warning",title:"Email Verification Required",description:z,duration:12e3});else if(R==="ACCOUNT_NOT_FOUND")console.log(" Showing ACCOUNT_NOT_FOUND popup notification"),C({type:"warning",title:"Account Not Found",description:z+" Would you like to create a new account?",duration:1e4,actionText:"Create Account",onAction:()=>{r(!0),o(""),b([])}}),console.log(" Will switch to sign-up mode in 2 seconds"),setTimeout(()=>{console.log(" Switching to sign-up mode now"),r(!0),o(""),b([])},3e3);else if(R==="INVALID_CREDENTIALS")console.log(" Showing INVALID_CREDENTIALS popup notification"),C({type:"error",title:"Incorrect Credentials",description:z+" You can reset your password if needed.",duration:8e3,actionText:"Reset Password",onAction:()=>{f(!0)}});else if(R==="SERVICE_ERROR")C({type:"error",title:"Service Unavailable",description:z,duration:6e3});else{let Y=z;Y.includes("Password should contain")&&(Y="Password must include: uppercase letter, lowercase letter, number, and special character (!@#$%^&* etc.)"),C({type:"error",title:"Authentication Failed",description:Y,duration:6e3})}}}catch(U){console.error("Authentication error:",U),C({type:"error",title:"Error",description:"Something went wrong. Please try again.",duration:5e3})}finally{c(!1)}},K=async()=>{if(!x){C({type:"error",title:"No email address",description:"Please try signing up again.",duration:5e3});return}c(!0);try{const{error:P}=await j.auth.resend({type:"signup",email:x,options:{emailRedirectTo:`${window.location.origin}/api/auth/verify-email`}});if(P)throw P;C({type:"success",title:"Verification Email Sent",description:"A new verification email has been sent. Please check your inbox and click the link.",duration:8e3})}catch(P){C({type:"error",title:"Failed to Resend",description:P.message||"Unable to resend verification email. Please try again.",duration:6e3})}finally{c(!1)}},D=async()=>{if(!l){c(!0);try{const{error:P}=await j.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}`,queryParams:{access_type:"offline",prompt:"consent"}}});if(P)throw P;C({type:"info",title:"Redirecting to Google",description:"You'll be redirected to Google to complete sign-in.",duration:3e3})}catch(P){c(!1);let O=P.message;P.message.includes("fetch")?O="Unable to connect to Google authentication. Please try again.":P.message.includes("oauth")&&(O="Google authentication is not properly configured. Please contact support."),C({type:"error",title:"Google Sign-In Failed",description:O,duration:6e3})}}},$=async()=>{if(!l){c(!0);try{const{error:P}=await j.auth.signInWithOAuth({provider:"github",options:{redirectTo:`${window.location.origin}`}});if(P)throw P;C({type:"info",title:"Redirecting to GitHub",description:"You'll be redirected to GitHub to complete sign-in.",duration:3e3})}catch(P){c(!1);let O=P.message;P.message.includes("fetch")?O="Unable to connect to GitHub authentication. Please try again.":P.message.includes("oauth")&&(O="GitHub authentication is not properly configured. Please contact support."),C({type:"error",title:"GitHub Sign-In Failed",description:O,duration:6e3})}}},F=async P=>{if(P.preventDefault(),!n){C({type:"error",title:"Email Required",description:"Please enter your email address to reset your password.",duration:5e3});return}c(!0);try{const{error:O}=await j.auth.resetPasswordForEmail(n,{redirectTo:`${window.location.origin}/reset-password`});if(O)throw O;w(!0),C({type:"success",title:"Password Reset Email Sent",description:"Check your email for the password reset link. It may take a few minutes to arrive.",duration:8e3})}catch(O){C({type:"error",title:"Password Reset Failed",description:O.message||"Unable to send password reset email. Please try again.",duration:6e3})}finally{c(!1)}};return a.jsxs("div",{className:"w-full space-y-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl mb-4 inline-block",children:a.jsx(Vc,{className:"w-8 h-8 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-950 mb-2",style:{fontFamily:"'League Spartan', sans-serif"},children:e?"Join bytewise nutritionist":"Welcome Back"}),a.jsx("p",{className:"text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:e?"Start your nutrition tracking journey today":"Access your nutrition tracking and progress"})]})}),a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 p-8",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"text-center mb-6",children:a.jsxs("h3",{className:"text-xl font-bold text-gray-950 mb-2",style:{fontFamily:"'League Spartan', sans-serif"},children:["Your ",a.jsx("span",{className:"bg-gradient-to-r from-orange-400 to-red-500 bg-clip-text text-transparent",children:"Nutrition"})," Journey Awaits"]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-100/50 rounded-xl border border-amber-200/40",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg",children:a.jsx(gw,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-950 text-sm",children:"Track Your Progress"}),a.jsx("div",{className:"text-xs text-gray-900",children:"Monitor daily goals and achievements"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-100/50 rounded-xl border border-amber-200/40",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg",children:a.jsx(Wo,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-950 text-sm",children:"Secure Data Sync"}),a.jsx("div",{className:"text-xs text-gray-900",children:"Your data stays safe across devices"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-amber-100/50 rounded-xl border border-amber-200/40",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg",children:a.jsx(Vc,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-950 text-sm",children:"Personal Profile"}),a.jsx("div",{className:"text-xs text-gray-900",children:"Customize goals and preferences"})]})]})]}),a.jsxs("form",{onSubmit:P=>{P.preventDefault(),P.stopPropagation(),T(P)},className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ai,{htmlFor:"email",className:"text-sm font-medium text-gray-950",children:"Email"}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Ue,{id:"email",type:"email",value:n,onChange:P=>s(P.target.value),placeholder:"Enter your email",className:"pl-10 bg-white/60 border-amber-300/60 text-gray-950 placeholder-gray-600 focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ai,{htmlFor:"password",className:"text-sm font-medium text-gray-950",children:["Password",e&&a.jsx("span",{className:"text-xs text-gray-400 ml-2",children:"(Must include: A-Z, a-z, 0-9, special chars)"})]}),!e&&!d&&a.jsx("a",{href:"#",onClick:P=>{P.preventDefault(),f(!0)},className:"text-xs text-blue-400 hover:text-blue-300 transition-colors underline-offset-4 hover:underline cursor-pointer","data-testid":"link-forgot-password",children:"Forgot password?"})]}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(Sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Ue,{id:"password",type:"password",value:i,onChange:P=>G(P.target.value),placeholder:"Enter your password",className:"pl-10 bg-white/60 border-amber-300/60 text-gray-950 placeholder-gray-600 focus:border-blue-500 focus:ring-blue-500",required:!d})]}),e&&i&&a.jsx("div",{className:"mt-2 text-xs",children:v.length>0?a.jsxs("div",{className:"text-red-400",children:[a.jsx("div",{className:"font-medium",children:"Password needs:"}),a.jsx("ul",{className:"list-disc list-inside mt-1 space-y-1",children:v.map((P,O)=>a.jsx("li",{children:P},O))})]}):a.jsxs("div",{className:"text-green-400 flex items-center",children:[a.jsx(is,{className:"w-3 h-3 mr-1"}),"Password meets all requirements"]})})]})]}),y?a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($s,{className:"w-5 h-5 text-yellow-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold text-white text-sm mb-1",children:"Email Verification Required"}),a.jsxs("div",{className:"text-xs text-gray-300 mb-3",children:["We sent a verification link to ",a.jsx("span",{className:"text-white font-medium",children:x}),". Please check your inbox (including spam folder) and click the link to activate your account."]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsx(Q,{type:"button",onClick:K,disabled:l,variant:"outline",size:"sm",className:"text-xs border-yellow-500/30 text-yellow-400 hover:bg-yellow-500/10",children:l?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 border-2 border-yellow-400/30 border-t-yellow-400 rounded-full animate-spin mr-2"}),"Resending..."]}):"Resend Verification Email"}),a.jsx(Q,{type:"button",onClick:()=>{g(!1),k("")},variant:"ghost",size:"sm",className:"text-xs text-gray-400 hover:text-white",children:"Back to Sign In"})]})]})]})})}):d?a.jsxs("div",{className:"space-y-3",children:[a.jsx(Q,{type:"button",onClick:F,disabled:l||p,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 py-3 text-sm font-semibold",children:l?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Sending Reset Email..."]}):p?a.jsxs(a.Fragment,{children:[a.jsx($s,{className:"w-5 h-5 mr-2"}),"Reset Email Sent - Check Your Inbox"]}):a.jsxs(a.Fragment,{children:[a.jsx($s,{className:"w-5 h-5 mr-2"}),"Send Password Reset Email"]})}),a.jsx("button",{type:"button",onClick:()=>{f(!1),w(!1)},className:"w-full text-sm text-gray-300 hover:text-white transition-colors",children:"Back to Sign In"})]}):a.jsx(Q,{type:"submit",disabled:l,onClick:P=>P.stopPropagation(),className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 py-3 text-sm font-semibold","data-testid":"button-submit",children:l?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),e?"Creating Account...":"Signing In..."]}):a.jsxs(a.Fragment,{children:[e?a.jsx(Y_,{className:"w-5 h-5 mr-2"}):a.jsx($_,{className:"w-5 h-5 mr-2"}),e?"Create Account":"Sign In"]})})]}),typeof window<"u"&&!window.location.href.includes("capacitor://")&&a.jsxs("div",{className:"space-y-3",onClick:P=>P.stopPropagation(),children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-white/20"})}),a.jsx("div",{className:"relative flex justify-center text-xs",children:a.jsx("span",{className:"px-2 bg-white/10 text-gray-300",children:"Or continue with"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(Q,{type:"button",variant:"outline",onClick:P=>{P.preventDefault(),P.stopPropagation(),D()},disabled:l,className:"flex items-center justify-center py-2 px-4 border border-white/20 bg-white/5 text-sm font-medium text-gray-300 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"button-google-signin",children:[l?a.jsx("div",{className:"w-4 h-4 border-2 border-gray-300/30 border-t-gray-300 rounded-full animate-spin mr-2"}):a.jsx(__,{className:"w-4 h-4 mr-2"}),"Google"]}),a.jsxs(Q,{type:"button",variant:"outline",onClick:P=>{P.preventDefault(),P.stopPropagation(),$()},disabled:l,className:"flex items-center justify-center py-2 px-4 border border-white/20 bg-white/5 text-sm font-medium text-gray-300 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"button-github-signin",children:[l?a.jsx("div",{className:"w-4 h-4 border-2 border-gray-300/30 border-t-gray-300 rounded-full animate-spin mr-2"}):a.jsx(O_,{className:"w-4 h-4 mr-2"}),"GitHub"]})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("a",{href:"#",onClick:P=>{P.preventDefault(),r(!e)},className:"text-sm text-blue-400 hover:text-blue-300 font-medium transition-colors duration-200 underline-offset-4 hover:underline cursor-pointer","data-testid":"link-toggle-signup",children:e?"Already have an account? Sign in":"Don't have an account? Sign up"})}),a.jsx("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Wo,{className:"w-4 h-4 text-blue-400 mt-0.5"}),a.jsxs("div",{className:"text-xs text-gray-300",children:[a.jsx("div",{className:"font-medium mb-1 text-white",children:"Privacy Protected"}),a.jsx("div",{children:"Your nutrition data is encrypted and private. We never share your personal information."})]})]})})]})}),a.jsx(T5,{notification:A,onClose:I})]})}var R5="Separator",o0="horizontal",I5=["horizontal","vertical"],mb=m.forwardRef((t,e)=>{const{decorative:r,orientation:n=o0,...s}=t,i=D5(n)?n:o0,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Pe.div,{"data-orientation":i,...l,...s,ref:e})});mb.displayName=R5;function D5(t){return I5.includes(t)}var pb=mb;const Bm=m.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>a.jsx(pb,{ref:s,decorative:r,orientation:e,className:Ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Bm.displayName=pb.displayName;function l0(){_t();const{toast:t}=Yt(),[e,r]=m.useState(!1),n=async()=>{console.log(" PDF Export button clicked - starting process..."),r(!0);try{console.log(" Importing PDF export utility...");const{generateProgressReportPDF:o}=await Ss(async()=>{const{generateProgressReportPDF:c}=await import("./pdfExport-BiniHapU.js").then(u=>u.p);return{generateProgressReportPDF:c}},[]);console.log(" Starting PDF generation...");const l=await o();if(console.log(" PDF generation result:",l),l)t({title:"PDF Report Downloaded ",description:"Your nutrition report has been downloaded. Check your Downloads folder for the PDF file."}),console.log(" PDF export completed successfully");else throw new Error("PDF generation returned false")}catch(o){console.error(" PDF export failed:",o),t({title:"Export Failed",description:`Unable to generate PDF report: ${o.message||"Unknown error"}. Please check your internet connection and try again.`,variant:"destructive"})}finally{r(!1),console.log(" PDF export process finished")}},s=async()=>{if(confirm("Are you sure you want to delete all your data? This action cannot be undone."))try{if((await fetch("/api/user/delete-data",{method:"DELETE"})).ok)t({title:"Data deleted",description:"All your data has been permanently deleted."});else throw new Error("Failed to delete data")}catch{t({title:"Delete failed",description:"There was an error deleting your data. Please try again.",variant:"destructive"})}},i={totalMeals:127,totalDays:45,dataSize:"2.3 MB"};return a.jsx("div",{className:"min-h-screen px-6 py-3",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-3 bg-gradient-to-br from-[#faed39] to-[#1f4aa6] rounded-xl",children:a.jsx(I_,{className:"w-6 h-6 text-gray-900"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",style:{fontFamily:"'League Spartan', sans-serif"},children:"Data Management"}),a.jsx("p",{className:"text-gray-700",style:{fontFamily:"'Work Sans', sans-serif"},children:"Export, sync, and manage your nutrition data"})]})]})}),a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-950 mb-6",style:{fontFamily:"'League Spartan', sans-serif"},children:"Data Overview"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#45c73e]/10 to-[#45c73e]/5 rounded-lg border border-[#45c73e]/20",children:[a.jsx("div",{className:"text-2xl font-bold text-[#45c73e]",style:{fontFamily:"'League Spartan', sans-serif"},children:i.totalMeals}),a.jsx("div",{className:"text-sm text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Meals Logged"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#1f4aa6]/10 to-[#1f4aa6]/5 rounded-lg border border-[#1f4aa6]/20",children:[a.jsx("div",{className:"text-2xl font-bold text-[#1f4aa6]",style:{fontFamily:"'League Spartan', sans-serif"},children:i.totalDays}),a.jsx("div",{className:"text-sm text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Days Tracked"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#faed39]/10 to-[#faed39]/5 rounded-lg border border-[#faed39]/20",children:[a.jsx("div",{className:"text-2xl font-bold text-[#faed39]",style:{fontFamily:"'League Spartan', sans-serif"},children:i.dataSize}),a.jsx("div",{className:"text-sm text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Data Size"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-amber-100 to-amber-200 rounded-lg border border-amber-300/40",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(P_,{className:"w-5 h-5 text-[#1f4aa6]"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-950",style:{fontFamily:"'Work Sans', sans-serif"},children:"Auto Sync Status"}),a.jsx("p",{className:"text-sm text-gray-900",style:{fontFamily:"'Quicksand', sans-serif"},children:"Your data syncs automatically as you use the app"})]})]}),a.jsx(Le,{className:"bg-[#45c73e]/20 text-[#45c73e] border-[#45c73e]/30",children:"Always Active"})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-6 bg-gradient-to-br from-[#1f4aa6]/10 to-[#1f4aa6]/5 rounded-2xl border border-[#1f4aa6]/20 backdrop-blur-md",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-[#1f4aa6]/20 rounded-2xl",children:a.jsx(uf,{className:"w-8 h-8 text-[#1f4aa6]",strokeWidth:2.5})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-950 text-xl mb-2",style:{fontFamily:"'League Spartan', sans-serif"},children:"Export Data"}),a.jsx("p",{className:"text-sm text-gray-900 mb-4",style:{fontFamily:"'Quicksand', sans-serif"},children:"Download comprehensive nutrition reports with graphs and insights"}),a.jsx(Le,{className:"bg-[#1f4aa6]/20 text-[#1f4aa6] border-[#1f4aa6]/30 mb-4",children:"PDF Format"})]}),a.jsx(Q,{onClick:n,disabled:e,size:"lg",className:"w-full bg-gradient-to-r from-amber-400 to-orange-400 hover:from-amber-500 hover:to-orange-500 text-white shadow-xl rounded-2xl px-8 py-4 transition-all duration-300 font-semibold","data-testid":"button-download-pdf",children:e?a.jsxs(a.Fragment,{children:[a.jsx(Im,{className:"w-5 h-5 mr-3 animate-spin",strokeWidth:2.5}),"Generating Report..."]}):a.jsxs(a.Fragment,{children:[a.jsx(uf,{className:"w-5 h-5 mr-3",strokeWidth:2.5}),"Download PDF Report"]})})]})}),a.jsx(Bm,{className:"bg-amber-300/40"}),a.jsx("div",{className:"p-6 bg-red-950/30 rounded-2xl border border-red-800/30 backdrop-blur-md",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-red-600/20 rounded-2xl",children:a.jsx(ca,{className:"w-8 h-8 text-red-600",strokeWidth:2.5})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-red-400 text-xl mb-2",style:{fontFamily:"'League Spartan', sans-serif"},children:"Danger Zone"}),a.jsx("p",{className:"text-sm text-red-300 mb-4",style:{fontFamily:"'Quicksand', sans-serif"},children:"Permanently delete all your nutrition data and progress"}),a.jsx(Le,{variant:"destructive",className:"bg-red-600/20 text-red-400 border-red-600/30 mb-4",children:"Irreversible Action"})]}),a.jsxs(Q,{onClick:s,variant:"destructive",size:"lg",className:"w-full bg-gradient-to-r from-red-400 to-red-500 hover:from-red-500 hover:to-red-600 text-white shadow-xl rounded-2xl px-8 py-4 transition-all duration-300 font-semibold",children:[a.jsx(ca,{className:"w-5 h-5 mr-3",strokeWidth:2.5}),"Delete All Data"]})]})})]})]})})}function O5({isOpen:t,onClose:e,achievement:r}){const[n,s]=m.useState(!1);return m.useEffect(()=>{if(t){s(!0);const i=setTimeout(()=>{e()},4e3);return()=>clearTimeout(i)}},[t,e]),m.useEffect(()=>{if(n){const i=setTimeout(()=>{s(!1)},2e3);return()=>clearTimeout(i)}},[n]),!t||!r?null:a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:[n&&a.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:Array.from({length:50}).map((i,o)=>a.jsx("div",{className:"absolute animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()*2}s`},children:a.jsx(zs,{className:`w-3 h-3 ${Math.random()>.5?"text-yellow-400":Math.random()>.5?"text-orange-400":"text-green-400"}`,style:{transform:`rotate(${Math.random()*360}deg)`}})},o))}),a.jsxs(ie,{className:"relative max-w-sm mx-4 p-6 bg-gradient-to-br from-amber-50 to-amber-100 shadow-2xl animate-bounce",children:[a.jsx(Q,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0",onClick:e,children:a.jsx(ln,{size:16})}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full mb-4 animate-pulse",children:a.jsx(tn,{className:"w-10 h-10 text-gray-900"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Achievement Unlocked!"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:r.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:r.description}),a.jsx(Q,{onClick:e,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white",children:"Awesome!"})]})]})]})}const Md=[{id:"first_meal_logged",title:"First Meal",description:"Log your first meal to start your nutrition journey",icon:"",category:"daily",difficulty:"bronze",target:1,points:10},{id:"calorie_goal_met",title:"Calorie Champion",description:"Hit your daily calorie target within 10%",icon:"",category:"daily",difficulty:"bronze",target:1,points:15},{id:"protein_goal_met",title:"Protein Power",description:"Reach your daily protein target",icon:"",category:"daily",difficulty:"bronze",target:1,points:10},{id:"water_goal_met",title:"Hydration Hero",description:"Complete your daily water intake goal",icon:"",category:"daily",difficulty:"bronze",target:1,points:10},{id:"three_meals_day",title:"Three Meals Champion",description:"Log breakfast, lunch, and dinner in one day",icon:"",category:"daily",difficulty:"silver",target:3,points:20},{id:"three_day_streak",title:"3 Day Streak",description:"Track nutrition for 3 consecutive days",icon:"",category:"weekly",difficulty:"silver",target:3,points:25},{id:"weekly_consistency",title:"Week Warrior",description:"Log meals for 7 consecutive days",icon:"",category:"weekly",difficulty:"gold",target:7,points:50},{id:"weekly_calorie_average",title:"Weekly Balance",description:"Maintain your weekly calorie average",icon:"",category:"weekly",difficulty:"silver",target:7,points:35},{id:"monthly_consistency",title:"Month Master",description:"Log meals for 20 days in a month",icon:"",category:"monthly",difficulty:"gold",target:20,points:100},{id:"monthly_calorie_goals",title:"Monthly Goal Crusher",description:"Hit calorie goals for 15 days in a month",icon:"",category:"monthly",difficulty:"gold",target:15,points:75},{id:"hundred_meals",title:"Meal Century",description:"Log 100 total meals",icon:"",category:"milestone",difficulty:"platinum",target:100,points:150},{id:"thousand_calories_tracked",title:"Calorie Counter",description:"Track 50,000 total calories",icon:"",category:"milestone",difficulty:"gold",target:5e4,points:100},{id:"nutrition_master",title:"Nutrition Master",description:"Achieve 30 daily goals",icon:"",category:"milestone",difficulty:"platinum",target:30,points:200},{id:"fasting_beginner",title:"Fasting Beginner",description:"Complete your first intermittent fast",icon:"",category:"special",difficulty:"bronze",target:1,points:25},{id:"fasting_warrior",title:"Fasting Warrior",description:"Complete 10 fasting sessions",icon:"",category:"special",difficulty:"gold",target:10,points:75},{id:"ai_food_analyzer",title:"AI Explorer",description:"Use AI Food Analyzer 5 times",icon:"",category:"special",difficulty:"silver",target:5,points:30}];function M5({onClose:t}){const{user:e}=_t();Yt();const[r,n]=m.useState("all"),[s,i]=m.useState([]),[o,l]=m.useState({totalPoints:0,achievementsCompleted:0,currentStreak:0,longestStreak:0,level:1,nextLevelPoints:100}),c=[{id:"all",name:"All",icon:L_},{id:"daily",name:"Daily",icon:mw},{id:"weekly",name:"Weekly",icon:jn},{id:"monthly",name:"Monthly",icon:S_},{id:"milestone",name:"Milestones",icon:D_},{id:"special",name:"Special",icon:R_}],u={bronze:"bg-amber-600/20 border-amber-500/30 text-amber-700",silver:"bg-gray-400/20 border-gray-400/30 text-gray-700",gold:"bg-orange-100/80 border-orange-400/50 text-orange-700",platinum:"bg-[#1f4aa6]/20 border-[#1f4aa6]/30 text-[#1f4aa6]"},{data:h,isLoading:d,refetch:f}=Cn({queryKey:["/api/achievements"],queryFn:async()=>await(await je("GET","/api/achievements")).json(),enabled:!!e}),{data:p}=Cn({queryKey:["/api/user/progress",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return null;try{const x=await(await je("GET",`/api/users/${e.id}/daily-stats`)).json(),k=JSON.parse(localStorage.getItem("weeklyMeals")||"[]"),j=JSON.parse(localStorage.getItem("fastingHistory")||"[]"),_=JSON.parse(localStorage.getItem("aiAnalyzerUsage")||"[]");return{dailyStats:x,weeklyMeals:k,fastingHistory:j,aiAnalyzerUsage:_}}catch(g){return console.error("Error fetching daily stats:",g),{dailyStats:{totalCalories:0,totalProtein:0,waterGlasses:0},weeklyMeals:JSON.parse(localStorage.getItem("weeklyMeals")||"[]"),fastingHistory:JSON.parse(localStorage.getItem("fastingHistory")||"[]"),aiAnalyzerUsage:JSON.parse(localStorage.getItem("aiAnalyzerUsage")||"[]")}}},enabled:!!e}),{data:w}=Cn({queryKey:["/api/user/statistics"],queryFn:async()=>{try{return await(await je("GET","/api/user/statistics")).json()}catch{return{totalPoints:0,achievementsUnlocked:0,currentStreak:0,longestStreak:0}}},enabled:!!e});m.useEffect(()=>{if(h!=null&&h.achievements){const g=h.achievements.map(j=>{const _=Md.find(A=>A.id===j.achievementType);return{id:j.achievementType,title:j.title,description:j.description,icon:(_==null?void 0:_.icon)||"",category:(_==null?void 0:_.category)||"daily",difficulty:(_==null?void 0:_.difficulty)||"bronze",progress:(_==null?void 0:_.target)||1,target:(_==null?void 0:_.target)||1,completed:!0,completedDate:new Date(j.earnedAt),points:(_==null?void 0:_.points)||10}}),x=new Set(g.map(j=>j.id)),k=Md.filter(j=>!x.has(j.id)).map(j=>({...j,progress:0,completed:!1}));i([...g,...k])}else i(Md.map(g=>({...g,progress:0,completed:!1})))},[h]),m.useEffect(()=>{w&&l({totalPoints:w.totalPoints||0,achievementsCompleted:w.achievementsUnlocked||0,currentStreak:w.currentStreak||0,longestStreak:w.longestStreak||0,level:Math.floor((w.totalPoints||0)/100)+1,nextLevelPoints:(Math.floor((w.totalPoints||0)/100)+1)*100})},[w]),m.useEffect(()=>{if(!e)return;const g=async()=>{try{await je("POST","/api/achievements/check"),f()}catch{}};g();const x=setInterval(g,3e4);return()=>clearInterval(x)},[e,f]);const v=r==="all"?s:s.filter(g=>g.category===r),b=s.filter(g=>g.completed),y=s.length>0?b.length/s.length*100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#faed39]/10 to-[#faed39]/5 rounded-lg border border-[#faed39]/20",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",style:{fontFamily:"'League Spartan', sans-serif"},children:o.totalPoints||0}),a.jsx("div",{className:"text-sm text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Total Points"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#45c73e]/10 to-[#45c73e]/5 rounded-lg border border-[#45c73e]/20",children:[a.jsx("div",{className:"text-2xl font-bold text-[#45c73e]",style:{fontFamily:"'League Spartan', sans-serif"},children:b.length||0}),a.jsx("div",{className:"text-sm text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Completed"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#1f4aa6]/10 to-[#1f4aa6]/5 rounded-lg border border-[#1f4aa6]/20",children:[a.jsx("div",{className:"text-2xl font-bold text-[#1f4aa6]",style:{fontFamily:"'League Spartan', sans-serif"},children:o.currentStreak||0}),a.jsx("div",{className:"text-sm text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Current Streak"})]}),a.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#faed39]/10 to-[#1f4aa6]/10 rounded-lg border border-[#faed39]/20",children:[a.jsxs("div",{className:"text-2xl font-bold text-gray-950",style:{fontFamily:"'League Spartan', sans-serif"},children:["Level ",o.level]}),a.jsx("div",{className:"text-sm text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Current Level"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Overall Progress"}),a.jsxs("span",{className:"text-gray-950 font-medium",style:{fontFamily:"'Work Sans', sans-serif"},children:[Math.round(y),"%"]})]}),a.jsx("div",{className:"relative w-full bg-blue-100 rounded-full h-3",style:{backgroundColor:"#dbeafe"},children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${y}%`}})})]}),a.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-6 my-8",children:c.map(g=>{const x=g.icon,k=r===g.id,_={all:{bg:"from-purple-200 to-pink-200",icon:"text-purple-700",active:"from-purple-300 to-pink-300"},daily:{bg:"from-orange-200 to-yellow-200",icon:"text-orange-700",active:"from-orange-300 to-yellow-300"},weekly:{bg:"from-blue-200 to-cyan-200",icon:"text-blue-700",active:"from-blue-300 to-cyan-300"},monthly:{bg:"from-green-200 to-emerald-200",icon:"text-green-700",active:"from-green-300 to-emerald-300"},milestone:{bg:"from-red-200 to-rose-200",icon:"text-red-700",active:"from-red-300 to-rose-300"},special:{bg:"from-amber-200 to-orange-200",icon:"text-amber-700",active:"from-amber-300 to-orange-300"}}[g.id];return a.jsxs("div",{onClick:()=>n(g.id),className:"cursor-pointer transition-all duration-300 transform hover:scale-105 flex flex-col items-center space-y-2",children:[a.jsx("div",{className:`p-4 rounded-2xl transition-all duration-300 shadow-lg ${k?`bg-gradient-to-br ${_.active} shadow-xl transform scale-110`:`bg-gradient-to-br ${_.bg} hover:shadow-xl hover:scale-105`}`,children:a.jsx(x,{className:`w-8 h-8 transition-all duration-300 ${_.icon}`,strokeWidth:2.5,fill:"currentColor",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.2))"}})}),a.jsx("span",{className:`text-sm font-medium transition-all duration-300 ${k?"text-gray-900 font-bold":"text-gray-700"}`,children:g.name})]},g.id)})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d?a.jsx("div",{className:"col-span-full text-center py-8",children:a.jsx("div",{className:"text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Loading achievements..."})}):e?v.length===0?a.jsx("div",{className:"col-span-full text-center py-8",children:a.jsx("div",{className:"text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"No achievements in this category yet. Keep tracking to unlock!"})}):v.sort((g,x)=>{if(g.completed!==x.completed)return g.completed?1:-1;if(g.category!==x.category){const k=["daily","weekly","monthly","milestone","special"];return k.indexOf(g.category)-k.indexOf(x.category)}return x.points-g.points}).map(g=>a.jsx(ie,{className:`bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200/40 p-6 transition-all duration-200 hover:from-amber-100 hover:to-amber-200 ${g.completed?"ring-2 ring-[#45c73e]/30":""}`,children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:`p-3 rounded-xl text-2xl ${g.completed?"bg-gradient-to-br from-[#45c73e] to-[#3ab82e]":"bg-gray-100"}`,children:g.completed?a.jsx(ws,{className:"w-6 h-6 text-white"}):a.jsx("span",{children:g.icon})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-950 truncate",style:{fontFamily:"'League Spartan', sans-serif"},children:g.title}),a.jsx(Le,{className:`${u[g.difficulty]} capitalize text-xs`,children:g.difficulty})]}),a.jsx("p",{className:"text-sm text-gray-800 mb-3",style:{fontFamily:"'Quicksand', sans-serif"},children:g.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsxs("span",{className:"text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:["Progress: ",g.progress,"/",g.target]}),a.jsxs("span",{className:"text-blue-600 font-bold",style:{fontFamily:"'Work Sans', sans-serif"},children:[g.points," pts"]})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:`relative w-full rounded-full h-3 ${g.completed?"bg-green-100":"bg-blue-100"}`,style:{backgroundColor:g.completed?"#dcfce7":"#dbeafe"},children:a.jsx("div",{className:`h-3 rounded-full transition-all duration-300 ${g.completed?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,style:{width:`${g.completed?100:Math.min(100,g.progress/g.target*100)}%`}})})})]}),g.completed&&g.completedDate&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[a.jsx(ws,{className:"w-4 h-4 text-green-600"}),a.jsxs("span",{className:"text-xs text-green-600 font-medium",style:{fontFamily:"'Work Sans', sans-serif"},children:["Completed ",g.completedDate.toLocaleDateString()]})]})]})]})},g.id)):a.jsx("div",{className:"col-span-full text-center py-8",children:a.jsx("div",{className:"text-gray-900",style:{fontFamily:"'Work Sans', sans-serif"},children:"Sign in to track your achievements"})})})]})}function L5({isOpen:t,onClose:e,achievement:r}){const[n,s]=m.useState(!1);if(m.useEffect(()=>{if(t){s(!0);const l=setTimeout(()=>{e()},5e3);return()=>clearTimeout(l)}},[t,e]),!t)return null;const i=()=>{switch(r.type){case"daily-goal":return a.jsx(Vt,{className:"w-12 h-12 text-green-400"});case"weekly-goal":return a.jsx(tn,{className:"w-12 h-12 text-yellow-400"});case"milestone":return a.jsx(zs,{className:"w-12 h-12 text-purple-400"});case"special":return a.jsx(gw,{className:"w-12 h-12 text-blue-400"});default:return a.jsx(dw,{className:"w-12 h-12 text-red-400"})}},o=()=>{switch(r.type){case"daily-goal":return"from-green-500/30 to-emerald-500/30";case"weekly-goal":return"from-yellow-500/30 to-orange-500/30";case"milestone":return"from-purple-500/30 to-pink-500/30";case"special":return"from-blue-500/30 to-cyan-500/30";default:return"from-red-500/30 to-pink-500/30"}};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:[n&&r.confetti&&a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(50)].map((l,c)=>a.jsx("div",{className:"absolute animate-ping",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:a.jsx("div",{className:`w-2 h-2 rounded-full ${["bg-yellow-400","bg-blue-400","bg-green-400","bg-red-400","bg-purple-400"][Math.floor(Math.random()*5)]}`})},c))}),a.jsxs(ie,{className:`bg-gradient-to-br ${o()} backdrop-blur-md border-white/30 p-8 max-w-md mx-4 text-center relative animate-bounce`,children:[a.jsx(Q,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900",onClick:e,children:a.jsx(ln,{className:"w-4 h-4"})}),r.trophy&&a.jsxs("div",{className:"mb-6 relative",children:[a.jsx("div",{className:"animate-pulse",children:a.jsx(tn,{className:"w-20 h-20 text-yellow-400 mx-auto mb-2"})}),a.jsx("div",{className:"absolute -top-2 -right-2 animate-spin",children:a.jsx(zs,{className:"w-8 h-8 text-yellow-300"})}),a.jsx("div",{className:"absolute -top-2 -left-2 animate-bounce",children:a.jsx(zs,{className:"w-6 h-6 text-yellow-300"})})]}),!r.trophy&&a.jsx("div",{className:"mb-6 animate-pulse",children:i()}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 animate-fadeIn",children:r.title}),a.jsx("p",{className:"text-lg text-gray-700 animate-fadeIn animation-delay-300",children:r.message}),r.points&&a.jsx("div",{className:"animate-fadeIn animation-delay-500",children:a.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 rounded-full px-4 py-2",children:[a.jsx(zs,{className:"w-5 h-5 text-yellow-400"}),a.jsxs("span",{className:"text-gray-900 font-semibold",children:["+",r.points," points"]})]})}),a.jsxs("div",{className:"flex space-x-3 justify-center mt-6 animate-fadeIn animation-delay-700",children:[a.jsx(Q,{onClick:e,className:"bg-gradient-to-br from-amber-100 to-amber-200 hover:bg-amber-200 text-gray-900 border-amber-300",children:"Awesome!"}),a.jsx(Q,{onClick:()=>{e()},variant:"outline",className:"border-amber-300 text-gray-900 hover:bg-amber-100",children:"Share"})]})]}),a.jsx("div",{className:"absolute inset-0 rounded-lg border-2 border-white/20 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 rounded-lg border border-white/10 animate-ping"})]}),a.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.6s ease-out forwards;
        }
        
        .animation-delay-300 {
          animation-delay: 0.3s;
          opacity: 0;
        }
        
        .animation-delay-500 {
          animation-delay: 0.5s;
          opacity: 0;
        }
        
        .animation-delay-700 {
          animation-delay: 0.7s;
          opacity: 0;
        }
      `})]})}const gb=({iconNumber:t,size:e="md",className:r=""})=>{const n={sm:"w-8 h-8 min-w-[2rem] min-h-[2rem]",md:"w-16 h-16 min-w-[4rem] min-h-[4rem]",lg:"w-24 h-24 min-w-[6rem] min-h-[6rem]"},s=t===2?2:1,i=s===2?"/avatar-female.png":"/avatar-male.png";return a.jsx("div",{className:`${n[e]} rounded-full overflow-hidden flex items-center justify-center bg-gradient-to-br from-blue-400 to-purple-500 shadow-lg ${r}`,"data-testid":`profile-icon-${s}`,children:a.jsx("img",{src:i,alt:`Profile avatar ${s===2?"female":"male"}`,className:"w-full h-full object-cover rounded-full",onError:o=>{const l=o.target;l.style.display="none",l.parentElement.innerHTML=`<span class="text-gray-900 font-bold text-lg">${s===2?"F":"M"}</span>`}})})};function F5({isOpen:t,onComplete:e}){const[r,n]=m.useState({firstName:"",lastName:"",gender:""}),[s,i]=m.useState(!1),{toast:o}=Yt(),l=async u=>{if(u.preventDefault(),!r.firstName.trim()){o({title:"First Name Required",description:"Please enter your first name to continue.",variant:"destructive",duration:3e3});return}if(!r.lastName.trim()){o({title:"Last Name Required",description:"Please enter your last name to continue.",variant:"destructive",duration:3e3});return}if(!r.gender){o({title:"Gender Selection Required",description:"Please select your preferred avatar style.",variant:"destructive",duration:3e3});return}i(!0);try{const h=r.gender==="female"?2:1;await e({firstName:r.firstName.trim(),lastName:r.lastName.trim(),gender:r.gender,profileIcon:h}),o({title:"Profile Completed!",description:"Welcome to ByteWise Nutritionist! Your profile has been set up.",duration:4e3})}catch{o({title:"Setup Failed",description:"There was an error setting up your profile. Please try again.",variant:"destructive",duration:4e3}),i(!1)}},c=r.gender&&r.gender==="female"?2:1;return a.jsx(Nu,{open:t,onOpenChange:()=>{},children:a.jsxs(Cu,{className:"sm:max-w-md bg-gradient-to-br from-amber-50 to-amber-100",children:[a.jsxs(_u,{className:"text-center pb-4",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(gb,{iconNumber:c,size:"lg",className:"border-4 border-orange-400/50 shadow-lg"}),r.gender&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white dark:border-gray-900 flex items-center justify-center",children:a.jsx(ws,{className:"w-3 h-3 text-white"})})]})}),a.jsx(Eu,{className:"text-2xl font-bold text-gray-900",children:"Complete Your Profile"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Let's get your profile set up so we can personalize your experience"})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"firstName",className:"text-sm font-medium text-gray-700",children:"First Name *"}),a.jsx(Ue,{id:"firstName",type:"text",value:r.firstName,onChange:u=>n(h=>({...h,firstName:u.target.value})),placeholder:"Enter your first name",className:"mt-1 bg-white/80 border-amber-300","data-testid":"input-firstName",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"lastName",className:"text-sm font-medium text-gray-700",children:"Last Name *"}),a.jsx(Ue,{id:"lastName",type:"text",value:r.lastName,onChange:u=>n(h=>({...h,lastName:u.target.value})),placeholder:"Enter your last name",className:"mt-1 bg-white/80 border-amber-300","data-testid":"input-lastName",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"gender",className:"text-sm font-medium text-gray-700",children:"Avatar Style *"}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3",children:[a.jsx("button",{type:"button",onClick:()=>n(u=>({...u,gender:"male"})),className:`flex items-center justify-center p-4 rounded-lg border-2 transition-all duration-200 ${r.gender==="male"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:border-orange-300 dark:hover:border-orange-400"}`,"data-testid":"button-select-male",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-sm font-medium",children:"Male Avatar"})]})}),a.jsx("button",{type:"button",onClick:()=>n(u=>({...u,gender:"female"})),className:`flex items-center justify-center p-4 rounded-lg border-2 transition-all duration-200 ${r.gender==="female"?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:border-orange-300 dark:hover:border-orange-400"}`,"data-testid":"button-select-female",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-sm font-medium",children:"Female Avatar"})]})})]})]})]}),a.jsx(Q,{type:"submit",disabled:s,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-medium py-3 mt-6","data-testid":"button-complete-profile",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Setting up profile..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Complete Profile"]})})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-4",children:"* Required fields"})]})})}const Au=N.forwardRef(({className:t,value:e,...r},n)=>a.jsx("div",{ref:n,className:Ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Au.displayName="Progress";var Ld="rovingFocusGroup.onEntryFocus",$5={bubbles:!1,cancelable:!0},rl="RovingFocusGroup",[gf,yb,z5]=Gx(rl),[U5,vb]=Cs(rl,[z5]),[B5,W5]=U5(rl),xb=m.forwardRef((t,e)=>a.jsx(gf.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(gf.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(H5,{...t,ref:e})})}));xb.displayName=rl;var H5=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=t,f=m.useRef(null),p=nt(e,f),w=wu(i),[v,b]=pa({prop:o,defaultProp:l??null,onChange:c,caller:rl}),[y,g]=m.useState(!1),x=nr(u),k=yb(r),j=m.useRef(!1),[_,A]=m.useState(0);return m.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(Ld,x),()=>C.removeEventListener(Ld,x)},[x]),a.jsx(B5,{scope:r,orientation:n,dir:w,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(C=>b(C),[b]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>A(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>A(C=>C-1),[]),children:a.jsx(Pe.div,{tabIndex:y||_===0?-1:0,"data-orientation":n,...d,ref:p,style:{outline:"none",...t.style},onMouseDown:Ae(t.onMouseDown,()=>{j.current=!0}),onFocus:Ae(t.onFocus,C=>{const I=!j.current;if(C.target===C.currentTarget&&I&&!y){const M=new CustomEvent(Ld,$5);if(C.currentTarget.dispatchEvent(M),!M.defaultPrevented){const G=k().filter(F=>F.focusable),T=G.find(F=>F.active),K=G.find(F=>F.id===v),$=[T,K,...G].filter(Boolean).map(F=>F.ref.current);kb($,h)}}j.current=!1}),onBlur:Ae(t.onBlur,()=>g(!1))})})}),wb="RovingFocusGroupItem",bb=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=Zs(),u=i||c,h=W5(wb,r),d=h.currentTabStopId===u,f=yb(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:v}=h;return m.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),a.jsx(gf.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Pe.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...l,ref:e,onMouseDown:Ae(t.onMouseDown,b=>{n?h.onItemFocus(u):b.preventDefault()}),onFocus:Ae(t.onFocus,()=>h.onItemFocus(u)),onKeyDown:Ae(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=q5(b,h.orientation,h.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=f().filter(k=>k.focusable).map(k=>k.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const k=x.indexOf(b.currentTarget);x=h.loop?K5(x,k+1):x.slice(k+1)}setTimeout(()=>kb(x))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:v!=null}):o})})});bb.displayName=wb;var V5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function G5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function q5(t,e,r){const n=G5(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return V5[n]}function kb(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function K5(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Q5=xb,Y5=bb,Ru="Tabs",[J5,jT]=Cs(Ru,[vb]),jb=vb(),[X5,Wm]=J5(Ru),Sb=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=wu(l),[d,f]=pa({prop:n,onChange:s,defaultProp:i??"",caller:Ru});return a.jsx(X5,{scope:r,baseId:Zs(),value:d,onValueChange:f,orientation:o,dir:h,activationMode:c,children:a.jsx(Pe.div,{dir:h,"data-orientation":o,...u,ref:e})})});Sb.displayName=Ru;var Nb="TabsList",Cb=m.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,i=Wm(Nb,r),o=jb(r);return a.jsx(Q5,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Pe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Cb.displayName=Nb;var _b="TabsTrigger",Eb=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=t,o=Wm(_b,r),l=jb(r),c=Ab(o.baseId,n),u=Rb(o.baseId,n),h=n===o.value;return a.jsx(Y5,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(Pe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:Ae(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Ae(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Ae(t.onFocus,()=>{const d=o.activationMode!=="manual";!h&&!s&&d&&o.onValueChange(n)})})})});Eb.displayName=_b;var Tb="TabsContent",Pb=m.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=t,l=Wm(Tb,r),c=Ab(l.baseId,n),u=Rb(l.baseId,n),h=n===l.value,d=m.useRef(h);return m.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(cn,{present:s||h,children:({present:f})=>a.jsx(Pe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&i})})});Pb.displayName=Tb;function Ab(t,e){return`${t}-trigger-${e}`}function Rb(t,e){return`${t}-content-${e}`}var Z5=Sb,e3=Cb,t3=Eb,r3=Pb;function n3({className:t,...e}){return a.jsx(Z5,{"data-slot":"tabs",className:Ce("flex flex-col gap-2",t),...e})}function s3({className:t,...e}){return a.jsx(e3,{"data-slot":"tabs-list",className:Ce("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Fd({className:t,...e}){return a.jsx(t3,{"data-slot":"tabs-trigger",className:Ce("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-xs dark:data-[state=active]:shadow-none",t),...e})}function $d({className:t,...e}){return a.jsx(r3,{"data-slot":"tabs-content",className:Ce("flex-1 outline-none",t),...e})}const a3=Cm("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Iu=m.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Ce(a3({variant:e}),t),...r}));Iu.displayName="Alert";const i3=m.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:Ce("mb-1 font-medium leading-none tracking-tight",t),...e}));i3.displayName="AlertTitle";const Du=m.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ce("text-sm [&_p]:leading-relaxed",t),...e}));Du.displayName="AlertDescription";const Gl=[{id:"16-8",name:"16:8 Method",description:"16 hours fasting, 8 hours eating window",fastingHours:16,eatingHours:8,difficulty:"Beginner",benefits:["Weight loss","Improved metabolism","Better sleep"],suggestedSchedule:"Fast: 8 PM - 12 PM | Eat: 12 PM - 8 PM"},{id:"14-10",name:"14:10 Method",description:"14 hours fasting, 10 hours eating window",fastingHours:14,eatingHours:10,difficulty:"Beginner",benefits:["Gentle introduction","Improved digestion","Better energy"],suggestedSchedule:"Fast: 7 PM - 9 AM | Eat: 9 AM - 7 PM"},{id:"18-6",name:"18:6 Method",description:"18 hours fasting, 6 hours eating window",fastingHours:18,eatingHours:6,difficulty:"Intermediate",benefits:["Enhanced fat burning","Mental clarity","Cellular repair"],suggestedSchedule:"Fast: 6 PM - 12 PM | Eat: 12 PM - 6 PM"},{id:"20-4",name:"20:4 Warrior",description:"20 hours fasting, 4 hours eating window",fastingHours:20,eatingHours:4,difficulty:"Advanced",benefits:["Maximum autophagy","Deep ketosis","Hormone optimization"],suggestedSchedule:"Fast: 8 PM - 4 PM | Eat: 4 PM - 8 PM"},{id:"24-0",name:"24 Hour Fast",description:"Complete 24-hour fasting period",fastingHours:24,eatingHours:0,difficulty:"Advanced",benefits:["Deep cellular cleanup","Growth hormone boost","Mental discipline"],suggestedSchedule:"Dinner to dinner or lunch to lunch"}],o3=["Start your fast after your last meal of the day","Stay hydrated with water, black coffee, or plain tea","Keep busy during hunger waves - they usually pass","Break your fast gently with nutritious whole foods","Listen to your body and adjust as needed","Consider electrolytes for longer fasts","Plan your eating window around your lifestyle"],dr="bytewise_fasting_session",Vr="bytewise_fasting_active",As="bytewise_fasting_history",Oa="bytewise_fasting_milestones",l3=[8,12,16,18,20,24,36,48,72],c3=N.memo(function(){const[e,r]=m.useState(Gl[0]),[n,s]=m.useState(null),[i,o]=m.useState(0),[l,c]=m.useState(!1),[u,h]=m.useState(!0),[d,f]=m.useState([]),{toast:p}=Yt(),w=Li(),{data:v,isLoading:b,error:y}=Cn({queryKey:["/api/fasting/history"],queryFn:()=>je("GET","/api/fasting/history").then(D=>D.json()),retry:1,staleTime:3e4}),g=m.useMemo(()=>{let D=[];try{D=JSON.parse(localStorage.getItem(As)||"[]")}catch{D=[]}const $=Array.isArray(v)?v:[],F=[...D,...$],P=new Set;return F.filter(B=>{if(!B.id){const W=`${B.planId}_${B.startTime}_${B.status}`;return P.has(W)?!1:(P.add(W),!0)}return P.has(B.id)?!1:(P.add(B.id),!0)}).sort((B,W)=>{const R=new Date(B.completedAt||B.endTime||B.createdAt||0).getTime();return new Date(W.completedAt||W.endTime||W.createdAt||0).getTime()-R})},[v]),{data:x}=Cn({queryKey:["/api/fasting/active"],queryFn:()=>je("GET","/api/fasting/active").then(D=>D.json()),enabled:!n,retry:1,staleTime:1e4}),k=on({mutationFn:D=>je("POST","/api/fasting/start",D).then($=>$.json()),onSuccess:D=>{const $={...n,id:D.id};s($),localStorage.setItem(dr,JSON.stringify($)),p({title:"Fasting Started! ",description:`Your ${e.name} session has begun. Stay strong and hydrated!`}),w.invalidateQueries({queryKey:["/api/fasting/history"]}),w.invalidateQueries({queryKey:["/api/fasting/active"]})},onError:D=>{p({title:"Offline Mode",description:"Timer started locally. We'll sync when you're back online."})}}),j=on({mutationFn:D=>je("PUT",`/api/fasting/${D}/complete`),onSuccess:D=>{if(n){const $=new Date,F=new Date(n.startTime),P=$.getTime()-F.getTime(),O={...n,status:"completed",completedAt:$.toISOString(),endTime:$.toISOString(),actualDuration:P,planName:n.planName||e.name,targetHours:(n.targetDuration||0)/(1e3*60*60),actualHoursFasted:P/(1e3*60*60),wasCompleted:!0};try{const B=JSON.parse(localStorage.getItem(As)||"[]").filter(R=>R.id!==O.id&&R.startTime!==O.startTime);B.unshift(O);const W=B.slice(0,10);localStorage.setItem(As,JSON.stringify(W))}catch{}}localStorage.removeItem(dr),localStorage.removeItem(Vr),s(null),c(!1),o(0),p({title:"Fasting Complete! ",description:"Great job! You can now break your fast with a nutritious meal."}),w.invalidateQueries({queryKey:["/api/fasting/history"]}),w.invalidateQueries({queryKey:["/api/fasting/active"]}),fetch("/api/achievements/check",{method:"POST"}).then($=>$.json()).then($=>{$.newAchievements&&$.newAchievements.length>0&&window.dispatchEvent(new CustomEvent("achievement-unlocked",{detail:$.newAchievements[0]}))}).catch($=>{})},onError:D=>{if(n){const $=new Date,F=new Date(n.startTime),P=$.getTime()-F.getTime(),O={...n,status:"completed",completedAt:$.toISOString(),endTime:$.toISOString(),actualDuration:P,planName:n.planName||e.name,targetHours:(n.targetDuration||0)/(1e3*60*60),actualHoursFasted:P/(1e3*60*60),wasCompleted:!0,localOnly:!0};try{const B=JSON.parse(localStorage.getItem(As)||"[]").filter(R=>R.id!==O.id&&R.startTime!==O.startTime);B.unshift(O);const W=B.slice(0,10);localStorage.setItem(As,JSON.stringify(W))}catch{}}localStorage.removeItem(dr),localStorage.removeItem(Vr),s(null),c(!1),o(0),p({title:"Session Ended",description:"Your fasting session has been completed locally. We'll sync when you're back online."})}});m.useEffect(()=>{(()=>{try{const $=localStorage.getItem(dr),F=localStorage.getItem(Vr);if($){const P=JSON.parse($),O=new Date(P.startTime).getTime(),B=Date.now()-O,W=P.targetDuration-B;if(W>0){s(P),o(W),c(F==="true");const R=localStorage.getItem(Oa);if(R)try{const Y=JSON.parse(R);f(Y)}catch{f([])}const z=Gl.find(Y=>Y.id===P.planId);z&&r(z)}else localStorage.removeItem(dr),localStorage.removeItem(Vr),localStorage.removeItem(Oa),P.id&&j.mutate(P.id)}}catch{localStorage.removeItem(dr),localStorage.removeItem(Vr)}})()},[]),m.useEffect(()=>{if(x&&!n){const D=new Date(x.startTime).getTime(),F=Date.now()-D,P=x.targetDuration-F;if(P>0){const O={id:x.id,planId:x.planId,startTime:new Date(x.startTime),targetDuration:x.targetDuration,status:x.status};localStorage.setItem(dr,JSON.stringify(O)),localStorage.setItem(Vr,"true"),s(O),o(P),c(!0);const U=Gl.find(B=>B.id===O.planId);U&&r(U)}}},[x,n]);const _=(D,$)=>{const F=D/36e5;l3.forEach(P=>{if(F>=P&&!$.includes(P)){const O=[...$,P];f(O),localStorage.setItem(Oa,JSON.stringify(O)),A(P)}})},A=D=>{let $="",F="",P="";switch(D){case 8:$="8-Hour Milestone! ",F="Great progress! You've completed 8 hours of fasting. Your body is starting to enter a deeper fasted state.",P="";break;case 12:$="Half-Day Champion! ",F="Incredible! 12 hours down. Your body is now in fat-burning mode and cellular repair is ramping up.",P="";break;case 16:$="16-Hour Hero! ",F="Amazing achievement! You've completed the classic 16:8 fast. Maximum autophagy and metabolic benefits unlocked!",P="";break;case 18:$="18-Hour Warrior! ",F="Outstanding dedication! 18 hours shows serious commitment. Your mental clarity should be at its peak.",P="";break;case 20:$="20-Hour Legend! ",F="Exceptional willpower! You've reached the warrior level. Deep ketosis and cellular rejuvenation in full swing.",P="";break;case 24:$="24-Hour Master! ",F="Extraordinary accomplishment! A full day of fasting. You've achieved peak autophagy and metabolic flexibility.",P="";break;case 36:$="36-Hour Champion! ",F="Incredible discipline! Extended fasting for cellular renewal and deep metabolic reset achieved.",P="";break;case 48:$="48-Hour Legend! ",F="Phenomenal achievement! Two full days show ultimate dedication to health and self-mastery.",P="";break;case 72:$="72-Hour Master! ",F="Ultimate fasting achievement! Three days of discipline unlock maximum health benefits and mental strength.",P="";break;default:$=`${D}-Hour Milestone! ${P}`,F=`Fantastic progress! You've completed ${D} hours of fasting. Keep up the amazing work!`}p({title:$,description:F,duration:6e3}),window.dispatchEvent(new CustomEvent("fasting-milestone",{detail:{hours:D,title:$,description:F,celebration:P,message:`${$} - ${F}`}})),fetch("/api/achievements/check",{method:"POST"}).then(O=>O.json()).then(O=>{O.newAchievements&&O.newAchievements.length>0&&window.dispatchEvent(new CustomEvent("achievement-unlocked",{detail:O.newAchievements[0]}))}).catch(()=>{})};m.useEffect(()=>{let D;return l&&n&&(D=setInterval(()=>{const $=new Date(n.startTime).getTime(),P=Date.now()-$,O=n.targetDuration-P;if(Math.floor(P/1e3)%30===0&&_(P,d),O<=0){const U=n.targetDuration/36e5;U>=8&&p({title:`${Math.round(U)}-Hour Fast Complete! `,description:"Congratulations! You've successfully completed your fasting goal. Time to break your fast with a nutritious meal.",duration:8e3}),window.dispatchEvent(new CustomEvent("fasting-completed",{detail:{planName:e.name,duration:Math.round(U),message:`You completed a ${Math.round(U)}-hour ${e.name} fast! Time to break your fast with a nutritious meal.`}})),o(0),localStorage.removeItem(dr),localStorage.removeItem(Vr),localStorage.removeItem(Oa),f([]),n.id&&j.mutate(n.id)}else o(O)},1e3)),()=>clearInterval(D)},[l,n,d]);const C=()=>{const D=e.fastingHours*60*60*1e3,$={planId:e.id,startTime:new Date,targetDuration:D,status:"active"};f([]),localStorage.removeItem(Oa),localStorage.setItem(dr,JSON.stringify($)),localStorage.setItem(Vr,"true"),o(D),s($),c(!0),k.mutate({...$,planName:e.name})},I=()=>{const D=!l;if(c(D),localStorage.setItem(Vr,D.toString()),!D&&n){const $={...n,status:"paused"};s($),localStorage.setItem(dr,JSON.stringify($))}else if(D&&n){const $={...n,status:"active"};s($),localStorage.setItem(dr,JSON.stringify($))}p({title:l?"Fasting Paused":"Fasting Resumed",description:l?"Take your time and resume when ready.":"Keep going! You've got this!"})},M=()=>{if(!n){p({title:"No Active Session",description:"There's no active fasting session to stop.",duration:4e3});return}const D=new Date(n.startTime).getTime(),F=Date.now()-D,P=F/(1e3*60*60),O=e.fastingHours,U=n.targetDuration-F,B=Math.max(0,U/(1e3*60*60)),W=U<=0,R=Y=>{const q=Math.floor(Y),fe=Math.floor((Y-q)*60);return q>0?`${q}h ${fe}m`:`${fe}m`},z={id:n.id||`local_${Date.now()}`,...n,status:W?"completed":"stopped",endTime:new Date().toISOString(),completedAt:new Date().toISOString(),actualDuration:F,actualHoursFasted:P,targetHours:O,wasCompleted:W,remainingHours:W?0:B,planName:e.name};if(F>=5e3)try{const Y=JSON.parse(localStorage.getItem(As)||"[]");Y.unshift(z),localStorage.setItem(As,JSON.stringify(Y.slice(0,20)))}catch{}if(localStorage.removeItem(dr),localStorage.removeItem(Vr),localStorage.removeItem(Oa),s(null),c(!1),o(0),f([]),W)p({title:"Fasting Completed! ",description:`Congratulations! You completed your ${R(P)} fast successfully.`,duration:8e3});else{const Y=P>=1?`You fasted for ${R(P)}`:F>=6e4?`You fasted for ${Math.floor(F/6e4)} minutes`:F>=1e3?`You fasted for ${Math.floor(F/1e3)} seconds`:`You fasted for ${F}ms`,q=B>0?` with ${R(B)} remaining from your ${O}h goal.`:` from your ${O}h goal.`;p({title:"Fasting Session Ended",description:Y+q,duration:8e3})}n!=null&&n.id&&j.mutate(n.id),w.invalidateQueries({queryKey:["/api/fasting/history"]})},G=D=>{const $=Math.floor(D/36e5),F=Math.floor(D%(1e3*60*60)/(1e3*60)),P=Math.floor(D%(1e3*60)/1e3);return`${$.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`},T=D=>{switch(D){case"Beginner":return"bg-blue-100 text-blue-800";case"Intermediate":return"bg-orange-100 text-orange-800";case"Advanced":return"bg-red-100 text-red-800";default:return"bg-gradient-to-br from-amber-100 to-amber-200 text-gray-800"}},K=()=>{if(!n||i===0)return 100;const D=e.fastingHours*60*60*1e3;return Math.max(0,(D-i)/D*100)};return a.jsxs("div",{className:"space-y-8 pb-24","data-testid":"fasting-tracker",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-purple-400 to-purple-500 flex items-center justify-center",children:a.jsx(_n,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Intermittent Fasting"}),a.jsx("p",{className:"text-gray-700",children:"Track your fasting journey and optimize your health"})]})]}),a.jsxs(n3,{defaultValue:"tracker",className:"w-full",children:[a.jsxs(s3,{className:"grid w-full grid-cols-3 h-12 bg-transparent border-0 shadow-none ring-0",children:[a.jsxs(Fd,{value:"tracker","data-testid":"tab-tracker",className:"flex items-center justify-center gap-1 text-xs sm:text-sm text-gray-900 bg-transparent border-0 shadow-none outline-none focus:outline-none ring-0 focus:ring-0 data-[state=active]:bg-amber-200/70 data-[state=active]:text-gray-900 data-[state=active]:shadow-none data-[state=active]:border-0 active:scale-95 active:bg-amber-300/80 transition-all duration-150",children:[a.jsx(Vt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-900"}),a.jsx("span",{className:"hidden xs:inline text-gray-900",children:"Tracker"}),a.jsx("span",{className:"xs:hidden text-gray-900",children:"Track"})]}),a.jsxs(Fd,{value:"plans","data-testid":"tab-plans",className:"flex items-center justify-center gap-1 text-xs sm:text-sm text-gray-900 bg-transparent border-0 shadow-none outline-none focus:outline-none ring-0 focus:ring-0 data-[state=active]:bg-amber-200/70 data-[state=active]:text-gray-900 data-[state=active]:shadow-none data-[state=active]:border-0 active:scale-95 active:bg-amber-300/80 transition-all duration-150",children:[a.jsx(_n,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-900"}),"Plans"]}),a.jsxs(Fd,{value:"tips","data-testid":"tab-tips",className:"flex items-center justify-center gap-1 text-xs sm:text-sm text-gray-900 bg-transparent border-0 shadow-none outline-none focus:outline-none ring-0 focus:ring-0 data-[state=active]:bg-amber-200/70 data-[state=active]:text-gray-900 data-[state=active]:shadow-none data-[state=active]:border-0 active:scale-95 active:bg-amber-300/80 transition-all duration-150",children:[a.jsx(oo,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-900"}),"Tips"]})]}),a.jsxs($d,{value:"tracker",className:"space-y-8 mt-6",children:[a.jsxs(ie,{"data-testid":"fasting-session-card",className:"mb-8 bg-gradient-to-br from-amber-50 to-amber-100 border-none shadow-none",children:[a.jsx(yr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(vr,{className:"flex items-center gap-2 text-gray-900",children:[l?a.jsx(la,{className:"w-5 h-5 text-orange-500"}):a.jsx(Bg,{className:"w-5 h-5 text-blue-500"}),e.name]}),a.jsx(ii,{className:"text-gray-700",children:e.description})]}),a.jsx(Le,{className:T(e.difficulty),children:e.difficulty})]})}),a.jsxs(gt,{className:"space-y-8",children:[a.jsxs("div",{className:"text-center space-y-6 py-4",children:[a.jsx("div",{className:"text-4xl font-mono font-black text-gray-900",children:G(i)}),a.jsx(Au,{value:K(),className:"h-3 [&>div]:bg-orange-500","data-testid":"fasting-progress"}),a.jsx("p",{className:"text-sm text-gray-700",children:l?"Time remaining in your fast":"Ready to start fasting"})]}),a.jsx("div",{"data-testid":"fasting-controls",className:"flex flex-col sm:flex-row justify-center items-center gap-4 px-4 py-2",children:!l&&!n?a.jsxs(Q,{onClick:C,size:"lg",className:"gap-2 w-full sm:w-auto min-w-[140px] text-white","data-testid":"button-start-fasting",disabled:k.isPending,children:[a.jsx(df,{className:"w-4 h-4"}),k.isPending?"Starting...":"Start Fasting"]}):a.jsxs(a.Fragment,{children:[a.jsxs(Q,{onClick:I,variant:"outline",size:"lg",className:"gap-2 w-full sm:w-auto min-w-[120px] bg-emerald-500 hover:bg-emerald-600 text-white border-none","data-testid":"button-pause-fasting",children:[l?a.jsx(B_,{className:"w-4 h-4"}):a.jsx(df,{className:"w-4 h-4"}),l?"Pause":"Resume"]}),a.jsxs(Q,{onClick:M,variant:"destructive",size:"lg",className:"gap-2 w-full sm:w-auto min-w-[120px]","data-testid":"button-stop-fasting",children:[a.jsx(V_,{className:"w-4 h-4"}),"End Fast"]})]})}),a.jsxs("div",{className:"bg-amber-100/50 rounded-lg p-6 mt-6",children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2 text-gray-900",children:[a.jsx(mw,{className:"w-4 h-4 text-gray-900"}),"Suggested Schedule"]}),a.jsx("p",{className:"text-sm text-gray-900",children:e.suggestedSchedule})]})]})]}),a.jsxs(ie,{className:"mt-8 bg-gradient-to-br from-amber-50 to-amber-100 border-none shadow-none",children:[a.jsx(yr,{className:"pb-4",children:a.jsxs(vr,{className:"flex items-center gap-2 text-gray-900",children:[a.jsx(Q_,{className:"w-5 h-5 text-gray-900"}),"Recent Sessions"]})}),a.jsx(gt,{children:b?a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-sm text-gray-700",children:"Loading history..."})}):g&&Array.isArray(g)&&g.length>0?a.jsxs("div",{className:"space-y-4",children:[g.filter(D=>D.status==="completed"||D.status==="stopped").slice(0,8).map((D,$)=>{const F=D.actualDuration||D.targetDuration||0,P=D.actualHoursFasted||F/(1e3*60*60),O=D.targetHours||D.targetDuration/(1e3*60*60)||16,U=D.status==="completed"||D.wasCompleted,B=D.remainingHours||Math.max(0,O-P),W=D.completedAt||D.endTime||D.createdAt,R=z=>{const Y=Math.floor(z),q=Math.floor((z-Y)*60);return Y>0?`${Y}h ${q}m`:`${q}m`};return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-100/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[U?a.jsx(is,{className:"w-4 h-4 text-green-500"}):a.jsx(an,{className:"w-4 h-4 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:D.planName||`${Math.round(O)}h Fasting Session`}),a.jsx("p",{className:"text-sm text-gray-700",children:W?new Date(W).toLocaleDateString():"N/A"}),!U&&B>0&&a.jsxs("p",{className:"text-xs text-orange-700 mt-1",children:[R(B)," remaining from ",O,"h goal"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs(Le,{variant:U?"secondary":"outline",className:U?"bg-green-600 text-white":"bg-orange-100 text-orange-700 border-none",children:[R(P)," ",U?"completed":"fasted"]}),!U&&a.jsxs("p",{className:"text-xs text-gray-700 mt-1",children:["of ",O,"h goal"]})]})]},D.id||$)}),g.filter(D=>D.status==="completed"||D.status==="stopped").length===0&&a.jsxs("div",{className:"text-center py-6",children:[a.jsx(oo,{className:"w-8 h-8 mx-auto text-gray-700 mb-2"}),a.jsx("p",{className:"text-sm text-gray-700",children:"No fasting sessions yet"}),a.jsx("p",{className:"text-xs text-gray-700 mt-1",children:"Start your first fast to see it here!"})]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx(oo,{className:"w-8 h-8 mx-auto text-gray-700 mb-2"}),a.jsx("p",{className:"text-sm text-gray-700",children:"No fasting history yet"}),a.jsx("p",{className:"text-xs text-gray-700 mt-1",children:"Start your first fast to build your history!"})]})})]})]}),a.jsx($d,{value:"plans",className:"space-y-6 mt-6",children:a.jsx("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2",children:Gl.map(D=>a.jsxs(ie,{className:`cursor-pointer transition-all bg-gradient-to-br from-amber-50 to-amber-100 border-none shadow-none ${e.id===D.id?"bg-gradient-to-br from-amber-100 to-amber-200":""}`,onClick:()=>r(D),"data-testid":`plan-card-${D.id}`,children:[a.jsxs(yr,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(vr,{className:"text-lg text-gray-900",children:D.name}),a.jsx(Le,{className:T(D.difficulty),children:D.difficulty})]}),a.jsx(ii,{className:"text-gray-700",children:D.description})]}),a.jsx(gt,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Bg,{className:"w-4 h-4 text-blue-500"}),a.jsxs("span",{children:[D.fastingHours,"h fast"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ti,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{children:[D.eatingHours,"h eating"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2 text-gray-900",children:"Benefits:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:D.benefits.map(($,F)=>a.jsx(Le,{variant:"outline",className:"text-xs bg-blue-600 text-white border-none",children:$},F))})]})]})})]},D.id))})}),a.jsx($d,{value:"tips",className:"space-y-6 mt-6",children:a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-none shadow-none",children:[a.jsxs(yr,{className:"pb-6",children:[a.jsxs(vr,{className:"flex items-center gap-2 text-gray-900",children:[a.jsx(oo,{className:"w-5 h-5 text-gray-900"}),"Fasting Tips & Guidelines"]}),a.jsx(ii,{className:"text-gray-700",children:"Expert advice to make your fasting journey successful"})]}),a.jsxs(gt,{className:"space-y-5",children:[o3.map((D,$)=>a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-100/50 rounded-lg",children:[a.jsx(is,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),a.jsx("p",{className:"text-sm leading-relaxed text-gray-900",children:D})]},$)),a.jsxs(Iu,{className:"mt-6 bg-amber-100/50 border-none text-gray-900",children:[a.jsx(an,{className:"h-4 w-4 text-gray-900"}),a.jsxs(Du,{className:"text-gray-900",children:[a.jsx("strong",{children:"Important:"})," Consult with a healthcare provider before starting any fasting regimen, especially if you have medical conditions, are pregnant, or taking medications."]})]})]})]})})]})]})});function u3({fastingStatus:t}){if(!t||!t.isActive)return a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-none shadow-none","data-testid":"fasting-status-inactive",children:a.jsxs(gt,{className:"flex flex-col items-center justify-center py-6",children:[a.jsx(oo,{className:"w-8 h-8 text-gray-700 mb-2"}),a.jsx("p",{className:"text-sm text-gray-700 text-center",children:"No active fasting session"}),a.jsx("p",{className:"text-xs text-gray-700",children:"Start a fast to see progress here"})]})});const e=n=>{const s=Math.floor(n/36e5),i=Math.floor(n%(1e3*60*60)/(1e3*60));return`${s}h ${i}m`},r=()=>{var i,o,l,c,u;if(!t.timeRemaining)return 0;let n=t.targetDuration;n||((i=t.planName)!=null&&i.includes("14:10")?n=14*60*60*1e3:(o=t.planName)!=null&&o.includes("16:8")?n=16*60*60*1e3:(l=t.planName)!=null&&l.includes("18:6")?n=18*60*60*1e3:(c=t.planName)!=null&&c.includes("20:4")?n=20*60*60*1e3:(u=t.planName)!=null&&u.includes("24")?n=24*60*60*1e3:n=16*60*60*1e3);const s=n-t.timeRemaining;return Math.min(100,Math.max(0,s/n*100))};return a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-none shadow-none","data-testid":"fasting-status-active",children:[a.jsx(yr,{className:"pb-3",children:a.jsxs(vr,{className:"text-sm flex items-center gap-2 text-gray-900",children:[a.jsx(_n,{className:"w-4 h-4 text-blue-500"}),"Active Fast",a.jsx(Le,{variant:"secondary",className:"ml-auto bg-blue-600 text-white",children:t.planName||"Custom"})]})}),a.jsxs(gt,{className:"space-y-3",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-mono font-black text-gray-900",children:e(t.timeRemaining||0)}),a.jsx("p",{className:"text-xs text-gray-700",children:"remaining"})]}),a.jsx(Au,{value:r(),className:"h-2 bg-gray-300 [&>div]:bg-gradient-to-r [&>div]:from-blue-600 [&>div]:to-blue-700","data-testid":"fasting-progress-mini"}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-700",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Vt,{className:"w-3 h-3"}),"In progress"]}),a.jsxs("span",{children:[Math.round(r()),"% complete"]})]})]})]})}const ql=[{id:"daily_calories_met",title:"Daily Calorie Champion",description:"Met your daily calorie goal",icon:la,points:10},{id:"daily_protein_met",title:"Protein Power",description:"Reached your daily protein target",icon:Vt,points:10},{id:"daily_all_macros",title:"Macro Master",description:"Hit all your macro targets for the day",icon:zs,points:25},{id:"daily_water_goal",title:"Hydration Hero",description:"Completed your daily water intake goal",icon:tn,points:5}],zd=[{id:"weekly_consistency",title:"Week Warrior",description:"Logged meals every day this week",icon:jn,points:50},{id:"weekly_calorie_average",title:"Weekly Balance",description:"Maintained your weekly calorie average",icon:Vt,points:40},{id:"weekly_perfect_week",title:"Perfect Week",description:"Met all daily goals for 7 consecutive days",icon:zs,points:100}];function d3(){const[t,e]=m.useState([]),[r,n]=m.useState(null),[s,i]=m.useState(!1),o=m.useCallback((h,d)=>{const f=[];if(h.calories>=d.calories*.9&&h.calories<=d.calories*1.1){const y=ql.find(g=>g.id==="daily_calories_met");y&&!t.find(g=>g.id===y.id&&new Date(g.earnedAt).toDateString()===new Date().toDateString())&&f.push({...y,type:"daily",earnedAt:new Date})}if(h.protein>=d.protein){const y=ql.find(g=>g.id==="daily_protein_met");y&&!t.find(g=>g.id===y.id&&new Date(g.earnedAt).toDateString()===new Date().toDateString())&&f.push({...y,type:"daily",earnedAt:new Date})}const p=h.calories>=d.calories*.9&&h.calories<=d.calories*1.1,w=h.protein>=d.protein,v=h.carbs>=d.carbs*.9,b=h.fat>=d.fat*.9;if(p&&w&&v&&b){const y=ql.find(g=>g.id==="daily_all_macros");y&&!t.find(g=>g.id===y.id&&new Date(g.earnedAt).toDateString()===new Date().toDateString())&&f.push({...y,type:"daily",earnedAt:new Date})}if(h.water>=d.water){const y=ql.find(g=>g.id==="daily_water_goal");y&&!t.find(g=>g.id===y.id&&new Date(g.earnedAt).toDateString()===new Date().toDateString())&&f.push({...y,type:"daily",earnedAt:new Date})}return f.length>0&&(e(y=>[...y,...f]),n(f[0]),i(!0)),f},[t]),l=m.useCallback((h,d)=>{const f=[];if(h.daysLogged>=d.consistentLogging){const p=zd.find(w=>w.id==="weekly_consistency");p&&!t.find(w=>w.id===p.id&&Ud(w.earnedAt))&&f.push({...p,type:"weekly",earnedAt:new Date})}if(Math.abs(h.averageCalories-d.calorieTarget)<=100){const p=zd.find(w=>w.id==="weekly_calorie_average");p&&!t.find(w=>w.id===p.id&&Ud(w.earnedAt))&&f.push({...p,type:"weekly",earnedAt:new Date})}if(h.perfectDays>=7){const p=zd.find(w=>w.id==="weekly_perfect_week");p&&!t.find(w=>w.id===p.id&&Ud(w.earnedAt))&&f.push({...p,type:"weekly",earnedAt:new Date})}return f.length>0&&(e(p=>[...p,...f]),n(f[0]),i(!0)),f},[t]),c=m.useCallback(()=>{i(!1),n(null)},[]),u=m.useCallback(()=>t.reduce((h,d)=>h+d.points,0),[t]);return{achievements:t,celebrationAchievement:r,showCelebration:s,checkDailyGoals:o,checkWeeklyGoals:l,closeCelebration:c,getTotalPoints:u}}function Ud(t){const e=new Date,r=new Date(e.setDate(e.getDate()-e.getDay())),n=new Date(e.setDate(e.getDate()-e.getDay()+6));return t>=r&&t<=n}const Kl=[new URL("/assets/apple-3313209_1920_1753859530078-BJW4vFlt-BJW4vFlt.jpg",import.meta.url).href,new URL("/assets/blueberries-9450130_1920_1753859477806-DQeN0M4j-DQeN0M4j.jpg",import.meta.url).href,new URL("/assets/bowl-1842294_1920_1753859477806-bRUsOvIC-bRUsOvIC.jpg",import.meta.url).href,new URL("/assets/burgers-5590503_1920_1753859530083-I99DUxaH-I99DUxaH.jpg",import.meta.url).href,new URL("/assets/chicken-2443901_1920_1753859530084-CTPERNUZ-CTPERNUZ.jpg",import.meta.url).href,new URL("/assets/chicken-762531_1920_1753859530086-BwBmOm1s-BwBmOm1s.jpg",import.meta.url).href,new URL("/assets/chicken-nuggets-1108_1920_1753859530084-DLWOOEId-DLWOOEId.jpg",import.meta.url).href,new URL("/assets/chocolate-1927921_1920_1753859477802-D-SPQY8I-D-SPQY8I.jpg",import.meta.url).href,new URL("/assets/churros-2188871_1920_1753859477808-BGqrIj5F-BGqrIj5F.jpg",import.meta.url).href,new URL("/assets/cupcakes-813078_1920_1753859477803-D9uLIWdp-D9uLIWdp.jpg",import.meta.url).href,new URL("/assets/food-3262796_1920_1753859530086-BeFn5V1r-BeFn5V1r.jpg",import.meta.url).href,new URL("/assets/food-993457_1920_1753859794688-oWnyu60z-oWnyu60z.jpg",import.meta.url).href,new URL("/assets/fried-prawn-1737593_1920_1753859794686-DkxziorZ-DkxziorZ.jpg",import.meta.url).href,new URL("/assets/grapes-2032838_1920_1753859477808-CXmP7soY-CXmP7soY.jpg",import.meta.url).href,new URL("/assets/macarons-2179198_1920_1753859477809-B5cbwbKS-B5cbwbKS.jpg",import.meta.url).href,new URL("/assets/mango-1534061_1920_1753859530079-BEyrLl3D-BEyrLl3D.jpg",import.meta.url).href,new URL("/assets/new-years-eve-518032_1920_1753859794689-DPPW0W6m-DPPW0W6m.jpg",import.meta.url).href,new URL("/assets/oatmeal-1839515_1920_1753859530080-Cf--RV4v-Cf--RV4v.jpg",import.meta.url).href,new URL("/assets/pancakes-2291908_1920_1753859477805-FMeaELmV-FMeaELmV.jpg",import.meta.url).href,new URL("/assets/pizza-2068272_1920_1753859530080-DhVI5ZGb-DhVI5ZGb.jpg",import.meta.url).href,new URL("/assets/plums-1898196_1920_1753859477809-C44a7c3I-C44a7c3I.jpg",import.meta.url).href,new URL("/assets/salad-6948004_1920_1753859530085-1zwSa4Vt-1zwSa4Vt.jpg",import.meta.url).href,new URL("/assets/sandwich-6935938_1920_1753859794687-CXrSzbzE-CXrSzbzE.jpg",import.meta.url).href,new URL("/assets/spaghetti-1392266_1920_1753859477805-HAisuHs3-HAisuHs3.jpg",import.meta.url).href,new URL("/assets/spaghetti-2931846_1920_1753859477804-BSrB8P7y-BSrB8P7y.jpg",import.meta.url).href,new URL("/assets/steak-6278031_1920_1753859530081-BukNuh5v-BukNuh5v.jpg",import.meta.url).href,new URL("/assets/steak-7423231_1920_1753859530082-DBBrmAYH-DBBrmAYH.jpg",import.meta.url).href,new URL("/assets/strawberry-7224875_1920_1753859477810-CXpGW8lN-CXpGW8lN.jpg",import.meta.url).href,new URL("/assets/swedish-6053292_1920_1753859530083-CbbGYA9Y-CbbGYA9Y.jpg",import.meta.url).href,new URL("/assets/tomatoes-1238255_1920_1753859477803-BBxmQtT1-BBxmQtT1.jpg",import.meta.url).href,new URL("/assets/variety-5044809_1920_1753859530087-C7xAS9wM-C7xAS9wM.jpg",import.meta.url).href,new URL("/assets/vegetable-2924245_1920_1753859477807-CZELXr6Z-CZELXr6Z.jpg",import.meta.url).href,new URL("/assets/sushi-5885530_1280_1755903678470-BX1Zd5E4.jpg",import.meta.url).href,new URL("/assets/pizza-1317699_1280_1755903678471-B1I-UVTx.jpg",import.meta.url).href,new URL("/assets/cherries-1845053_1280_1755903678472-uVVb5fFi.jpg",import.meta.url).href,new URL("/assets/bread-1836411_1280_1755903678472-DZ3_1WEe.jpg",import.meta.url).href,new URL("/assets/popcorn-4885565_1280_1755903678473-BcpVLdgj.jpg",import.meta.url).href,new URL("/assets/baked-goods-1846460_1280_1755903678474-CbhcPSou.jpg",import.meta.url).href,new URL("/assets/cinnamon-roll-4719023_1280_1755903678474-BlTtcxxN.jpg",import.meta.url).href,new URL("/assets/blueberry-3357568_1280_1755903678475-CiWUVi60.jpg",import.meta.url).href,new URL("/assets/pomegranates-7859172_1280_1755903678476-DtS_dvmi.jpg",import.meta.url).href,new URL("/assets/pretzels-3379552_1280_1755903678476-DZVzUK4b.jpg",import.meta.url).href,new URL("/assets/noodles-2150181_1280_1755903678477-CkuZBl4t.jpg",import.meta.url).href,new URL("/assets/fresh-pasta-5154248_1280_1755903678477-C_RN9w9-.jpg",import.meta.url).href,new URL("/assets/cookies-8668140_1280_1755903678478-nrk4P9Fo.jpg",import.meta.url).href,new URL("/assets/chocolates-1737503_1280_1755903678479-CpNmK8DA.jpg",import.meta.url).href,new URL("/assets/white-chocolate-380702_1280_1755903678479-QgZS3qOa.jpg",import.meta.url).href,new URL("/assets/loaf-4957679_1280_1755903678480-C8kdEOfV.jpg",import.meta.url).href,new URL("/assets/mango-2360551_1280_1755903678481-BxUfCL9M.jpg",import.meta.url).href,new URL("/assets/mango-1534061_1280_1755903678481-Dh03zmsC.jpg",import.meta.url).href,new URL("/assets/strawberries-823782_1280_1755903678482-DYxIs75x.jpg",import.meta.url).href,new URL("/assets/pistachios-3223610_1280_1755903678482-DpM2TKw9.jpg",import.meta.url).href],h3={home:[0,2,13,15,21,22,27,29,30,31,35,38,39,40,42,43,44,46,47,48],nutrition:[3,4,5,6,10,11,12,16,17,18,22,23,24,25,26,31,35,36,37,45],daily:[3,4,5,6,16,17,18,19,25,26,40,41],profile:[7,8,9,14,23,24,25,35,36,37,42,43,44],tracking:[1,13,15,17,20,21,25,27,45,48,49],achievements:[0,7,8,13,14,15,20,25,27,28,29,38,39,40,42,43,44,46,47,48],signin:[8,15,21,22,35,36,37,45],calculator:[11,14,19,40,41,49],search:[1,2,3,4,5,6,7,8,9,13,20,30,31,34,39],data:[7,13,14,15,16,17,18,20,21,25,27,28,29,38,39,40,42,49]};function f3(t,e,r){const[n,s]=m.useState(0),[i,o]=m.useState(Kl[0]),[l,c]=m.useState(Kl[0]),[u,h]=m.useState(0),[d,f]=m.useState(!1),[p,w]=m.useState(!1),[v,b]=m.useState(!1),y=g=>new Promise((x,k)=>{const j=new Image;j.onload=()=>x(),j.onerror=()=>k(),j.src=g});return m.useEffect(()=>{if(!e)return;w(!1),f(!0),b(!1);const g=h3[t]||[0,1,2];let x=g;g.length>1&&(x=g.filter(_=>_!==n)),x.length===0&&(x=g);const k=x[Math.floor(Math.random()*x.length)],j=Kl[k];y(j).then(()=>{s(k),c(j),f(!1),b(!0)}).catch(()=>{s(k),c(j),f(!1),b(!0)})},[e,t]),m.useEffect(()=>{v&&(o(l),h(g=>g+1),w(!0),b(!1))},[v,l]),m.useEffect(()=>{y(Kl[0]).then(()=>{f(!1),setTimeout(()=>{w(!0)},300)}).catch(()=>{f(!1),w(!1)})},[]),{backgroundImage:i,animationKey:u,isLoading:d,imageLoaded:p}}const mc=[{icon:a.jsx(Ti,{className:"w-5 h-5 text-orange-500"}),title:"Smart Food Search",description:"Search 300,000+ USDA foods with brand recognition",category:"Core Feature",targetTab:"nutrition",nutritionMode:"calculator"},{icon:a.jsx(sn,{className:"w-5 h-5 text-purple-500"}),title:"AI Photo Analysis",description:"Snap photos for instant nutrition breakdown",category:"AI Feature",targetTab:"nutrition",nutritionMode:"ai"},{icon:a.jsx(Vt,{className:"w-5 h-5 text-green-500"}),title:"Calorie Calculator",description:"Instant nutrition facts with portion warnings",category:"Core Feature",targetTab:"nutrition",nutritionMode:"calculator"},{icon:a.jsx(_n,{className:"w-5 h-5 text-orange-500"}),title:"Fasting Timer",description:"Track intermittent fasting with celebrations",category:"Wellness",targetTab:"fasting"},{icon:a.jsx(tn,{className:"w-5 h-5 text-amber-700"}),title:"Achievement System",description:"Unlock rewards as you hit your goals",category:"Motivation",targetTab:"profile",accordionTarget:"achievements"},{icon:a.jsx(Bo,{className:"w-5 h-5 text-cyan-500"}),title:"Hydration Tracking",description:"Beautiful water intake visualization",category:"Wellness",targetTab:"home"}];function m3({isVisible:t=!0,onNavigateToFeature:e,onCardInteraction:r}){const[n,s]=m.useState(!1),[i,o]=m.useState(()=>{const u=localStorage.getItem("tour-cards-clicked");return u?JSON.parse(u):[]}),l=i.length>=mc.length;if(!t||l)return null;const c=u=>{s(!1);const h=u.title;if(!i.includes(h)){const d=[...i,h];o(d),localStorage.setItem("tour-cards-clicked",JSON.stringify(d)),d.length>=mc.length&&r&&r()}e&&e(u.targetTab),window.dispatchEvent(new CustomEvent("navigate-to-tab",{detail:{tab:u.targetTab,nutritionMode:u.nutritionMode,accordionTarget:u.accordionTarget}}))};return a.jsx(a.Fragment,{children:a.jsxs(Nu,{open:n,onOpenChange:s,children:[a.jsx(Qw,{asChild:!0,children:a.jsxs(Q,{variant:"ghost",size:"sm",className:"text-amber-600 hover:text-amber-800 font-medium","data-testid":"tour-preview-button",children:[a.jsx(fw,{className:"w-4 h-4 mr-2"}),"Explore Features"]})}),a.jsxs(Cu,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(_u,{children:a.jsxs(Eu,{className:"flex items-center gap-2 text-xl",children:[a.jsx(os,{className:"w-6 h-6 text-yellow-500"}),"ByteWise Features"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-900/20 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:" App Features"}),a.jsx("p",{className:"text-gray-950 dark:text-gray-950 text-sm",children:"Explore all the powerful features available in ByteWise Nutritionist. Click any card below to navigate directly to that feature."}),a.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-900",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Vt,{className:"w-4 h-4"}),"6 key features"]}),a.jsx(Le,{variant:"secondary",className:"text-xs text-white bg-orange-600",children:"Click to explore"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:mc.map((u,h)=>a.jsx(ie,{className:"border border-amber-300 dark:border-amber-400 bg-gradient-to-br from-amber-50 to-amber-100 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>c(u),children:a.jsx(gt,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[u.icon,a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium text-sm mb-1 text-gray-900",children:u.title}),a.jsx("p",{className:"text-xs text-gray-700 mb-2",children:u.description}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Le,{variant:"outline",className:"text-xs text-blue-600 border-blue-400 bg-white/80",children:u.category}),a.jsx("span",{className:"text-xs text-orange-600 font-medium",children:"Go to feature "})]})]})]})})},h))}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[a.jsx(os,{className:"w-4 h-4"}),a.jsx("span",{children:"Click any feature card above to explore that section!"})]}),a.jsx(Q,{onClick:()=>s(!1),className:"bg-amber-50 text-gray-900 hover:bg-amber-100 border-none",children:"Close"})]})]})]})]})})}function p3(){return{shouldShowTour:()=>{const n=localStorage.getItem("bytewise-tour-completed")!=="true",s=localStorage.getItem("tour-cards-clicked"),o=(s?JSON.parse(s):[]).length<mc.length;return n&&o},resetTour:()=>{localStorage.removeItem("bytewise-tour-completed"),localStorage.removeItem("tour-cards-clicked")},dismissTour:()=>{localStorage.setItem("bytewise-tour-completed","true")}}}var g3=m.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),nl=function(e,r,n){var s=n.get(e);return s?s(r):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function c0(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var Ui=m.forwardRef(function(t,e){var r=t.alt,n=t.color,s=t.size,i=t.weight,o=t.mirrored,l=t.children,c=t.renderPath,u=c0(t,["alt","color","size","weight","mirrored","children","renderPath"]),h=m.useContext(g3),d=h.color,f=d===void 0?"currentColor":d,p=h.size,w=h.weight,v=w===void 0?"regular":w,b=h.mirrored,y=b===void 0?!1:b,g=c0(h,["color","size","weight","mirrored"]);return N.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:s??p,height:s??p,fill:n??f,viewBox:"0 0 256 256",transform:o||y?"scale(-1, 1)":void 0},g,u),!!r&&N.createElement("title",null,r),l,N.createElement("rect",{width:"256",height:"256",fill:"none"}),c(i??v,n??f))});Ui.displayName="IconBase";var ga=new Map;ga.set("bold",function(t){return N.createElement(N.Fragment,null,N.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ga.set("duotone",function(t){return N.createElement(N.Fragment,null,N.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),N.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ga.set("fill",function(){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});ga.set("light",function(t){return N.createElement(N.Fragment,null,N.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ga.set("thin",function(t){return N.createElement(N.Fragment,null,N.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ga.set("regular",function(t){return N.createElement(N.Fragment,null,N.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var y3=function(e,r){return nl(e,r,ga)},Ib=m.forwardRef(function(t,e){return N.createElement(Ui,Object.assign({ref:e},t,{renderPath:y3}))});Ib.displayName="ChartBar";var ya=new Map;ya.set("bold",function(t){return N.createElement(N.Fragment,null,N.createElement("line",{x1:"84",y1:"32",x2:"84",y2:"72",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("line",{x1:"84",y1:"116",x2:"84",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("path",{d:"M120,32V80a36,36,0,0,1-72,0V32",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("path",{d:"M204,160H148S160,48,204,32V224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ya.set("duotone",function(t){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M204,160H148S160,48,204,32",opacity:"0.2"}),N.createElement("line",{x1:"84",y1:"32",x2:"84",y2:"72",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("line",{x1:"84",y1:"116",x2:"84",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("path",{d:"M112,32l8,48a36,36,0,0,1-72,0l8-48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("path",{d:"M204,160H148S160,48,204,32V224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ya.set("fill",function(){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M212,32V224a8,8,0,0,1-16,0V168H148a8.2,8.2,0,0,1-6-2.7,8.1,8.1,0,0,1-2-6.2,412.8,412.8,0,0,1,11.8-59.3c12-42.4,28.7-67.8,49.5-75.3A7.9,7.9,0,0,1,212,32ZM127.9,78.7l-8-48a8,8,0,1,0-15.8,2.6L110.6,72H92V32a8,8,0,0,0-16,0V72H57.4l6.5-38.7a8,8,0,1,0-15.8-2.6l-8,48h0A4.9,4.9,0,0,0,40,80a44.1,44.1,0,0,0,36,43.3V224a8,8,0,0,0,16,0V123.3A44.1,44.1,0,0,0,128,80a4.9,4.9,0,0,0-.1-1.2Z"}))});ya.set("light",function(t){return N.createElement(N.Fragment,null,N.createElement("line",{x1:"84",y1:"32",x2:"84",y2:"72",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("line",{x1:"84",y1:"116",x2:"84",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("path",{d:"M112,32l8,48a36,36,0,0,1-72,0l8-48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("path",{d:"M204,160H148S160,48,204,32V224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ya.set("thin",function(t){return N.createElement(N.Fragment,null,N.createElement("line",{x1:"84",y1:"32",x2:"84",y2:"72",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("line",{x1:"84",y1:"116",x2:"84",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("path",{d:"M112,32l8,48a36,36,0,0,1-72,0l8-48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("path",{d:"M204,160H148S160,48,204,32V224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ya.set("regular",function(t){return N.createElement(N.Fragment,null,N.createElement("line",{x1:"84",y1:"32",x2:"84",y2:"72",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("line",{x1:"84",y1:"116",x2:"84",y2:"224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("path",{d:"M112,32l8,48a36,36,0,0,1-72,0l8-48",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("path",{d:"M204,160H148S160,48,204,32V224",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var v3=function(e,r){return nl(e,r,ya)},Db=m.forwardRef(function(t,e){return N.createElement(Ui,Object.assign({ref:e},t,{renderPath:v3}))});Db.displayName="ForkKnife";var va=new Map;va.set("bold",function(t){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});va.set("duotone",function(t){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",opacity:"0.2"}),N.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});va.set("fill",function(){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M218.8,103.7,138.8,31a16,16,0,0,0-21.6,0l-80,72.7A16,16,0,0,0,32,115.5v92.1a16.4,16.4,0,0,0,4,11A15.9,15.9,0,0,0,48,224H96a8,8,0,0,0,8-8V168a8,8,0,0,1,8-8h32a8,8,0,0,1,8,8v48a8,8,0,0,0,8,8h48a15.6,15.6,0,0,0,7.6-1.9A16.1,16.1,0,0,0,224,208V115.5A16,16,0,0,0,218.8,103.7Z"}))});va.set("light",function(t){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});va.set("thin",function(t){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});va.set("regular",function(t){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M152,208V160a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v48a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V115.5a8.3,8.3,0,0,1,2.6-5.9l80-72.7a8,8,0,0,1,10.8,0l80,72.7a8.3,8.3,0,0,1,2.6,5.9V208a8,8,0,0,1-8,8H160A8,8,0,0,1,152,208Z",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var x3=function(e,r){return nl(e,r,va)},Ob=m.forwardRef(function(t,e){return N.createElement(Ui,Object.assign({ref:e},t,{renderPath:x3}))});Ob.displayName="House";var xa=new Map;xa.set("bold",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"140",r:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("line",{x1:"128",y1:"140",x2:"161.9",y2:"106.1",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("line",{x1:"104",y1:"12",x2:"152",y2:"12",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});xa.set("duotone",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"128",r:"88",opacity:"0.2"}),N.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),N.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});xa.set("fill",function(){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M104,16h48a8,8,0,0,0,0-16H104a8,8,0,0,0,0,16Z"}),N.createElement("path",{d:"M128,32a96,96,0,1,0,96,96A96.2,96.2,0,0,0,128,32Zm45.3,62.1-39.6,39.6a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l39.6-39.6a8.1,8.1,0,1,1,11.4,11.4Z"}))});xa.set("light",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});xa.set("thin",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});xa.set("regular",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"128",r:"88",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),N.createElement("line",{x1:"128",y1:"128",x2:"167.6",y2:"88.4",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),N.createElement("line",{x1:"104",y1:"8",x2:"152",y2:"8",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var w3=function(e,r){return nl(e,r,xa)},Mb=m.forwardRef(function(t,e){return N.createElement(Ui,Object.assign({ref:e},t,{renderPath:w3}))});Mb.displayName="Timer";var wa=new Map;wa.set("bold",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),N.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});wa.set("duotone",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"96",r:"64",opacity:"0.2"}),N.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),N.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});wa.set("fill",function(){return N.createElement(N.Fragment,null,N.createElement("path",{d:"M231.9,212a120.7,120.7,0,0,0-67.1-54.2,72,72,0,1,0-73.6,0A120.7,120.7,0,0,0,24.1,212a7.7,7.7,0,0,0,0,8,7.8,7.8,0,0,0,6.9,4H225a7.8,7.8,0,0,0,6.9-4A7.7,7.7,0,0,0,231.9,212Z"}))});wa.set("light",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),N.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});wa.set("thin",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),N.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});wa.set("regular",function(t){return N.createElement(N.Fragment,null,N.createElement("circle",{cx:"128",cy:"96",r:"64",fill:"none",stroke:t,strokeMiterlimit:"10",strokeWidth:"16"}),N.createElement("path",{d:"M31,216a112,112,0,0,1,194,0",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var b3=function(e,r){return nl(e,r,wa)},Lb=m.forwardRef(function(t,e){return N.createElement(Ui,Object.assign({ref:e},t,{renderPath:b3}))});Lb.displayName="User";function k3(t,e){let r=null;return(...n)=>{r&&clearTimeout(r),r=setTimeout(()=>{t(...n)},e)}}class j3{constructor(){this.cache=new Map}set(e,r,n=3e4){this.cache.set(e,{data:r,timestamp:Date.now(),ttl:n})}get(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>r.ttl?(this.cache.delete(e),null):r.data:null}clear(){this.cache.clear()}has(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>r.ttl?(this.cache.delete(e),!1):!0:!1}}const Bd=new j3;function u0(t,e=3e4){const r=`localStorage:${t}`;if(Bd.has(r))return Bd.get(r);try{const n=localStorage.getItem(t),s=n?JSON.parse(n):null;return Bd.set(r,s,e),s}catch{return null}}function d0(){const[t,e]=m.useState([]),[r,n]=m.useState(0),{user:s}=_t(),i=Jw(),o=()=>{const h=new Date,f=$a(h).map(p=>({day:p.toLocaleDateString("en-US",{weekday:"long"}),date:Ze(p),calories:0,mealCount:0}));return Ze(h),f},l=async()=>{try{const h=o();let d=[];if(s)try{const v=await je("GET","/api/meals/logged");if(v.ok){const b=await v.json();d=Array.isArray(b)?b:[],localStorage.setItem("weeklyMeals",JSON.stringify(d))}else throw new Error("Database fetch failed")}catch{d=u0("weeklyMeals",0)||[]}else d=u0("weeklyMeals",0)||[];let f=!1;d.forEach(v=>{if((Number(v.calories)||Number(v.totalCalories)||0)===0&&(f=!0,v.name)){const y=v.name.toLowerCase();y.includes("empanada")?v.calories=250:y.includes("apple")?v.calories=95:y.includes("water")?v.calories=0:y.includes("chicken")?v.calories=300:y.includes("popcycle")||y.includes("popsicle")?v.calories=150:v.calories=100}}),f&&localStorage.setItem("weeklyMeals",JSON.stringify(d));const p=h.map(v=>{const b=d.filter(g=>{if(!g.date)return!1;const x=g.date;let k=x.includes("T")?x.split("T")[0]:x;if(x.includes("T")||x.includes("Z")){const j=new Date(x);k=Ze(j)}return k===v.date}),y=b.reduce((g,x)=>{const k=Number(x.calories)||Number(x.totalCalories)||0;return g+k},0);return{...v,calories:y,mealCount:b.length}}),w=p.reduce((v,b)=>v+b.calories,0);e(p),n(w)}catch{const d=o();e(d.map(f=>({...f,calories:0,mealCount:0}))),n(0)}},c=k3(l,250);m.useEffect(()=>{typeof window<"u"&&window.localStorage&&(localStorage.removeItem("user-date-override"),localStorage.removeItem("date-calculation-cache")),l();const h=()=>{c(),setTimeout(()=>i.mutate(),500)},d=f=>{f.key==="weeklyMeals"&&l()};return window.addEventListener("calories-logged",h),window.addEventListener("meal-logged-success",h),window.addEventListener("refresh-weekly-data",h),window.addEventListener("storage",d),()=>{window.removeEventListener("calories-logged",h),window.removeEventListener("meal-logged-success",h),window.removeEventListener("refresh-weekly-data",h),window.removeEventListener("storage",d)}},[]);const u=Ze();return a.jsx("div",{className:"weekly-calories-card-wrapper",children:a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-5 h-5 text-blue-400"}),a.jsx("h4",{className:"text-lg font-semibold text-gray-950",children:"Weekly Summary"})]}),a.jsxs(Le,{className:"bg-amber-800 text-amber-100 border border-amber-700",children:[a.jsx(la,{className:"w-3 h-3 mr-1 text-amber-100"}),r," cal total"]})]}),a.jsx("div",{className:"space-y-3",children:t.map((h,d)=>{const f=h.date===u,p=h.mealCount>0;return a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all ${f?"bg-orange-500/20 border-orange-400/30 shadow-lg":p?"bg-amber-100/70 border-amber-200/60 hover:bg-amber-200/70":"bg-amber-50/40 border-amber-200/30"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"text-center min-w-[80px]",children:[a.jsx("p",{className:`text-sm font-medium ${f?"text-orange-600":"text-gray-950"}`,children:h.day}),a.jsx("p",{className:`text-xs ${f?"text-orange-500":"text-gray-900"}`,children:(()=>{const[w,v,b]=h.date.split("-").map(Number);return new Date(w,v-1,b).toLocaleDateString("en-US",{month:"short",day:"numeric"})})()})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[f&&a.jsx(Le,{className:"bg-orange-600 text-white text-xs",children:"Today"}),h.mealCount>0&&a.jsxs(Le,{variant:"outline",className:"text-xs text-orange-600 border-orange-400 bg-white/80",children:[h.mealCount," meal",h.mealCount!==1?"s":""]})]})]}),a.jsx("div",{className:"text-right",children:h.calories>0?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(la,{className:`w-4 h-4 ${f?"text-orange-400":"text-orange-500"}`}),a.jsx("span",{className:`font-bold text-lg ${f?"text-orange-600":"text-gray-950"}`,children:h.calories}),a.jsx("span",{className:`text-sm ${f?"text-orange-500":"text-gray-900"}`,children:"cal"})]}):a.jsx("span",{className:"text-gray-800 text-sm",children:"No meals logged"})})]},h.date)})}),r>0&&a.jsx("div",{className:"pt-3 border-t border-amber-300/40",children:a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-900",children:"Weekly Average:"}),a.jsxs("span",{className:"text-gray-950 font-semibold",children:[Math.round(r/7)," cal/day"]})]})})]})})})}function Fb(){return a.jsx(k5,{position:"top-center",expand:!0,richColors:!0,closeButton:!0,toastOptions:{style:{background:"rgba(0, 0, 0, 0.8)",color:"white",border:"1px solid rgba(255, 255, 255, 0.2)",fontSize:"14px"}}})}function S3({maxNumberOfFiles:t=1,maxFileSize:e=10485760,onGetUploadParameters:r,onComplete:n,buttonClassName:s,children:i}){const[o,l]=m.useState(!1),[c,u]=m.useState(null),[h,d]=m.useState(!1),[f,p]=m.useState(0),[w,v]=m.useState(null),b=m.useRef(null),y=k=>{var _;const j=(_=k.target.files)==null?void 0:_[0];if(j){if(j.size>e){v(`File size (${(j.size/1024/1024).toFixed(1)} MB) exceeds maximum allowed size (${(e/1024/1024).toFixed(1)} MB)`);return}if(!j.type.startsWith("image/")){v("Please select an image file (JPG, PNG, HEIC, WEBP)");return}u(j),v(null)}},g=async()=>{if(c){d(!0),v(null);try{const{url:k,method:j}=await r(c),_=new XMLHttpRequest;_.upload.addEventListener("progress",A=>{if(A.lengthComputable){const C=Math.round(A.loaded/A.total*100);p(C)}}),await new Promise((A,C)=>{_.onreadystatechange=()=>{_.readyState===XMLHttpRequest.DONE&&(_.status>=200&&_.status<300?A():C(new Error(`Upload failed with status ${_.status}: ${_.statusText}`)))},_.onerror=()=>C(new Error("Upload failed due to network error")),_.onabort=()=>C(new Error("Upload was cancelled")),_.open(j,k),_.setRequestHeader("Content-Type",c.type),_.send(c)}),d(!1),n==null||n({successful:!0,file:c}),l(!1),u(null),p(0)}catch(k){console.error("Upload failed:",k),d(!1),p(0),v(k instanceof Error?k.message:"Upload failed")}}},x=()=>{l(!1),u(null),p(0),d(!1),v(null)};return a.jsxs("div",{children:[a.jsx(Q,{onClick:()=>l(!0),className:s,"data-testid":"button-upload-food-photo",children:i}),a.jsx(Nu,{open:o,onOpenChange:l,children:a.jsxs(Cu,{className:"sm:max-w-md bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200",children:[a.jsxs(_u,{children:[a.jsxs(Eu,{className:"flex items-center gap-2 text-gray-900",children:[a.jsx(sn,{className:"h-5 w-5 text-gray-900"}),"Upload Food Photo"]}),a.jsx(x4,{className:"text-gray-600",children:"Select a photo from your device to analyze food items and get nutritional information"})]}),a.jsxs("div",{className:"space-y-4",children:[w&&a.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[a.jsx("p",{className:"text-sm text-red-600",children:w}),a.jsx(Q,{onClick:()=>v(null),variant:"outline",size:"sm",className:"mt-2 text-xs",children:"Dismiss"})]}),!c&&!h&&a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Choose a photo from your library or take a new one"}),a.jsx(Q,{onClick:()=>{b.current&&(b.current.removeAttribute("capture"),b.current.click())},className:"w-full h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white","data-testid":"button-choose-photo-library",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Wg,{className:"h-6 w-6"}),a.jsx("span",{className:"font-semibold",children:" Choose from Photo Library"})]})}),a.jsx(Q,{onClick:()=>{b.current&&(b.current.setAttribute("capture","environment"),b.current.click())},className:"w-full h-14 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white","data-testid":"button-take-photo",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(sn,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:" Take New Photo"})]})}),a.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:y,className:"hidden"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Supports JPG, PNG, HEIC, WEBP  Max 10MB"})]}),c&&!h&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm font-medium",children:["Selected: ",c.name]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[(c.size/1024/1024).toFixed(1)," MB"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{onClick:x,variant:"outline",className:"flex-1",children:"Cancel"}),a.jsxs(Q,{onClick:g,className:"flex-1 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600",children:[a.jsx(Wg,{className:"h-4 w-4 mr-2"}),"Upload & Analyze"]})]})]}),h&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm font-medium",children:"Uploading..."}),a.jsx("p",{className:"text-xs text-gray-500",children:c==null?void 0:c.name})]}),a.jsx(Au,{value:f,className:"w-full"}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[f,"% complete"]})}),a.jsxs(Q,{onClick:x,variant:"outline",className:"w-full",children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Cancel Upload"]})]})]})]})})]})}function N3({key:t,data:e,syncToDatabase:r=!0,debounceMs:n=1e3}){const{user:s}=_t(),{toast:i}=Yt(),o=m.useRef(),l=m.useRef(""),c=m.useCallback(p=>{try{if(p==null)return;const w=JSON.stringify(p);return w.length<5e4&&(localStorage.setItem(t,w),localStorage.setItem(`${t}_timestamp`,new Date().toISOString())),!0}catch(w){return w instanceof Error&&w.name==="QuotaExceededError"&&console.warn("localStorage quota exceeded, skipping save for:",t),!1}},[t]),u=on({mutationFn:async p=>{if(s)return window.dispatchEvent(new CustomEvent("sync-start")),je("POST","/api/user/sync-data",{key:t,data:p,timestamp:new Date().toISOString()})},onSuccess:p=>{l.current=new Date().toISOString(),localStorage.setItem(`${t}_lastSync`,l.current),window.dispatchEvent(new CustomEvent("sync-success",{detail:{message:`Saved ${(p==null?void 0:p.itemsBackedUp)||0} items`,key:t,itemsBackedUp:p==null?void 0:p.itemsBackedUp}}))},onError:p=>{window.dispatchEvent(new CustomEvent("sync-error",{detail:{key:t,error:p.message}}))}}),h=m.useCallback(p=>{if(!r||!s)return;o.current&&clearTimeout(o.current);const v=JSON.stringify(p).length>1e4?n+500:n;o.current=setTimeout(()=>{u.mutate(p)},v)},[r,s,n,u]);m.useEffect(()=>e==null?void 0:(c(e)&&h(e),()=>{o.current&&(clearTimeout(o.current),o.current=void 0),e!=null&&c(e)}),[e,c,h]);const d=m.useCallback(()=>{try{const p=localStorage.getItem(t);if(p)return JSON.parse(p);const w=localStorage.getItem(`${t}_backup`);if(w)return JSON.parse(w)}catch(p){console.error(`Failed to load ${t} from localStorage:`,p)}return null},[t]),f=m.useCallback(()=>{e&&s&&(u.mutate(e),i({title:"Syncing data",description:"Your data is being backed up to the cloud"}))},[e,s,u,i]);return{loadFromLocalStorage:d,saveToLocalStorage:c,forceSync:f,isSyncing:u.isPending,lastSync:l.current}}class Xa{constructor(){this.syncInterval=null,this.handleBeforeUnload=()=>{this.saveAllData()},this.handleVisibilityChange=()=>{document.visibilityState==="hidden"&&this.saveAllData()}}static getInstance(){return Xa.instance||(Xa.instance=new Xa),Xa.instance}saveAllData(){["meals","recipes","waterIntake","calorieGoal","proteinGoal","carbGoal","fatGoal","waterGoal","userProfile","achievements","fastingSessions"].forEach(r=>{const n=document.querySelector(`[data-persistence-key="${r}"]`);if(n){const s=new CustomEvent("persist-data",{detail:{key:r}});n.dispatchEvent(s)}})}startAutoSave(e=45e3){this.stopAutoSave(),setTimeout(()=>{this.syncInterval=setInterval(()=>{this.saveAllData()},e)},2e3),window.addEventListener("beforeunload",this.handleBeforeUnload),document.addEventListener("visibilitychange",this.handleVisibilityChange)}stopAutoSave(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),window.removeEventListener("beforeunload",this.handleBeforeUnload),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.saveAllData()}cleanup(){this.stopAutoSave()}}let Gr=null;var S0,N0;if(typeof window<"u"){try{if(Gr)try{(S0=Gr.cleanup)==null||S0.call(Gr)}catch{}Gr=Xa.getInstance();try{(N0=Gr.startAutoSave)==null||N0.call(Gr)}catch{}}catch(t){console.warn("Failed to initialize auto-save:",t)}window.addEventListener("beforeunload",()=>{var t;try{const e=Gr;if(e){try{(t=e.cleanup)==null||t.call(e)}catch{}Gr=null}}catch{}})}function C3(){const[t,e]=m.useState([]),[r,n]=m.useState(0),s=Li(),{user:i}=_t(),o=m.useRef(Ze());N3({key:"calculatedCalories",data:t,syncToDatabase:!0,debounceMs:2e3});const l=m.useCallback(()=>{const f=Ze();console.log(" Daily reset: keeping only today's entries for new day:",f),e(p=>{const w=p.filter(b=>b.date===f),v=w.reduce((b,y)=>b+y.calories,0);return n(v),w});try{const p=localStorage.getItem("calculatedCalories");if(p){const v=JSON.parse(p).filter(b=>b.date===f);localStorage.setItem("calculatedCalories",JSON.stringify(v)),console.log(` Cleaned storage: kept ${v.length} entries for ${f}`)}}catch(p){console.warn("Failed to clear yesterday's entries from localStorage:",p)}window.dispatchEvent(new CustomEvent("dailyMealsReset",{detail:{date:f}}))},[]);m.useEffect(()=>{const f=()=>{const w=Ze();w!==o.current&&(console.log(" New day detected, resetting logged meals:",{previousDate:o.current,newDate:w}),o.current=w,l())};f();const p=setInterval(f,6e4);return()=>clearInterval(p)},[l]),m.useEffect(()=>{try{const f=localStorage.getItem("calculatedCalories");if(f){const p=JSON.parse(f);if(p&&Array.isArray(p)){const w=Ze(),v=p.filter(y=>y.date===w);e(v);const b=v.reduce((y,g)=>y+g.calories,0);n(b),v.length!==p.length&&(localStorage.setItem("calculatedCalories",JSON.stringify(v)),console.log(` Cold start cleanup: pruned ${p.length-v.length} old entries, kept ${v.length} for ${w}`),window.dispatchEvent(new CustomEvent("dailyMealsReset",{detail:{date:w,coldStart:!0}}))),o.current=w}}}catch(f){console.warn("Failed to load calculated calories from localStorage:",f)}},[]);const c=on({mutationFn:async f=>{const p={name:f.name,calories:f.calories,protein:f.protein,carbs:f.carbs,fat:f.fat,date:f.date,time:f.time.replace(/:\d\d$/,""),category:ea(),timestamp:new Date().toISOString(),source:"calculator",mealType:ea()},w=JSON.parse(localStorage.getItem("weeklyMeals")||"[]");if(w.push(p),localStorage.setItem("weeklyMeals",JSON.stringify(w)),i!=null&&i.id)try{const v=await je("POST","/api/meals/logged",{name:f.name,mealType:ea(),date:f.date,totalCalories:f.calories,totalProtein:f.protein,totalCarbs:f.carbs,totalFat:f.fat,fiber:f.fiber||0,sugar:f.sugar||0,sodium:f.sodium||0});console.log(" Meal synced to database:",v),window.dispatchEvent(new CustomEvent("reload-meal-data"))}catch(v){console.warn(" Failed to sync meal to database (saved locally):",v)}else console.log(" Meal saved locally (user not authenticated)");return p},onSuccess:()=>{s.invalidateQueries({queryKey:["weeklyMeals"]}),s.invalidateQueries({queryKey:["/api/meals/logged"]}),s.invalidateQueries({queryKey:["dailyStats"]})}}),u=m.useCallback(async f=>{const p=new Date,w={...f,id:Date.now().toString(),date:Ze(p),time:dc(p),source:"calculator"};e(g=>[...g,w]),n(g=>g+f.calories);const v=localStorage.getItem("calculatedCalories"),b=v?JSON.parse(v):[];if(localStorage.setItem("calculatedCalories",JSON.stringify([...b,w])),f.name.toLowerCase().includes("water")&&f.calories===0){console.log(" Water detected in calorie tracker:",f.name);let g=1;const x=f.name.toLowerCase();(x.includes("bottle")||x.includes("glass")||x.includes("cup"))&&(g=1);const k=JSON.parse(localStorage.getItem("dailyStats")||"{}"),_=(k.waterGlasses||0)+g;if(localStorage.setItem("dailyStats",JSON.stringify({...k,waterGlasses:_})),console.log(" Water updated in localStorage:",{added:g,newTotal:_}),window.dispatchEvent(new CustomEvent("waterUpdated",{detail:{glasses:_}})),i!=null&&i.id)try{await je("POST","/api/daily-stats",{waterGlasses:_,date:Ze()}),console.log(" Water consumption synced to database"),s.invalidateQueries({queryKey:["dailyStats"]})}catch(A){console.warn(" Failed to sync water to database (will retry later):",A)}else console.log(" Water saved locally (user not authenticated)")}return w},[c,s,i]),h=m.useCallback(()=>{const f=Ze();return t.filter(p=>p.date===f)},[t]),d=m.useCallback(()=>h().reduce((p,w)=>({calories:p.calories+w.calories,protein:p.protein+w.protein,carbs:p.carbs+w.carbs,fat:p.fat+w.fat,count:p.count+1}),{calories:0,protein:0,carbs:0,fat:0,count:0}),[h]);return{calculatedCalories:t,dailyTotal:r,addCalculatedCalories:u,logCaloriesMutation:c,getTodaysCalories:h,getDailyStats:d}}function _3({imageUrl:t,alt:e,className:r}){const[n,s]=m.useState(t),[i,o]=m.useState(!1),[l,c]=m.useState(!1);m.useEffect(()=>{s(t),o(!1),c(!1)},[t]);const u=m.useCallback(()=>{if(l||!t.includes("storage.googleapis.com")){o(!0);return}try{const d=new URL(t).pathname.split("/"),f=d.findIndex(p=>p.includes("objstore-"));if(f!==-1){const w=`/api/proxy-image/${d.slice(f+1).join("/")}`;fetch(w).then(v=>{v.ok?s(w):o(!0)}).catch(v=>{o(!0)}),c(!0);return}}catch{}o(!0)},[t,l]);return i?a.jsxs("div",{className:`${r} flex flex-col items-center justify-center bg-gradient-to-br from-amber-50 to-amber-100 text-gray-600 text-sm border-2 border-dashed border-amber-300 rounded-lg`,children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("div",{className:"text-center px-2 font-medium",children:"Photo no longer available"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1 text-center px-2",children:"Upload a new photo to see it here"})]}):a.jsx("img",{src:n,alt:e,className:r,crossOrigin:"anonymous",onError:u,loading:"lazy"})}function E3(){var g,x;const[t,e]=m.useState(null),[r,n]=m.useState(""),[s,i]=m.useState(null),[o,l]=m.useState([]),{toast:c}=Yt(),{addCalculatedCalories:u}=C3(),{user:h}=_t();m.useEffect(()=>{(()=>{try{const j=localStorage.getItem("weeklyAnalyzedFoods");if(j){const _=JSON.parse(j),A=new Date;A.setDate(A.getDate()-7);const C=_.filter(I=>new Date(I.analysisTime)>=A);l(C),C.length!==_.length&&localStorage.setItem("weeklyAnalyzedFoods",JSON.stringify(C))}}catch(j){console.error("Error loading weekly analyzed foods:",j)}})()},[]);const d=k=>{try{const j=[k,...o];l(j),localStorage.setItem("weeklyAnalyzedFoods",JSON.stringify(j))}catch(j){console.error("Error saving analyzed food:",j)}},f=k=>{try{const j=o.filter((_,A)=>A!==k);l(j),localStorage.setItem("weeklyAnalyzedFoods",JSON.stringify(j)),c({title:"Analysis Deleted",description:"The food analysis has been removed from your history"})}catch(j){console.error("Error deleting analyzed food:",j),c({title:"Delete Failed",description:"Could not delete the analysis. Please try again.",variant:"destructive"})}},p=on({mutationFn:async k=>{const j=await je("POST","/api/objects/upload",{contentType:k});if(!j.ok)throw new Error(`Upload preparation failed: ${j.status} ${j.statusText}`);return await j.json()},onError:k=>{c({title:"Upload Error",description:"Unable to prepare image upload. Please try refreshing the page.",variant:"destructive"})}}),w=on({mutationFn:async k=>{const j=await je("POST","/api/ai/analyze-food",{imageUrl:k});if(!j.ok){const A=await j.json();throw new Error(A.error||"Analysis failed")}return await j.json()},onSuccess:async k=>{const j=k.identifiedFoods.reduce((C,I)=>({calories:C.calories+(I.calories||0),protein:C.protein+(I.protein||0),carbs:C.carbs+(I.carbs||0),fat:C.fat+(I.fat||0),fiber:C.fiber+(I.fiber||0),sugar:C.sugar+(I.sugar||0),sodium:C.sodium+(I.sodium||0),iron:C.iron+(I.iron||0),calcium:C.calcium+(I.calcium||0),zinc:C.zinc+(I.zinc||0),magnesium:C.magnesium+(I.magnesium||0),vitaminC:C.vitaminC+(I.vitaminC||0),vitaminD:C.vitaminD+(I.vitaminD||0),vitaminB12:C.vitaminB12+(I.vitaminB12||0),folate:C.folate+(I.folate||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0,iron:0,calcium:0,zinc:0,magnesium:0,vitaminC:0,vitaminD:0,vitaminB12:0,folate:0}),_={...k,imageUrl:r,totalNutrition:j};e(_),d(_);const A=k.identifiedFoods.length===1?k.identifiedFoods[0].name:`Mixed Meal (${k.identifiedFoods.length} items)`;if(await u({name:A,calories:j.calories,protein:j.protein,carbs:j.carbs,fat:j.fat,fiber:j.fiber,sugar:j.sugar,sodium:j.sodium,ingredients:k.identifiedFoods.map(C=>C.name)}),h)try{const C={name:A,totalCalories:j.calories,totalProtein:j.protein,totalCarbs:j.carbs,totalFat:j.fat,iron:j.iron||0,calcium:j.calcium||0,zinc:j.zinc||0,magnesium:j.magnesium||0,vitaminC:j.vitaminC||0,vitaminD:j.vitaminD||0,vitaminB12:j.vitaminB12||0,folate:j.folate||0,date:new Date().toISOString(),mealType:"meal"},I=await je("POST","/api/meals/logged",C);if(I.ok)window.dispatchEvent(new CustomEvent("refresh-meals")),window.dispatchEvent(new CustomEvent("reload-meal-data"));else throw new Error(`Database save failed: ${I.status}`)}catch{}c({title:"Analysis Complete & Logged!",description:`Found ${k.identifiedFoods.length} food items (${Math.round(j.calories)} cal) and added to your daily log`})},onError:k=>{let j="Analysis Failed",_=k.message||"Failed to analyze the food image";k.message&&k.message.includes("QUOTA_EXCEEDED")?(j="Imagga API Quota Exceeded",_="The AI analysis feature is temporarily unavailable due to API quota limits. You can still manually add foods using the food database search."):k.message&&k.message.includes("INVALID_API_KEY")?(j="API Configuration Error",_="The Imagga API key is invalid. Please check the API configuration."):k.message&&k.message.includes("MISSING_CREDENTIALS")?(j="API Not Configured",_="Imagga API credentials are not configured. Please contact support."):k.message&&k.message.includes("IMAGE_ERROR")?(j="Image Processing Error",_="Unable to analyze the image. Please try uploading a clearer photo with better lighting or a different format (JPG, PNG)."):k.message&&k.message.includes("NETWORK_ERROR")?(j="Connection Error",_="Unable to connect to the analysis service. Please check your internet connection and try again."):(j="Analysis Failed",_="Unable to analyze the image. Please try uploading a clearer photo with better lighting."),c({title:j,description:_,variant:"destructive"})}}),v=async k=>{try{const j=await p.mutateAsync(k.type);if(!(j!=null&&j.uploadURL))throw new Error("No upload URL received from server");return i(j.uploadURL),{method:"PUT",url:j.uploadURL}}catch(j){throw c({title:"Upload Error",description:"Failed to get upload URL. Please try again.",variant:"destructive"}),j}},b=async k=>{if(k.successful&&k.file)try{if(!s)throw new Error("No upload URL available");const j=new URL(s);let _=j.pathname;_=_.replace("/upload/sign/","/sign/");const A=_.split("/");let C="";const I=A.findIndex(G=>G==="storage");I!==-1&&A.length>I+4?C=A.slice(I+5).join("/"):C=`uploads/${k.file.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`;const M=`${j.protocol}//${j.host}${_}`;try{await je("POST","/api/objects/track-upload",{fileName:k.file.name,storagePath:C,storageUrl:M,mimeType:k.file.type,fileSize:k.file.size,analysisId:null}),console.log(" Photo upload tracked in database for deletion compliance")}catch(G){console.warn(" Photo tracking failed (user may not be logged in):",G)}n(M),setTimeout(()=>{w.mutate(M)},3e3)}catch(j){console.error("Failed to construct image URL:",j),c({title:"Upload Error",description:"Upload completed but failed to process the image URL. Please try again.",variant:"destructive"})}else console.error(" Upload failed:",k),c({title:"Upload Failed",description:"File upload failed. Please try again.",variant:"destructive"})},y=(k,j)=>{if(!t)return;const _=t.identifiedFoods.map((C,I)=>{if(I===k){const M=j/100;return{...C,adjustedPortion:j,calories:Math.round(C.calories*M),protein:Math.round(C.protein*M*10)/10,carbs:Math.round(C.carbs*M*10)/10,fat:Math.round(C.fat*M*10)/10,fiber:Math.round(C.fiber*M*10)/10,sugar:Math.round(C.sugar*M*10)/10,sodium:Math.round(C.sodium*M*10)/10,iron:Math.round((C.iron||0)*M*10)/10,calcium:Math.round((C.calcium||0)*M*10)/10,zinc:Math.round((C.zinc||0)*M*10)/10,magnesium:Math.round((C.magnesium||0)*M*10)/10,vitaminC:Math.round((C.vitaminC||0)*M*10)/10,vitaminD:Math.round((C.vitaminD||0)*M*10)/10,vitaminB12:Math.round((C.vitaminB12||0)*M*10)/10,folate:Math.round((C.folate||0)*M*10)/10}}return C}),A=_.reduce((C,I)=>({calories:C.calories+I.calories,protein:C.protein+I.protein,carbs:C.carbs+I.carbs,fat:C.fat+I.fat,fiber:C.fiber+I.fiber,sugar:C.sugar+I.sugar,sodium:C.sodium+I.sodium,iron:C.iron+(I.iron||0),calcium:C.calcium+(I.calcium||0),zinc:C.zinc+(I.zinc||0),magnesium:C.magnesium+(I.magnesium||0),vitaminC:C.vitaminC+(I.vitaminC||0),vitaminD:C.vitaminD+(I.vitaminD||0),vitaminB12:C.vitaminB12+(I.vitaminB12||0),folate:C.folate+(I.folate||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0,sugar:0,sodium:0,iron:0,calcium:0,zinc:0,magnesium:0,vitaminC:0,vitaminD:0,vitaminB12:0,folate:0});e({...t,identifiedFoods:_,totalNutrition:A})};return a.jsx("div",{className:"min-h-screen",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 p-6","data-testid":"page-ai-food-analyzer",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(os,{className:"h-6 w-6 text-blue-500"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"AI Food Analyzer"})]}),a.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Take a photo of your food and let AI identify ingredients and calculate nutrition information using the USDA database"})]}),!r&&a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200/40",children:[a.jsx(yr,{children:a.jsxs(vr,{className:"flex items-center gap-2 text-gray-900",children:[a.jsx(sn,{className:"h-5 w-5 text-gray-900"}),"Upload Food Photo"]})}),a.jsx(gt,{children:a.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[a.jsx("div",{className:"w-full max-w-sm",children:a.jsx(S3,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:v,onComplete:b,buttonClassName:"w-full h-16 text-lg bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white border-2 border-amber-400 shadow-lg rounded-xl transition-all duration-200 transform hover:scale-105",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(sn,{className:"h-6 w-6"}),a.jsx("span",{className:"font-semibold",children:"Take or Choose Photo"})]})})}),a.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border-2 border-dashed border-amber-300 rounded-lg p-4 w-full max-w-sm",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3 text-gray-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-amber-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-lg",children:""})}),a.jsx("span",{className:"text-sm font-medium",children:"Select from Photo Library"})]}),a.jsx("p",{className:"text-center text-sm text-gray-600",children:"Best results with good lighting and clear food visibility"})]})}),a.jsxs(Iu,{className:"bg-amber-100/50 border-amber-300 text-gray-900",children:[a.jsx(Ug,{className:"h-4 w-4 text-gray-900"}),a.jsx(Du,{className:"text-gray-900",children:"For best results, ensure good lighting and that all food items are clearly visible in the photo."})]})]})})]}),r&&w.isPending&&a.jsx(ie,{children:a.jsx(gt,{className:"p-8",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(hw,{className:"h-8 w-8 animate-spin text-blue-500"}),a.jsx("h3",{className:"text-lg font-medium",children:"Analyzing Your Food..."}),a.jsx("p",{className:"text-gray-700 text-center",children:"AI is identifying ingredients and calculating nutrition information"})]})})}),r&&w.isError&&a.jsx(ie,{children:a.jsx(gt,{className:"p-8",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"text-red-500",children:a.jsx(pw,{className:"h-8 w-8"})}),a.jsx("h3",{className:"text-lg font-medium text-red-600",children:"Analysis Failed"}),a.jsx("p",{className:"text-gray-700 text-center max-w-md",children:(g=w.error)!=null&&g.message.includes("quota")?"OpenAI quota exceeded. Please try again later or contact support for a new API key.":"Unable to analyze the image. Please try uploading a clearer photo with better lighting."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{onClick:()=>{n(""),w.reset()},variant:"outline",children:"Try Another Photo"}),((x=w.error)==null?void 0:x.message.includes("quota"))&&a.jsx(Q,{onClick:()=>w.mutate(r),variant:"default",children:"Retry Analysis"})]})]})})}),t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ie,{children:[a.jsx(yr,{children:a.jsxs(vr,{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"h-5 w-5"}),"Meal Analysis Summary"]})}),a.jsxs(gt,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4 sm:gap-6 mb-6",children:[a.jsxs("div",{className:"text-center bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-4 border border-orange-200",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-700",children:Math.round(t.totalNutrition.calories||0)}),a.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Calories"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[Math.round((t.totalNutrition.protein||0)*10)/10,"g"]}),a.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Protein"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-700",children:[Math.round((t.totalNutrition.carbs||0)*10)/10,"g"]}),a.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Carbs"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[a.jsxs("div",{className:"text-2xl font-bold text-purple-700",children:[Math.round((t.totalNutrition.fat||0)*10)/10,"g"]}),a.jsx("div",{className:"text-sm font-medium text-gray-800",children:"Fat"})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200/60 rounded-xl p-4 text-center shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-sm",children:a.jsx("span",{className:"text-white text-sm font-bold",children:""})}),a.jsx("span",{className:"font-semibold text-green-800",children:"Automatically Added to Daily Log"})]}),a.jsx("p",{className:"text-sm text-green-700 font-medium",children:"This meal has been logged and will appear in your weekly summary"})]})]})]}),a.jsxs(ie,{className:"bg-gradient-to-br from-white to-amber-50/30 border-amber-200/40",children:[a.jsx(yr,{children:a.jsxs(vr,{className:"flex items-center gap-2 text-gray-900",children:[a.jsx(Ti,{className:"h-5 w-5 text-amber-600"}),"Identified Foods (",t.identifiedFoods.length," items)"]})}),a.jsx(gt,{children:a.jsx("div",{className:"space-y-4",children:t.identifiedFoods.map((k,j)=>a.jsxs("div",{className:"bg-white border border-amber-200 rounded-xl p-4 space-y-4 shadow-sm","data-testid":`food-item-${j}`,children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsx("h4",{className:"font-semibold text-lg text-gray-900",children:k.name}),a.jsxs(Le,{variant:"secondary",className:"bg-amber-100 text-amber-800 font-medium","data-testid":`confidence-${j}`,children:[Math.round((k.confidence||0)*100),"% confidence"]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-amber-50/50 rounded-lg p-3",children:[a.jsx(Ai,{htmlFor:`portion-${j}`,className:"text-sm font-medium text-gray-800 whitespace-nowrap",children:"Portion Size (grams):"}),a.jsx(Ue,{id:`portion-${j}`,type:"number",min:"1",max:"1000",defaultValue:k.adjustedPortion||100,onChange:_=>y(j,parseInt(_.target.value)||100),className:"w-20 border-amber-200 focus:border-amber-400 focus:ring-amber-200","data-testid":`input-portion-${j}`})]}),a.jsx(Bm,{className:"bg-amber-200/60"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3",children:[a.jsxs("div",{className:"text-center bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-3 border border-orange-200",children:[a.jsx("div",{className:"font-bold text-orange-700",children:Math.round(k.calories||0)}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"calories"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"font-bold text-blue-700",children:[Math.round((k.protein||0)*10)/10,"g"]}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"protein"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-3 border border-green-200",children:[a.jsxs("div",{className:"font-bold text-green-700",children:[Math.round((k.carbs||0)*10)/10,"g"]}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"carbs"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-3 border border-purple-200",children:[a.jsxs("div",{className:"font-bold text-purple-700",children:[Math.round((k.fat||0)*10)/10,"g"]}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"fat"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg p-3 border border-amber-200",children:[a.jsxs("div",{className:"font-bold text-amber-700",children:[Math.round((k.fiber||0)*10)/10,"g"]}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"fiber"})]}),a.jsxs("div",{className:"text-center bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-3 border border-red-200",children:[a.jsxs("div",{className:"font-bold text-red-700",children:[Math.round(k.sodium||0),"mg"]}),a.jsx("div",{className:"text-xs text-gray-700 font-medium",children:"sodium"})]})]})]},j))})})]}),a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200/40",children:a.jsx(gt,{className:"p-4",children:a.jsxs(Q,{variant:"outline",className:"w-full border-amber-300 text-gray-900 hover:bg-amber-100 hover:border-amber-400",onClick:()=>{e(null),n("")},"data-testid":"button-analyze-another",children:[a.jsx(sn,{className:"h-4 w-4 mr-2"}),"Analyze Another Food Photo"]})})})]}),o.length>0&&a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 border-amber-200/40",children:[a.jsx(yr,{children:a.jsxs(vr,{className:"flex items-center gap-2 text-gray-900",children:[a.jsx(Ug,{className:"h-5 w-5 text-blue-500"}),"Recent Analyzed Photos (",o.length," this week)"]})}),a.jsx(gt,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((k,j)=>a.jsxs("div",{className:"bg-amber-50/80 border border-amber-200 rounded-lg p-4 space-y-3","data-testid":`analyzed-photo-${j}`,children:[a.jsxs("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 relative",children:[k.imageUrl?a.jsx(_3,{imageUrl:k.imageUrl,alt:"Analyzed food photo",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-500 text-sm",children:" Photo no longer available"}),a.jsx(Q,{variant:"destructive",size:"sm",className:"absolute top-2 right-2 h-8 w-8 p-0 bg-red-500/80 hover:bg-red-600/90 shadow-lg",onClick:()=>f(j),"data-testid":`button-delete-analysis-${j}`,title:"Delete this analysis",children:a.jsx(ca,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[k.identifiedFoods.length," item",k.identifiedFoods.length!==1?"s":""]}),a.jsx("span",{className:"text-xs text-gray-600",children:new Date(k.analysisTime).toLocaleDateString()})]}),a.jsxs("div",{className:"text-sm text-gray-800",children:[k.identifiedFoods.slice(0,2).map(_=>_.name).join(", "),k.identifiedFoods.length>2&&` +${k.identifiedFoods.length-2} more`]}),a.jsxs("div",{className:"flex justify-between text-xs bg-amber-100/50 rounded px-2 py-1",children:[a.jsxs("span",{className:"font-medium text-orange-600",children:[Math.round(k.totalNutrition.calories)," cal"]}),a.jsxs("span",{className:"text-gray-700",children:["P: ",Math.round(k.totalNutrition.protein),"g"]}),a.jsxs("span",{className:"text-gray-700",children:["C: ",Math.round(k.totalNutrition.carbs),"g"]}),a.jsxs("span",{className:"text-gray-700",children:["F: ",Math.round(k.totalNutrition.fat),"g"]})]})]})]},`${k.analysisTime}-${j}`))})})]})]})})}function T3(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function P3(t){const[e,r]=m.useState(void 0);return xs(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Ou="Switch",[A3,ST]=Cs(Ou),[R3,I3]=A3(Ou),$b=m.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...d}=t,[f,p]=m.useState(null),w=nt(e,x=>p(x)),v=m.useRef(!1),b=f?h||!!f.closest("form"):!0,[y,g]=pa({prop:s,defaultProp:i??!1,onChange:u,caller:Ou});return a.jsxs(R3,{scope:r,checked:y,disabled:l,children:[a.jsx(Pe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":Wb(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:w,onClick:Ae(t.onClick,x=>{g(k=>!k),b&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),b&&a.jsx(Bb,{control:f,bubbles:!v.current,name:n,value:c,checked:y,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});$b.displayName=Ou;var zb="SwitchThumb",Ub=m.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=I3(zb,r);return a.jsx(Pe.span,{"data-state":Wb(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});Ub.displayName=zb;var D3="SwitchBubbleInput",Bb=m.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},i)=>{const o=m.useRef(null),l=nt(o,i),c=T3(r),u=P3(e);return m.useEffect(()=>{const h=o.current;if(!h)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&p){const w=new Event("click",{bubbles:n});p.call(h,r),h.dispatchEvent(w)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Bb.displayName=D3;function Wb(t){return t?"checked":"unchecked"}var Hb=$b,O3=Ub;const Vb=m.forwardRef(({className:t,...e},r)=>a.jsx(Hb,{className:Ce("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(O3,{className:Ce("pointer-events-none block h-4 w-4 rounded-full bg-background ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Vb.displayName=Hb.displayName;/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ri;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ri||(Ri={}));class Wd extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const M3=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},L3=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},s=()=>e!==null?e.name:M3(t),i=()=>s()!=="web",o=d=>{const f=u.get(d);return!!(f!=null&&f.platforms.has(s())||l(d))},l=d=>{var f;return(f=r.PluginHeaders)===null||f===void 0?void 0:f.find(p=>p.name===d)},c=d=>t.console.error(d),u=new Map,h=(d,f={})=>{const p=u.get(d);if(p)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),p.proxy;const w=s(),v=l(d);let b;const y=async()=>(!b&&w in f?b=typeof f[w]=="function"?b=await f[w]():b=f[w]:e!==null&&!b&&"web"in f&&(b=typeof f.web=="function"?b=await f.web():b=f.web),b),g=(C,I)=>{var M,G;if(v){const T=v==null?void 0:v.methods.find(K=>I===K.name);if(T)return T.rtype==="promise"?K=>r.nativePromise(d,I.toString(),K):(K,D)=>r.nativeCallback(d,I.toString(),K,D);if(C)return(M=C[I])===null||M===void 0?void 0:M.bind(C)}else{if(C)return(G=C[I])===null||G===void 0?void 0:G.bind(C);throw new Wd(`"${d}" plugin is not implemented on ${w}`,Ri.Unimplemented)}},x=C=>{let I;const M=(...G)=>{const T=y().then(K=>{const D=g(K,C);if(D){const $=D(...G);return I=$==null?void 0:$.remove,$}else throw new Wd(`"${d}.${C}()" is not implemented on ${w}`,Ri.Unimplemented)});return C==="addListener"&&(T.remove=async()=>I()),T};return M.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:C,writable:!1,configurable:!1}),M},k=x("addListener"),j=x("removeListener"),_=(C,I)=>{const M=k({eventName:C},I),G=async()=>{const K=await M;j({eventName:C,callbackId:K},I)},T=new Promise(K=>M.then(()=>K({remove:G})));return T.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await G()},T},A=new Proxy({},{get(C,I){switch(I){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?_:k;case"removeListener":return j;default:return x(I)}}});return n[d]=A,u.set(d,{name:d,proxy:A,platforms:new Set([...Object.keys(f),...v?[w]:[]])}),A};return r.convertFileSrc||(r.convertFileSrc=d=>d),r.getPlatform=s,r.handleError=c,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=h,r.Exception=Wd,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},F3=t=>t.Capacitor=L3(t),da=F3(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Gb=da.registerPlugin;class qb{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const s=this.listeners[e];if(!s){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new da.Exception(e,Ri.Unimplemented)}unavailable(e="not available"){return new da.Exception(e,Ri.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const s=n.indexOf(r);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const h0=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),f0=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $3 extends qb{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=f0(s).trim(),i=f0(i).trim(),r[s]=i}),r}async setCookie(e){try{const r=h0(e.key),n=h0(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Gb("CapacitorCookies",{web:()=>new $3});const z3=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(t)}),U3=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},B3=(t,e=!0)=>t?Object.entries(t).reduce((n,s)=>{const[i,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=e?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(o):o,c=`${i}=${l}`),`${n}&${c}`},"").substr(1):null,W3=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),s=U3(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))i.set(o,l);r.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class H3 extends qb{async request(e){const r=W3(e,e.webFetchExtra),n=B3(e.params,e.shouldEncodeUrlParams),s=n?`${e.url}?${n}`:e.url,i=await fetch(s,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await z3(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const h={};return i.headers.forEach((d,f)=>{h[f]=d}),{data:c,headers:h,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Gb("CapacitorHttp",{web:()=>new H3});class V3{constructor(){this.isAvailable=!1,this.isAuthorized=!1,this.checkAvailability()}async checkAvailability(){if(!da.isNativePlatform()||da.getPlatform()!=="ios"){this.isAvailable=!1;return}try{this.isAvailable=!0}catch(e){console.warn("HealthKit availability check failed:",e),this.isAvailable=!1}}async requestPermissions(){if(!this.isAvailable)return!1;try{return console.log("HealthKit permissions would be requested here in the native iOS app"),this.isAuthorized=!0,!0}catch(e){return console.error("HealthKit permission request failed:",e),this.isAuthorized=!1,!1}}async syncWaterIntake(e,r){if(!this.isAvailable||!this.isAuthorized)return!1;try{const n=e*240,s=r||new Date,i={type:"dietaryWater",value:n,unit:"ml",date:s.toISOString(),glasses:e},o=JSON.parse(localStorage.getItem("pendingHealthKitSync")||"[]");return o.push(i),localStorage.setItem("pendingHealthKitSync",JSON.stringify(o)),console.log(" Water intake prepared for Apple Health sync:",{glasses:e,milliliters:n,date:s}),!0}catch(n){return console.error(" Failed to prepare water intake for Apple Health sync:",n),!1}}async syncNutritionData(e,r){if(!this.isAvailable||!this.isAuthorized)return!1;try{const n=r||new Date,s=[],i=JSON.parse(localStorage.getItem("pendingHealthKitSync")||"[]");return e.calories!==void 0&&i.push({type:"dietaryEnergyConsumed",value:e.calories,unit:"kcal",date:n.toISOString()}),e.protein!==void 0&&i.push({type:"dietaryProtein",value:e.protein,unit:"g",date:n.toISOString()}),e.carbohydrates!==void 0&&i.push({type:"dietaryCarbohydrates",value:e.carbohydrates,unit:"g",date:n.toISOString()}),e.fat!==void 0&&i.push({type:"dietaryFatTotal",value:e.fat,unit:"g",date:n.toISOString()}),localStorage.setItem("pendingHealthKitSync",JSON.stringify(i)),console.log(" Nutrition data synced to Apple Health:",e),!0}catch(n){return console.error(" Failed to sync nutrition data to Apple Health:",n),!1}}async readWaterIntake(e){if(!this.isAvailable||!this.isAuthorized)return null;try{const r=e||new Date;return new Date(r).setHours(0,0,0,0),new Date(r).setHours(23,59,59,999),console.log("HealthKit data reading would be implemented in the native iOS app"),null}catch(r){return console.error(" Failed to read water intake from Apple Health:",r),null}}async readNutritionData(e){if(!this.isAvailable||!this.isAuthorized)return null;try{const r=e||new Date;return new Date(r).setHours(0,0,0,0),new Date(r).setHours(23,59,59,999),console.log("HealthKit nutrition data reading would be implemented in the native iOS app"),null}catch(r){return console.error(" Failed to read nutrition data from Apple Health:",r),null}}getAvailability(){return this.isAvailable}getAuthorizationStatus(){return this.isAuthorized}async disconnect(){this.isAuthorized=!1,localStorage.removeItem("pendingHealthKitSync"),console.log("Apple Health disconnected")}}const Us=new V3;function G3({onHealthDataSync:t}){const[e,r]=m.useState(!1),[n,s]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(!1);m.useEffect(()=>{u(),h()},[]);const u=async()=>{const v=Us.getAvailability(),b=Us.getAuthorizationStatus();r(v),s(b)},h=()=>{const v=localStorage.getItem("appleHealthAutoSync")==="true";c(v)},d=async()=>{o(!0);try{await Us.requestPermissions()?(s(!0),Qr({title:"Apple Health Connected! ",description:"Your nutrition data will now sync with Apple Health.",variant:"default",duration:3e3})):Qr({title:"Connection Failed",description:"Unable to connect to Apple Health. Please try again.",variant:"destructive",duration:3e3})}catch(v){console.error("Apple Health connection error:",v),Qr({title:"Connection Error",description:"An error occurred while connecting to Apple Health.",variant:"destructive",duration:3e3})}finally{o(!1)}},f=async()=>{try{await Us.disconnect(),s(!1),c(!1),localStorage.removeItem("appleHealthAutoSync"),Qr({title:"Apple Health Disconnected",description:"You can revoke permissions in iOS Settings > Privacy & Security > Health.",variant:"default",duration:4e3})}catch(v){console.error("Apple Health disconnection error:",v)}},p=v=>{c(v),localStorage.setItem("appleHealthAutoSync",v.toString()),Qr({title:v?"Auto-sync Enabled":"Auto-sync Disabled",description:v?"Your nutrition data will automatically sync to Apple Health.":"You'll need to manually sync your data.",variant:"default",duration:2e3})},w=async()=>{if(n){o(!0);try{t&&t({type:"manual_sync"}),Qr({title:"Sync Complete",description:"Your nutrition data has been synced to Apple Health.",variant:"default",duration:2e3})}catch(v){console.error("Manual sync error:",v),Qr({title:"Sync Failed",description:"Unable to sync data to Apple Health.",variant:"destructive",duration:3e3})}finally{o(!1)}}};return e?a.jsxs(ie,{className:"w-full",children:[a.jsxs(yr,{children:[a.jsxs(vr,{className:"flex items-center gap-2",children:[a.jsx(dw,{className:"h-5 w-5 text-red-500"}),"Apple Health Integration",n&&a.jsxs(Le,{variant:"secondary",className:"bg-green-100 text-green-800",children:[a.jsx(ws,{className:"h-3 w-3 mr-1"}),"Connected"]})]}),a.jsx(ii,{children:"Sync your nutrition and hydration data with Apple Health for a complete wellness picture."})]}),a.jsx(gt,{className:"space-y-4",children:n?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Ai,{htmlFor:"auto-sync",children:"Automatic Sync"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Automatically sync data when you log meals or water"})]}),a.jsx(Vb,{id:"auto-sync",checked:l,onCheckedChange:p})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{variant:"outline",onClick:w,disabled:i,className:"flex-1",children:i?"Syncing...":"Sync Now"}),a.jsxs(Q,{variant:"outline",onClick:f,className:"flex-1",children:[a.jsx(q_,{className:"h-4 w-4 mr-2"}),"Disconnect"]})]}),a.jsxs("div",{className:"text-xs text-gray-500 bg-gradient-to-br from-amber-50 to-amber-100 p-3 rounded-lg",children:[a.jsx("strong",{children:"Privacy:"})," Your health data is synced directly with Apple Health and never stored on our servers. You can manage permissions in iOS Settings  Privacy & Security  Health  ByteWise Nutritionist."]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("p",{className:"mb-2",children:"Connecting will allow ByteWise to:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[a.jsx("li",{children:"Read and write water intake data"}),a.jsx("li",{children:"Read and write calorie consumption"}),a.jsx("li",{children:"Read and write macronutrient data (protein, carbs, fat)"}),a.jsx("li",{children:"Keep your health data in sync across apps"})]})]}),a.jsx(Q,{onClick:d,disabled:i,className:"w-full",children:i?"Connecting...":"Connect to Apple Health"})]})})]}):a.jsxs(ie,{className:"w-full",children:[a.jsxs(yr,{children:[a.jsxs(vr,{className:"flex items-center gap-2",children:[a.jsx(K_,{className:"h-5 w-5 text-gray-400"}),"Apple Health Integration"]}),a.jsx(ii,{children:"Apple Health integration is only available on iOS devices."})]}),a.jsx(gt,{children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx(an,{className:"h-4 w-4"}),a.jsx("span",{children:"Use the iOS app to access Apple Health features"})]})})]})}let fn,Hd;class q3{constructor(){this.isInitialized=!1,this.currentOfferings=[]}async initialize(e){if(this.isInitialized){console.log(" RevenueCat already initialized");return}try{if(!da.isNativePlatform()){console.log(" Running in web mode - subscription features limited");return}if(!fn||!Hd){const n=await Ss(()=>import("./index-ChnUqfFc.js"),[]);fn=n.Purchases,Hd=n.LOG_LEVEL}const r=void 0;if(!r){console.warn(" RevenueCat API key not found in environment variables");return}await fn.setLogLevel({level:Hd.DEBUG}),await fn.configure({apiKey:r,appUserID:e||void 0}),console.log(" RevenueCat initialized successfully"),this.isInitialized=!0,await this.loadOfferings()}catch(r){throw console.error(" Failed to initialize RevenueCat:",r),r}}async loadOfferings(){try{if(!this.isInitialized)return console.warn(" RevenueCat not initialized"),[];const e=await fn.getOfferings();this.currentOfferings=e.all?Object.values(e.all):[];const r=[];for(const n of this.currentOfferings)if(n.availablePackages)for(const s of n.availablePackages)r.push({id:s.identifier,productId:s.identifier,displayName:s.packageType||s.identifier,description:`${this.getDurationFromProductId(s.identifier)} subscription`,priceString:s.identifier,duration:this.getDurationFromProductId(s.identifier)});return console.log(" Loaded subscription offerings:",r),r}catch(e){return console.error(" Failed to load offerings:",e),[]}}async getSubscriptionStatus(){try{if(!da.isNativePlatform()){try{const r=await fetch("/api/subscription/status",{credentials:"include"});if(r.ok){const n=await r.json();return{isActive:n.isActive,tier:n.tier,willRenew:n.willRenew||!1,isInGracePeriod:!1,expiresAt:n.expiresAt?new Date(n.expiresAt):void 0,productId:n.productId}}}catch(r){console.warn(" Failed to fetch subscription status from web API:",r)}return{isActive:!1,tier:"free",willRenew:!1,isInGracePeriod:!1}}if(!this.isInitialized)return{isActive:!1,tier:"free",willRenew:!1,isInGracePeriod:!1};const e=await fn.getCustomerInfo();return this.parseCustomerInfo(e.customerInfo)}catch(e){return console.error(" Failed to get subscription status:",e),{isActive:!1,tier:"free",willRenew:!1,isInGracePeriod:!1}}}async purchaseSubscription(e){try{if(!this.isInitialized)throw new Error("RevenueCat not initialized");let r;for(const s of this.currentOfferings)if(s.availablePackages&&(r=s.availablePackages.find(i=>i.identifier===e),r))break;if(!r)throw new Error(`Product ${e} not found in available packages`);console.log(" Purchasing subscription:",e);const n=await fn.purchasePackage({aPackage:r});return console.log(" Purchase successful:",n),!0}catch(r){throw console.error(" Purchase failed:",r),r}}async restorePurchases(){try{if(!this.isInitialized)throw new Error("RevenueCat not initialized");console.log(" Restoring purchases...");const e=await fn.restorePurchases(),r=this.parseCustomerInfo(e.customerInfo);return console.log(" Purchases restored:",r),r}catch(e){throw console.error(" Failed to restore purchases:",e),e}}async logout(){try{this.isInitialized&&(await fn.logOut(),console.log(" RevenueCat user logged out"))}catch(e){console.error(" Failed to logout from RevenueCat:",e)}}async hasEntitlement(e){try{const r=await this.getSubscriptionStatus();return r.isActive&&(r.tier==="premium"||r.tier==="pro")}catch(r){return console.error(" Failed to check entitlement:",r),!1}}async hasPremiumFeatures(){return this.hasEntitlement("premium")}async hasProFeatures(){return this.hasEntitlement("pro")}parseCustomerInfo(e){const r=e.entitlements;let n="free",s=!1,i,o,l=!1,c=!1;if(r&&r.active){if(r.active.pro){n="pro",s=!0;const u=r.active.pro;i=u.productIdentifier,o=u.expirationDate?new Date(u.expirationDate):void 0,l=u.willRenew||!1,c=u.isActive&&u.periodType==="grace"}else if(r.active.premium){n="premium",s=!0;const u=r.active.premium;i=u.productIdentifier,o=u.expirationDate?new Date(u.expirationDate):void 0,l=u.willRenew||!1,c=u.isActive&&u.periodType==="grace"}}return{isActive:s,tier:n,productId:i,expiresAt:o,willRenew:l,isInGracePeriod:c}}getDurationFromProductId(e){return e.includes("monthly")||e.includes("month")?"Monthly":e.includes("yearly")||e.includes("year")||e.includes("annual")?"Annual":e.includes("weekly")||e.includes("week")?"Weekly":"Unknown"}}const Ma=new q3;function K3(){const{user:t}=_t(),[e,r]=m.useState({isActive:!1,tier:"free",willRenew:!1,isInGracePeriod:!1}),[n,s]=m.useState([]),[i,o]=m.useState(!0),[l,c]=m.useState(null);m.useEffect(()=>{t&&u()},[t]);const u=m.useCallback(async()=>{try{o(!0),c(null),await Ma.initialize(t==null?void 0:t.id);const[b,y]=await Promise.all([Ma.getSubscriptionStatus(),Ma.loadOfferings()]);r(b),s(y),console.log(" Subscription initialized:",{status:b,offerings:y})}catch(b){console.error(" Failed to initialize subscription:",b),c(b instanceof Error?b.message:"Failed to initialize subscription")}finally{o(!1)}},[t]),h=m.useCallback(async()=>{try{const b=await Ma.getSubscriptionStatus();return r(b),b}catch(b){return console.error(" Failed to refresh subscription status:",b),c(b instanceof Error?b.message:"Failed to refresh subscription"),e}},[e]),d=m.useCallback(async b=>{try{return c(null),await Ma.purchaseSubscription(b)?(await h(),!0):!1}catch(y){return console.error(" Purchase failed:",y),c(y instanceof Error?y.message:"Purchase failed"),!1}},[h]),f=m.useCallback(async()=>{try{c(null);const b=await Ma.restorePurchases();return r(b),b}catch(b){return console.error(" Restore failed:",b),c(b instanceof Error?b.message:"Failed to restore purchases"),e}},[e]),p=e.isActive&&(e.tier==="premium"||e.tier==="pro"),w=e.isActive&&e.tier==="pro",v=!e.isActive||e.tier==="free";return{subscriptionStatus:e,isPremium:p,isPro:w,isFree:v,isLoading:i,error:l,offerings:n,refreshSubscriptionStatus:h,purchaseSubscription:d,restorePurchases:f,initializeSubscription:u,hasFeature:b=>b==="premium"?p:b==="pro"?w:!1}}const Q3="/BWN_Logo.png";function Y3({onNavigate:t}){const{user:e,isLoading:r,refetch:n}=_t();K3();const[s,i]=m.useState("home"),[o,l]=m.useState("home"),[c,u]=m.useState(void 0),[h,d]=m.useState(0),[f,p]=m.useState(!1),{backgroundImage:w,isLoading:v,imageLoaded:b}=f3(s,h),{data:y=[],isLoading:g}=w4(),[x,k]=m.useState(""),[j,_]=m.useState(!1),[A,C]=m.useState(null),[I,M]=m.useState(!1),[G,T]=m.useState(null),[K,D]=m.useState(0),[$,F]=m.useState(0),[P,O]=m.useState((e==null?void 0:e.dailyCalorieGoal)||2e3),[U,B]=m.useState(14e3),[W,R]=m.useState([]),[z,Y]=m.useState([]),[q,fe]=m.useState(!1),[ke,me]=m.useState("daily"),[st,se]=m.useState("ai"),[De,qe]=m.useState([]),[ne,Sr]=m.useState(()=>{const S=localStorage.getItem("tour-progress");return S?JSON.parse(S):{clickedCards:[],suggestedNext:0}}),{toast:Nr}=Yt(),[ue,Jt]=m.useState(null),[sl,Ft]=m.useState(null),[al,il]=m.useState(!1),{shouldShowTour:at,dismissTour:Dn}=p3(),[Mu,Bi]=m.useState(()=>at()),[Xt,ba]=m.useState({vitaminC:0,vitaminD:0,vitaminB12:0,folate:0,iron:0,calcium:0,zinc:0,magnesium:0}),Wi=m.useCallback(async S=>{if(!e){const L=JSON.parse(localStorage.getItem("dailyStats")||"{}"),V=(L.waterGlasses||0)+S,Z=Math.max(0,Math.min(8,V)),J={...L,waterGlasses:Z};localStorage.setItem("dailyStats",JSON.stringify(J)),Jt(re=>re?{...re,waterGlasses:Z}:{totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,waterGlasses:Z,fastingStatus:void 0}),Z>=8&&(L.waterGlasses||0)<8&&(Nr({title:"Hydration Goal Achieved! ",description:"You've reached your daily water intake goal!",variant:"default",duration:3e3}),$e("success","Daily Hydration Goal! ","You've reached your 8-glass water goal today!")),Z===4&&(L.waterGlasses||0)<4&&$e("info","Halfway There! ","You've had 4 glasses of water today. Keep going!"),dn().catch(console.error);return}try{const L=((ue==null?void 0:ue.waterGlasses)||0)+S,V=Math.max(0,Math.min(8,L));Jt(J=>J?{...J,waterGlasses:V}:null);const Z=await je("POST","/api/daily-stats",{waterGlasses:V,date:new Date().toISOString()});if(!Z.ok){const J=await Z.text();throw new Error(`Failed to update water consumption: ${Z.status} - ${J}`)}await Z.json(),await Cr(),V>=8&&((ue==null?void 0:ue.waterGlasses)||0)<8&&(Nr({title:"Hydration Goal Achieved! ",description:"You've reached your daily water intake goal!",variant:"default",duration:3e3}),$e("success","Daily Hydration Goal! ","You've reached your 8-glass water goal today!")),V===4&&((ue==null?void 0:ue.waterGlasses)||0)<4&&$e("info","Halfway There! ","You've had 4 glasses of water today. Keep going!"),dn().catch(console.error)}catch{Jt(V=>V?{...V,waterGlasses:(ue==null?void 0:ue.waterGlasses)||0}:null),Nr({title:"Error",description:"Failed to update water consumption",variant:"destructive"})}},[e,ue==null?void 0:ue.waterGlasses,Nr]),_s=m.useCallback(async S=>{if(S.type==="manual_sync")try{ue!=null&&ue.waterGlasses&&await Us.syncWaterIntake(ue.waterGlasses),ue&&await Us.syncNutritionData({calories:ue.totalCalories,protein:ue.totalProtein,carbohydrates:ue.totalCarbs,fat:ue.totalFat})}catch(L){console.error(" Health data sync failed:",L)}},[ue]),dn=m.useCallback(async()=>{localStorage.getItem("appleHealthAutoSync")==="true"&&Us.getAuthorizationStatus()&&await _s({type:"auto_sync"})},[_s]),Es=m.useCallback(S=>{const L=S.reduce((Z,J)=>{const re={vitaminC:parseFloat(J.vitaminC||J.vitamin_c)||0,vitaminD:parseFloat(J.vitaminD||J.vitamin_d)||0,vitaminB12:parseFloat(J.vitaminB12||J.vitamin_b12)||0,folate:parseFloat(J.folate)||0,iron:parseFloat(J.iron)||0,calcium:parseFloat(J.calcium)||0,zinc:parseFloat(J.zinc)||0,magnesium:parseFloat(J.magnesium)||0};return{vitaminC:Z.vitaminC+re.vitaminC,vitaminD:Z.vitaminD+re.vitaminD,vitaminB12:Z.vitaminB12+re.vitaminB12,folate:Z.folate+re.folate,iron:Z.iron+re.iron,calcium:Z.calcium+re.calcium,zinc:Z.zinc+re.zinc,magnesium:Z.magnesium+re.magnesium}},{vitaminC:0,vitaminD:0,vitaminB12:0,folate:0,iron:0,calcium:0,zinc:0,magnesium:0});if(Object.values(L).some(Z=>Z>0))return{vitaminC:Math.round(L.vitaminC*10)/10,vitaminD:Math.round(L.vitaminD*10)/10,vitaminB12:Math.round(L.vitaminB12*10)/10,folate:Math.round(L.folate),iron:Math.round(L.iron*10)/10,calcium:Math.round(L.calcium),zinc:Math.round(L.zinc*10)/10,magnesium:Math.round(L.magnesium)};{const J=S.reduce((re,_e)=>re+(_e.calories||0),0)/100;return{vitaminC:Math.round(J*8),vitaminD:Math.round(J*.2),vitaminB12:Math.round(J*.3*10)/10,folate:Math.round(J*12),iron:Math.round(J*1.8*10)/10,calcium:Math.round(J*25),zinc:Math.round(J*1.1*10)/10,magnesium:Math.round(J*15)}}},[]);m.useEffect(()=>{if(e&&!r){const S=e,L=(S==null?void 0:S.firstName)&&S.firstName.trim()!=="",V=(S==null?void 0:S.lastName)&&S.lastName.trim()!=="";(!L||!V)&&il(!0)}},[e,r]);const On=async S=>{try{let L=null;const V=localStorage.getItem("supabase.auth.token");if(V)try{const J=JSON.parse(V);J.access_token&&(L=J.access_token)}catch{}if(!L){const{data:{session:J}}=await dt.auth.getSession();J!=null&&J.access_token&&(L=J.access_token)}if(!L)throw new Error("No authentication token available");if(!(await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({firstName:S.firstName,lastName:S.lastName,profileIcon:S.profileIcon})})).ok)throw new Error("Failed to update profile");il(!1),await n()}catch(L){throw L}},$e=m.useCallback((S,L,V)=>{qe(Z=>[{id:Date.now().toString(),type:S,title:L,message:V,timestamp:new Date,read:!1},...Z])},[]),Cr=m.useCallback(async()=>{if(!e){const S=JSON.parse(localStorage.getItem("dailyStats")||"{}");Jt({totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,waterGlasses:S.waterGlasses||0,fastingStatus:void 0});return}try{const S=await je("GET",`/api/users/${e.id}/daily-stats`);if(!S.ok)throw new Error(`Failed to fetch daily stats: ${S.status}`);const L=await S.json(),V={totalCalories:L.totalCalories||0,totalProtein:L.totalProtein||0,totalCarbs:L.totalCarbs||0,totalFat:L.totalFat||0,waterGlasses:L.waterGlasses||0,fastingStatus:L.fastingStatus};Jt(V),D(V.totalCalories)}catch(S){console.error(" Daily stats fetch error for authenticated user:",S),Jt({totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,waterGlasses:0,fastingStatus:void 0})}},[e]),ka=m.useCallback(()=>{try{const S=localStorage.getItem("bytewise_fasting_session"),L=localStorage.getItem("bytewise_fasting_active");if(S&&L==="true"){const V=JSON.parse(S),Z=new Date(V.startTime).getTime(),J=V.targetDuration,_e=Date.now()-Z,ze=J-_e;if(ze>0){const le=V.planId;let ge="Custom";le==="16-8"?ge="16:8 Method":le==="14-10"?ge="14:10 Method":le==="18-6"?ge="18:6 Method":le==="20-4"?ge="20:4 Warrior":le==="24-0"&&(ge="24 Hour Fast"),Ft({isActive:!0,timeRemaining:ze,planName:ge,startTime:V.startTime,targetDuration:J})}else Ft({isActive:!1}),localStorage.removeItem("bytewise_fasting_session"),localStorage.removeItem("bytewise_fasting_active")}else Ft({isActive:!1})}catch(S){console.error("Error checking fasting status:",S),Ft({isActive:!1})}},[]),ol=()=>{qe(S=>S.map(L=>({...L,read:!0})))},Lu=S=>{qe(L=>L.filter(V=>V.id!==S))},{celebrationAchievement:_r}=d3();m.useEffect(()=>{if(_r){const S={type:"milestone",title:_r.title||"Achievement Unlocked",message:_r.description||_r.title||"Great job!",description:_r.description||_r.title||"You unlocked a new achievement!",confetti:!0,trophy:!0,points:10};C(S),_(!0),$e("achievement",S.title,S.message)}},[_r,$e]),m.useEffect(()=>{const S=L=>{const V=L.detail,Z={type:V.type==="daily-goal"||V.type==="weekly-goal"||V.type==="milestone"||V.type==="special"?V.type:"milestone",title:V.title,message:V.message||V.title,description:V.description||V.message||V.title,confetti:!0,trophy:!0,points:V.points||10};T(Z),M(!0),$e("achievement",Z.title,Z.message)};return window.addEventListener("achievement-unlocked",S),()=>window.removeEventListener("achievement-unlocked",S)},[$e]),m.useEffect(()=>{if(ue&&P>0){const{totalCalories:S}=ue,L=S/P*100;S>=P&&(K<P||K===0)&&$e("success","Daily Calorie Goal! ",`Congratulations! You've reached your ${P} calorie goal today.`),L>=75&&K/P*100<75?$e("info","75% Complete! ",`You're almost there! ${Math.round(P-S)} calories to go.`):L>=50&&K/P*100<50&&$e("info","Halfway There! ","You've hit 50% of your daily calorie goal. Keep it up!"),D(S)}},[ue,P,K,$e]),m.useEffect(()=>{Cr()},[Cr]),m.useEffect(()=>{if(e){const S=(e==null?void 0:e.dailyCalorieGoal)||(e==null?void 0:e.calorie_goal)||2e3;O(S),B(S*7),Cr()}},[e,Cr]),m.useEffect(()=>{const S=L=>{var V;if(e)Cr();else{const J=JSON.parse(localStorage.getItem("dailyStats")||"{}").waterGlasses||((V=L.detail)==null?void 0:V.glasses)||0;Jt(re=>({...re,totalCalories:(re==null?void 0:re.totalCalories)||0,totalProtein:(re==null?void 0:re.totalProtein)||0,totalCarbs:(re==null?void 0:re.totalCarbs)||0,totalFat:(re==null?void 0:re.totalFat)||0,waterGlasses:J,fastingStatus:re==null?void 0:re.fastingStatus}))}};return window.addEventListener("waterUpdated",S),()=>window.removeEventListener("waterUpdated",S)},[e,Cr]),m.useEffect(()=>{const S=W;if(S.length>0){const L=Es(S);ba(L)}else ba({vitaminC:0,vitaminD:0,vitaminB12:0,folate:0,iron:0,calcium:0,zinc:0,magnesium:0})},[s,Es,W]),m.useEffect(()=>{const S=()=>{e&&at()&&localStorage.getItem("fresh-auth-session")==="true"&&(localStorage.removeItem("fresh-auth-session"),Bi(!0))};return window.addEventListener("auth-state-change",S),()=>{window.removeEventListener("auth-state-change",S)}},[e,at]),m.useEffect(()=>{const S=async()=>{try{let le=[];if(e)try{const ce=await je("GET","/api/meals/logged");if(ce.ok){const Se=await ce.json();le=Array.isArray(Se)?Se:[]}else console.error("Failed to load meals from database"),le=[]}catch(ce){console.error("Database error:",ce),le=[]}else le=[];const ge=Ze(),Ee=le.filter(ce=>(ce.date&&ce.date.includes("T")?ce.date.split("T")[0]:ce.date)===ge),Xe=new Date;Xe.setMonth(Xe.getMonth()-1);const cr=Ze(Xe),mt=le.filter(ce=>(ce.date&&ce.date.includes("T")?ce.date.split("T")[0]:ce.date)>=cr);R(Ee),Y(mt);const we=Ee.reduce((ce,Se)=>ce+(Se.calories||Se.totalCalories||0),0);D(we);const Ke=Es(Ee),er={vitaminC:Ke.vitaminC||0,vitaminD:Ke.vitaminD||0,vitaminB12:Ke.vitaminB12||0,folate:Ke.folate||0,iron:Ke.iron||0,calcium:Ke.calcium||0,zinc:Ke.zinc||0,magnesium:Ke.magnesium||0};if(ba(er),e&&Cr(),ka(),e)try{const ce=await je("GET","/api/meals/logged");if(ce.ok){const Se=await ce.json(),Tr=$a().map(bt=>Ze(bt)),We=Se.filter(bt=>{if(!bt.date)return!1;const ul=bt.date.includes("T")?bt.date.split("T")[0]:bt.date;return Tr.includes(ul)}).reduce((bt,ul)=>{const Qb=Number(ul.calories)||Number(ul.totalCalories)||0;return bt+Qb},0);F(We)}else{const $t=$a().map(We=>Ze(We)),tr=le.filter(We=>{if($t.includes(We.date))return!0;if(We.date&&We.date.includes("T")){const bt=We.date.split("T")[0];return $t.includes(bt)}return!1}).reduce((We,bt)=>We+(Number(bt.calories)||0),0);F(tr)}}catch{const $t=$a().map(We=>Ze(We)),tr=le.filter(We=>{if($t.includes(We.date))return!0;if(We.date&&We.date.includes("T")){const bt=We.date.split("T")[0];return $t.includes(bt)}return!1}).reduce((We,bt)=>We+(Number(bt.calories)||0),0);F(tr)}else{const Se=$a().map(tr=>Ze(tr)),Tr=le.filter(tr=>{if(Se.includes(tr.date))return!0;if(tr.date&&tr.date.includes("T")){const We=tr.date.split("T")[0];return Se.includes(We)}return!1}).reduce((tr,We)=>tr+(Number(We.calories)||0),0);F(Tr)}}catch{R([]),D(0),F(0),ba({vitaminC:0,vitaminD:0,vitaminB12:0,folate:0,iron:0,calcium:0,zinc:0,magnesium:0})}};S();const L=()=>{S()};window.addEventListener("reload-meal-data",L);const V=setInterval(()=>{ka()},12e4),Z=le=>{try{if(S(),le!=null&&le.detail){const{foodName:ge,calories:Ee,mealType:Xe,protein:cr}=le.detail;$e("success","Meal Logged! ",`Added ${ge||"food item"} (${Ee||0} cal${cr?`, ${cr}g protein`:""}) to ${Xe||"your meals"}`)}else $e("success","Meal Updated! ","Your nutrition data has been updated")}catch{}},ze=[{type:"calories-logged",handler:Z},{type:"meal-logged-success",handler:Z},{type:"refresh-meals",handler:Z},{type:"navigate-to-tab",handler:le=>{const ge=le,{tab:Ee,nutritionMode:Xe,accordionTarget:cr}=ge.detail;i(Ee),Xe&&(Xe==="ai"||Xe==="calculator")&&se(Xe),cr&&setTimeout(()=>{u(cr)},100)}},{type:"fasting-completed",handler:le=>{const{planName:ge,duration:Ee,message:Xe}=le.detail;$e("success","Fasting Complete! ",Xe)}},{type:"fasting-milestone",handler:le=>{const{hours:ge,title:Ee,message:Xe}=le.detail;ge>=12&&$e("achievement",Ee,Xe)}}];return ze.forEach(({type:le,handler:ge})=>{window.addEventListener(le,ge)}),window.addEventListener("storage",S),()=>{ze.forEach(({type:le,handler:ge})=>{window.removeEventListener(le,ge)}),window.removeEventListener("storage",S),window.removeEventListener("reload-meal-data",L),clearInterval(V)}},[e,Cr,Es,ka]),Sm();const it=S=>{S!==s&&(l(s),i(S),u(void 0),d(L=>L+1),window.scrollTo({top:0,left:0,behavior:"auto"}),document.documentElement.scrollTop=0,document.body.scrollTop=0)},Er=N.memo(({title:S,subtitle:L,description:V,buttonText:Z,onButtonClick:J,showLogo:re=!1})=>{const _e=N.useMemo(()=>({backgroundImage:`url('${w}')`,backgroundSize:"75%",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundColor:"#0f172a",backgroundAttachment:"scroll"}),[w]),ze=N.useMemo(()=>{const le="absolute inset-0 z-10 hero-bg-optimized";return b&&!v?`${le} hero-bg-loaded`:`${le} hero-bg-hidden`},[b,v]);return a.jsxs("div",{className:"relative h-screen overflow-hidden hero-component bg-gradient-to-br from-amber-50 to-amber-100","data-hero":"true",children:[a.jsx("div",{className:ze,style:_e}),a.jsx("div",{className:"hero-gradient-overlay opacity-100",style:{zIndex:11}}),a.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center px-6 z-20 text-white",children:a.jsxs("div",{className:"space-y-8 max-w-2xl",children:[re&&a.jsx("div",{className:"mb-12 -mt-16",children:a.jsx("img",{src:Q3,alt:"ByteWise Nutritionist Logo",className:"h-20 w-auto object-contain mx-auto drop-shadow-2xl","data-testid":"bytewise-hero-logo"})}),a.jsxs("div",{className:"space-y-3 hero-optimized",children:[a.jsx("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-black tracking-tighter leading-[0.85] drop-shadow-2xl font-league-spartan text-optimized animate-slideUpH1",children:S}),a.jsx("h2",{className:`text-6xl md:text-7xl lg:text-8xl font-black tracking-tighter leading-[0.85] font-league-spartan ${re?"text-white":"text-optimized"} drop-shadow-2xl animate-slideUpH2`,children:L})]}),a.jsx("p",{className:"text-2xl md:text-3xl font-light leading-relaxed max-w-xl mx-auto drop-shadow-xl font-work-sans text-gray-100 opacity-100",children:V}),a.jsx("div",{className:"pt-8 opacity-100",children:a.jsx(Q,{onClick:J,size:"lg",className:"group relative bg-gradient-to-r from-orange-400 to-red-400 hover:from-orange-500 hover:to-red-500 font-bold px-16 py-6 rounded-full text-xl md:text-2xl shadow-2xl transition-all duration-200 ease-out overflow-hidden transform hover:scale-105",style:{color:"#ffffff !important"},children:a.jsxs("span",{className:"relative z-10 flex items-center gap-3",style:{color:"#ffffff !important"},children:[Z,a.jsx(zg,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-150"})]})})})]})}),a.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-30 text-white opacity-100",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-px h-8 bg-gradient-to-b from-transparent to-white opacity-70"}),a.jsx(zg,{className:"w-6 h-6 rotate-90 drop-shadow-lg opacity-80"})]})})]})},(S,L)=>S.title===L.title&&S.subtitle===L.subtitle&&S.description===L.description&&S.buttonText===L.buttonText);N.memo(()=>a.jsx("div",{className:"mb-8 cursor-pointer group transition-transform duration-200 hover:scale-105",onClick:()=>it("home"),children:a.jsxs("div",{className:"text-center font-league-spartan",children:[a.jsx("div",{className:"text-8xl font-black leading-none text-sky-300 mb-2 lowercase tracking-tight drop-shadow-2xl group-hover:text-sky-200 transition-colors duration-200",children:"bytewise"}),a.jsx("div",{className:"text-2xl font-light text-white/80 uppercase tracking-widest drop-shadow-lg group-hover:text-white/90 transition-colors duration-200",children:"nutritionist"})]})}));const ll=N.memo(({title:S,icon:L,value:V,goal:Z,percentage:J,color:re})=>{const _e=N.useMemo(()=>Math.min(J,100),[J]),ze=_e>=100;return a.jsxs(ie,{className:"bg-gradient-to-br from-amber-100 to-amber-200 border-none p-5 shadow-lg","data-testid":"progress-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 bg-${re}-500/30 rounded-xl`,children:a.jsx(L,{className:`w-5 h-5 text-${re}-700`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 font-medium",children:S}),a.jsxs("p",{className:"text-gray-900 text-sm font-medium",children:[V,"/",Z]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-2xl font-medium text-${re}-700`,children:[_e,"%"]}),a.jsx("div",{className:"text-xs text-gray-900 font-normal",children:"of goal"})]})]}),a.jsxs("div",{className:"relative h-3 bg-gray-300/60 rounded-full overflow-hidden mb-4 shadow-inner border border-gray-400/20",children:[a.jsx("div",{className:`absolute left-0 top-0 h-full bg-gradient-to-r from-${re}-600 to-${re==="orange"?"red":"cyan"}-700 rounded-full transition-all duration-1000 shadow-sm`,style:{width:`${_e}%`}}),ze&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full animate-pulse shadow-sm"})]})]})}),cl=N.memo(({glasses:S,onIncrement:L,onDecrement:V})=>{const[Z,J]=N.useState([]),[re,_e]=N.useState(!1),[ze,le]=N.useState(!1),ge=8,Ee=Math.min(S/ge*100,100),Xe=S>=ge,cr=N.useCallback(async()=>{if(!re){_e(!0);try{const{supabase:mt}=await Ss(async()=>{const{supabase:ce}=await Promise.resolve().then(()=>xN);return{supabase:ce}},void 0),{data:{session:we}}=await mt.auth.getSession(),Ke={"Content-Type":"application/json"};we!=null&&we.access_token&&we.access_token.split(".").length===3&&(Ke.Authorization=`Bearer ${we.access_token}`);const er=await fetch("/api/water-history?days=30",{headers:Ke});if(er.ok){const Se=(await er.json()).data.map($t=>({date:new Date($t.date).toISOString().split("T")[0],glasses:$t.glasses}));J(Se)}else{const ce=Array.from({length:30},(Se,$t)=>{const Tr=new Date;return Tr.setDate(Tr.getDate()-(29-$t)),{date:Tr.toISOString().split("T")[0],glasses:Math.floor(Math.random()*7)+1}});J(ce)}}catch(mt){console.error("Failed to fetch water history:",mt);const we=Array.from({length:30},(Ke,er)=>{const ce=new Date;return ce.setDate(ce.getDate()-(29-er)),{date:ce.toISOString().split("T")[0],glasses:Math.floor(Math.random()*7)+1}});J(we)}finally{_e(!1)}}},[re]);return m.useEffect(()=>{ze&&Z.length===0&&cr()},[ze,Z.length,cr]),a.jsxs(ie,{className:"bg-gradient-to-br from-amber-100 to-cyan-100 border-none p-6 transition-all duration-300 hover:from-amber-100 hover:to-cyan-200 shadow-lg hover:shadow-xl","data-testid":"water-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-3 rounded-xl transition-all duration-300 ${Xe?"bg-gradient-to-br from-cyan-500 to-blue-600":"bg-cyan-500/30"}`,children:a.jsx(Bo,{className:`w-6 h-6 transition-colors duration-300 ${Xe?"text-gray-900":"text-cyan-700"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 font-medium text-lg",children:"Water Intake"}),a.jsxs("p",{className:"text-gray-900 text-sm font-medium",children:[S,"/",ge," glasses today"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-medium text-gray-900",children:[Math.round(Ee),"%"]}),a.jsx("div",{className:"text-xs text-gray-900 font-normal",children:"of goal"})]})]}),a.jsxs("div",{className:"relative h-3 bg-gray-300/60 rounded-full overflow-hidden mb-4 shadow-inner border border-gray-400/20",children:[a.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-cyan-600 to-blue-700 rounded-full transition-all duration-1000 shadow-sm",style:{width:`${Ee}%`}}),Ee>=100&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full animate-pulse shadow-sm"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex space-x-1",children:Array.from({length:ge},(mt,we)=>a.jsx("div",{className:`w-4 h-6 rounded-sm transition-all duration-300 ${we<S?"bg-cyan-400":"bg-gray-300"}`,style:{background:we<S?"linear-gradient(to top, #06b6d4 0%, #0891b2 100%)":"transparent"}},we))}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Q,{onClick:V,disabled:S<=0,size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-cyan-600 hover:text-cyan-500 hover:bg-cyan-500/10 disabled:opacity-50 shadow-lg hover:shadow-xl transition-shadow duration-200","data-testid":"button-decrement-water",children:a.jsx(U_,{className:"w-4 h-4"})}),a.jsx(Q,{onClick:L,disabled:S>=ge,size:"sm",variant:"ghost",className:"h-8 w-8 p-0 text-cyan-600 hover:text-cyan-500 hover:bg-cyan-500/10 disabled:opacity-50 shadow-lg hover:shadow-xl transition-shadow duration-200 border border-cyan-500/50 hover:border-cyan-500/70 disabled:hover:bg-transparent","data-testid":"button-increment-water",children:a.jsx(hf,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-400/20",children:[a.jsxs(Q,{onClick:()=>le(!ze),variant:"ghost",size:"sm",className:"w-full text-gray-700 hover:text-cyan-600 hover:bg-cyan-500/10 font-medium","data-testid":"button-toggle-water-history",children:[ze?"Hide":"Show"," 30-Day Log",ze?a.jsx(C_,{className:"w-4 h-4 ml-2"}):a.jsx(uw,{className:"w-4 h-4 ml-2"})]}),ze&&a.jsx("div",{className:"mt-4 space-y-3",children:re?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-cyan-600 mx-auto"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Loading water history..."})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Last 30 Days Water Intake"}),a.jsxs("div",{className:"grid grid-cols-7 gap-1 text-xs",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(mt=>a.jsx("div",{className:"text-center text-gray-500 font-medium py-1",children:mt},mt)),Array.from({length:30},(mt,we)=>{const Ke=new Date;Ke.setDate(Ke.getDate()-(29-we));const er=Ke.toISOString().split("T")[0],ce=Z.find(Tr=>Tr.date===er),Se=(ce==null?void 0:ce.glasses)||0,$t=er===new Date().toISOString().split("T")[0];return a.jsxs("div",{className:`aspect-square rounded-md flex flex-col items-center justify-center text-xs font-medium transition-all duration-200 min-h-[40px] ${$t?"ring-2 ring-cyan-500 bg-cyan-50 text-cyan-900":Se>=ge?"bg-gradient-to-br from-cyan-400 to-blue-500 text-white":Se>0?"bg-cyan-200 text-gray-800":"bg-gray-100 text-gray-400"}`,title:`${Ke.getDate()}/${Ke.getMonth()+1}: ${Se} glasses`,children:[a.jsx("div",{className:"text-xs",children:Ke.getDate()}),a.jsx("div",{className:"text-xs font-bold",children:Se})]},er)})]}),a.jsx("div",{className:"mt-4 p-3 bg-cyan-50 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-cyan-700",children:Z.filter(mt=>mt.glasses>=ge).length}),a.jsx("div",{className:"text-xs text-gray-600",children:"Goal Days"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-cyan-700",children:Math.round(Z.reduce((mt,we)=>mt+we.glasses,0)/Math.max(Z.length,1))}),a.jsx("div",{className:"text-xs text-gray-600",children:"Avg/Day"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-cyan-700",children:Z.reduce((mt,we)=>mt+we.glasses,0)}),a.jsx("div",{className:"text-xs text-gray-600",children:"Total"})]})]})})]})})]})]})}),ja=N.memo(({name:S,value:L,goal:V,color:Z,data:J=[0,0,0,0,0]})=>{const re=V-L,_e=re<0,ze=N.useMemo(()=>J.map(Ee=>Math.max(Ee*100,10)),[J]),le=_e?"text-red-700":`text-${Z}-700`,ge=_e?"text-red-600":"text-gray-900";return a.jsx(ie,{className:"bg-amber-100 border-none p-4 transition-all duration-300 hover:bg-gradient-to-br hover:from-amber-100 hover:to-amber-200 shadow-lg hover:shadow-xl","data-testid":"macro-card",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-sm ${ge} mb-1 leading-tight font-normal`,children:[a.jsx("div",{children:"Remaining"}),a.jsx("div",{children:S})]}),a.jsxs("div",{className:`text-xl font-medium ${le} mb-2`,children:[_e?"+":"",Math.abs(re),"g"]}),a.jsx("div",{className:"flex items-end space-x-px h-6 rounded bg-amber-100",children:ze.map((Ee,Xe)=>a.jsx("div",{className:`flex-1 ${_e?"bg-red-500/40":`bg-${Z}-500/40`} rounded-t transition-all duration-500`,style:{height:`${Ee}%`}},Xe))}),a.jsxs("div",{className:"text-xs text-gray-900 font-normal mt-1",children:[L,"g / ",V,"g"]})]})})}),oe=({name:S,value:L,goal:V,unit:Z,color:J})=>{const re=Math.min(Math.round(L/V*100),100),_e=L.toFixed(L<10?1:0),ze=()=>{switch(J){case"cyan":return{textColor:"text-cyan-600",gradientClass:"bg-gradient-to-r from-cyan-400 to-blue-500"};case"orange":return{textColor:"text-orange-600",gradientClass:"bg-gradient-to-r from-orange-400 to-yellow-500"};case"red":return{textColor:"text-red-600",gradientClass:"bg-gradient-to-r from-red-400 to-pink-500"};case"green":return{textColor:"text-green-600",gradientClass:"bg-gradient-to-r from-green-400 to-emerald-500"};case"slate":return{textColor:"text-slate-600",gradientClass:"bg-gradient-to-r from-slate-400 to-gray-500"};case"white":return{textColor:"text-gray-900",gradientClass:"bg-gradient-to-r from-white to-gray-300"};case"amber":return{textColor:"text-amber-600",gradientClass:"bg-gradient-to-r from-amber-400 to-yellow-500"};case"rose":return{textColor:"text-rose-600",gradientClass:"bg-gradient-to-r from-rose-400 to-pink-500"};default:return{textColor:"text-gray-600",gradientClass:"bg-gradient-to-r from-gray-400 to-gray-500"}}},{textColor:le,gradientClass:ge}=ze();return a.jsxs(ie,{className:"bg-amber-100 border-none p-3 shadow-lg hover:shadow-xl transition-all duration-300 hover:bg-gradient-to-br hover:from-amber-100 hover:to-amber-200","data-testid":"micro-card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:`text-sm font-medium ${le}`,children:S}),a.jsxs("div",{className:"text-xs text-gray-900 font-normal",children:[_e,Z," / ",V,Z]})]}),a.jsx("div",{className:"relative h-2 bg-gray-300/60 rounded-full overflow-hidden shadow-inner border border-gray-400/20",children:a.jsx("div",{className:`absolute left-0 top-0 h-full ${ge} rounded-full transition-all duration-1000 shadow-sm`,style:{width:`${re}%`}})}),a.jsxs("div",{className:"text-xs text-gray-900 font-normal mt-1",children:[re,"% Daily Value (",_e,Z,")"]})]})},Je=()=>a.jsxs("div",{className:"space-y-0 page-container","data-page":"dashboard",children:[a.jsx(Er,{title:"Track Your",subtitle:"Nutrition",description:"Track nutrition with scientific precision using our comprehensive USDA database",buttonText:e?"Start Tracking":"Sign Up to Track",onButtonClick:()=>{it(e?"nutrition":"profile")},showLogo:!0}),a.jsx("div",{className:"px-6 py-3 content-section",children:a.jsxs("div",{className:"space-y-3",children:[e&&Mu&&a.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("h3",{className:"font-medium text-lg text-gray-900",children:"Welcome to ByteWise!"})]}),a.jsx("p",{className:"text-gray-700 text-sm mb-3",children:"Ready to discover all the amazing features? Take our interactive tour to learn how to track nutrition and build healthy habits."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{Bi(!1)},className:"px-4 py-2 bg-amber-400 text-gray-900 rounded-lg text-sm font-medium hover:bg-amber-500 transition-colors",children:"Take Tour"}),a.jsx("button",{onClick:()=>{Bi(!1),Dn()},className:"px-4 py-2 bg-amber-200 text-gray-900 rounded-lg text-sm font-medium hover:bg-amber-300 transition-colors btn-hero-enhanced",children:"Maybe Later"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-3xl font-semibold text-gray-900",children:"Today's Progress"}),a.jsx("div",{className:"flex gap-2",children:a.jsx(Q,{variant:"ghost",className:"text-orange-400 hover:text-orange-300",onClick:()=>it(e?"nutrition":"profile"),children:e?"Track Food":"Sign Up to Track"})})]}),a.jsxs("div",{"data-testid":"daily-progress",className:"mb-4",children:[a.jsx(ll,{title:"Daily Calories",icon:la,value:`${Math.round(K)} kcal`,goal:`${P} kcal`,percentage:Math.round(K/P*100),color:"orange"}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[a.jsxs("div",{className:"text-center p-2 bg-gradient-to-br from-amber-100 to-amber-200 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-orange-600",children:W.length}),a.jsx("div",{className:"text-xs text-gray-900",children:"Meals"})]}),a.jsxs("div",{className:"text-center p-2 bg-gradient-to-br from-amber-100 to-amber-200 rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-orange-600",children:Math.round(P-K)}),a.jsx("div",{className:"text-xs text-gray-900",children:"Remaining"})]}),a.jsxs("div",{className:"text-center p-2 bg-gradient-to-br from-amber-100 to-amber-200 rounded-lg",children:[a.jsxs("div",{className:"text-sm font-bold text-orange-600",children:[Math.round(K/P*100),"%"]}),a.jsx("div",{className:"text-xs text-gray-900",children:"Complete"})]})]})]}),a.jsx("div",{className:"mb-4",children:a.jsx(u3,{fastingStatus:sl||(ue==null?void 0:ue.fastingStatus)})}),a.jsx("div",{className:"mb-4","data-testid":"water-consumption-card",children:a.jsx(cl,{glasses:(ue==null?void 0:ue.waterGlasses)||0,onIncrement:()=>Wi(1),onDecrement:()=>Wi(-1)})}),a.jsxs("div",{className:"mb-4",children:[a.jsx(ll,{title:"Weekly Progress",icon:jn,value:`${Math.round($)} kcal`,goal:`${U} kcal`,percentage:Math.round($/U*100),color:"blue"}),a.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:[{label:"Days",value:"7"},{label:"Avg/Day",value:Math.round($/7)},{label:"Remain",value:Math.round(U-$)},{label:"Total",value:W.length}].map((S,L)=>a.jsxs("div",{className:"text-center p-2 bg-gradient-to-br from-amber-100 to-amber-200 rounded-lg",children:[a.jsx("div",{className:"text-sm font-bold text-gray-900",children:S.value}),a.jsx("div",{className:"text-xs text-gray-900",children:S.label})]},L))})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsx(ja,{name:"Protein",value:Math.round((ue==null?void 0:ue.totalProtein)||0),goal:(e==null?void 0:e.dailyProteinGoal)||180,color:"green"}),a.jsx(ja,{name:"Carbs",value:Math.round((ue==null?void 0:ue.totalCarbs)||0),goal:(e==null?void 0:e.dailyCarbGoal)||200,color:"yellow"}),a.jsx(ja,{name:"Fat",value:Math.round((ue==null?void 0:ue.totalFat)||0),goal:(e==null?void 0:e.dailyFatGoal)||70,color:"purple"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-cyan-400 rounded-full mr-2"}),"Essential Micronutrients"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsx(oe,{name:"Vitamin C",value:Xt.vitaminC,goal:90,unit:"mg",color:"cyan"}),a.jsx(oe,{name:"Vitamin D",value:Xt.vitaminD,goal:20,unit:"g",color:"orange"}),a.jsx(oe,{name:"Vitamin B12",value:Xt.vitaminB12,goal:2.4,unit:"g",color:"red"}),a.jsx(oe,{name:"Folate",value:Xt.folate,goal:400,unit:"g",color:"green"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(oe,{name:"Iron",value:Xt.iron,goal:18,unit:"mg",color:"slate"}),a.jsx(oe,{name:"Calcium",value:Xt.calcium,goal:1e3,unit:"mg",color:"white"}),a.jsx(oe,{name:"Zinc",value:Xt.zinc,goal:11,unit:"mg",color:"amber"}),a.jsx(oe,{name:"Magnesium",value:Xt.magnesium,goal:400,unit:"mg",color:"rose"})]})]})]})})]}),ft=()=>a.jsxs("div",{className:"space-y-0 page-container",children:[a.jsx(Er,{title:"Daily &",subtitle:"Weekly",description:"Track your nutrition progress and log meals",buttonText:"Start Tracking",onButtonClick:()=>{const S=document.querySelector('input[placeholder="Search weekly food entries..."]');S&&S.focus()}}),a.jsxs("div",{className:"px-6 py-3 content-section",children:[a.jsxs("div",{className:"mb-4 pb-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Hc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(Ue,{placeholder:"Search last month's food entries...",value:x,onChange:S=>k(S.target.value),className:"h-12 pl-10 bg-amber-50/90 border-amber-400 text-gray-900 placeholder-gray-600"})]}),a.jsx("div",{className:"mt-2 text-center",children:a.jsx("p",{className:"text-xs text-gray-900",children:" Search through your last month of logged meals"})}),a.jsxs(Q,{onClick:()=>{it(e?"nutrition":"profile")},className:"w-full mt-3 bg-orange-600 hover:bg-orange-700 text-white font-bold h-12 rounded-xl btn-hero-enhanced",children:[a.jsx(hf,{className:"w-4 h-4 mr-2"}),e?"Log Food with Calculator":"Sign Up to Log Food"]})]}),a.jsxs("div",{className:"flex bg-gradient-to-br from-amber-100 to-amber-200 rounded-xl p-1 mb-6",children:[a.jsx(Q,{variant:ke==="daily"?"default":"ghost",className:"flex-1 h-10",onClick:()=>me("daily"),children:"Daily"}),a.jsx(Q,{variant:ke==="weekly"?"default":"ghost",className:"flex-1 h-10",onClick:()=>me("weekly"),children:"Weekly"})]}),ke==="daily"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:x?"Search Results":"Today's Meals"}),a.jsx("div",{className:"text-orange-400 font-bold",children:x?a.jsxs("span",{className:"text-sm",children:[z.filter(S=>S.name.toLowerCase().includes(x.toLowerCase())).length," found"]}):`${Math.round(K)}/${P} cal`})]}),!x&&W.length===0?a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md p-6",children:a.jsxs("div",{className:"text-center text-gray-400",children:[a.jsx("p",{className:"text-lg mb-2",children:"No meals logged today"}),a.jsx("p",{className:"text-sm",children:"Use the search bar above or nutrition calculator to start tracking"})]})}):x&&z.filter(S=>S.name.toLowerCase().includes(x.toLowerCase())).length===0?a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md p-6",children:a.jsxs("div",{className:"text-center text-gray-700",children:[a.jsx("p",{className:"text-lg mb-2",children:"No meals found"}),a.jsx("p",{className:"text-sm",children:"Try a different search term or add new meals to your log"})]})}):(x?z:W).filter(S=>!x||S.name.toLowerCase().includes(x.toLowerCase())).sort((S,L)=>{const V=new Date(S.timestamp||`${S.date} ${S.time}`);return new Date(L.timestamp||`${L.date} ${L.time}`).getTime()-V.getTime()}).slice(0,50).map((S,L)=>a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-gray-900 font-semibold",children:S.name}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[S.time,"  ",S.mealType,x&&a.jsxs("span",{className:"ml-2 text-amber-600",children:[" ",new Date(S.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-1",children:[a.jsxs("span",{className:"text-xs text-green-700 font-medium",children:["P: ",(S.protein||0).toFixed(1),"g"]}),a.jsxs("span",{className:"text-xs text-orange-700 font-medium",children:["C: ",(S.carbs||0).toFixed(1),"g"]}),a.jsxs("span",{className:"text-xs text-purple-700 font-medium",children:["F: ",(S.fat||0).toFixed(1),"g"]})]}),(S.iron||S.iron>0||S.calcium||S.calcium>0||(S.vitaminC||S.vitamin_c)>0||S.zinc||S.zinc>0)&&a.jsxs("div",{className:"flex flex-wrap gap-2 mt-1 pt-1 border-t border-gray-400/30",children:[S.iron>0&&a.jsxs("span",{className:"text-xs bg-slate-500/20 px-2 py-0.5 rounded-full text-gray-800",children:["Iron: ",S.iron.toFixed(1),"mg"]}),S.calcium>0&&a.jsxs("span",{className:"text-xs bg-gray-500/20 px-2 py-0.5 rounded-full text-gray-800",children:["Calcium: ",Math.round(S.calcium),"mg"]}),(S.vitaminC||S.vitamin_c)>0&&a.jsxs("span",{className:"text-xs bg-cyan-500/20 px-2 py-0.5 rounded-full text-cyan-800",children:["Vit C: ",Math.round(S.vitaminC||S.vitamin_c),"mg"]}),S.zinc>0&&a.jsxs("span",{className:"text-xs bg-amber-500/30 px-2 py-0.5 rounded-full text-amber-800",children:["Zinc: ",S.zinc.toFixed(1),"mg"]}),S.magnesium>0&&a.jsxs("span",{className:"text-xs bg-rose-500/20 px-2 py-0.5 rounded-full text-rose-800",children:["Mg: ",Math.round(S.magnesium),"mg"]}),(S.vitaminD||S.vitamin_d)>0&&a.jsxs("span",{className:"text-xs bg-orange-500/20 px-2 py-0.5 rounded-full text-orange-800",children:["Vit D: ",(S.vitaminD||S.vitamin_d).toFixed(1),"g"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-orange-400 font-bold text-lg",children:[Math.round(S.calories||0)," cal"]}),a.jsx(Q,{size:"sm",variant:"ghost",className:"text-gray-400 hover:text-red-400 p-2 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-400/30 hover:border-red-400/50","data-testid":`button-delete-meal-${L}`,onClick:async()=>{try{if(!e||!S.id){console.error("Cannot delete meal: missing user or meal ID"),$e("info","Delete Failed","Cannot delete meal: missing authentication or meal ID");return}if(!(await je("DELETE",`/api/meals/${S.id}`)).ok)throw new Error("Failed to delete meal from database");window.dispatchEvent(new CustomEvent("reload-meal-data")),$e("success","Meal Deleted",`Removed ${S.name} from your log`),window.dispatchEvent(new CustomEvent("refresh-meals"))}catch(V){console.error("Error deleting meal:",V),$e("info","Delete Failed","Could not delete meal. Please try again.")}},title:"Delete meal entry",children:a.jsx(ca,{className:"w-4 h-4"})})]})]})},`search-${S.id||S.name}-${S.timestamp||L}`))]}),ke==="weekly"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"This Week's Progress"}),a.jsx("p",{className:"text-sm text-gray-900 mt-1",children:(()=>{const S=$a(),L=new Date(S[0]),V=new Date(S[6]);return`${L.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${V.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`})()}),a.jsxs("p",{className:"text-xs text-gray-900 mt-1",children:["Today: ",new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})]})]}),a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-900 font-semibold",children:"Weekly Total"}),a.jsxs("p",{className:"text-gray-900 text-sm",children:[Math.round($),"/",U," kcal"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-amber-600",children:[Math.round($/U*100),"%"]}),a.jsx("div",{className:"text-xs text-gray-900",children:"completed"})]})]}),a.jsx("div",{className:"relative h-3 bg-amber-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full transition-all duration-1000",style:{width:`${Math.min($/U*100,100)}%`}})})]}),a.jsx(d0,{})]})]})]}),Et=()=>a.jsxs("div",{className:"space-y-0",children:[a.jsx(Er,{title:"Your",subtitle:"Goals",description:"Track daily and weekly nutrition goals to unlock achievements",buttonText:"View Goals",onButtonClick:()=>{const S=document.querySelector(".space-y-4");S&&S.scrollIntoView({behavior:"smooth"})}}),a.jsxs("div",{className:"px-6 py-3 content-section",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-gray-900 font-semibold text-2xl",children:"Daily Goals"}),a.jsxs(Le,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[a.jsx(Vt,{className:"w-3 h-3 mr-1"}),"3/5 Complete"]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-500/20 rounded-xl border border-green-500/30",children:[a.jsx("span",{className:"text-gray-900",children:"Hit calorie target"}),a.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-900 text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-500/20 rounded-xl border border-green-500/30",children:[a.jsx("span",{className:"text-gray-900",children:"Meet protein goal"}),a.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-900 text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-500/20 rounded-xl border border-green-500/30",children:[a.jsx("span",{className:"text-gray-900",children:"Log 3 meals"}),a.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-900 text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-br from-amber-100 to-amber-200 rounded-xl",children:[a.jsx("span",{className:"text-gray-900",children:"Track micronutrients"}),a.jsx("div",{className:"w-6 h-6 bg-amber-300 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-700 text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-br from-amber-100 to-amber-200 rounded-xl",children:[a.jsx("span",{className:"text-gray-900",children:"Stay within carb limit"}),a.jsx("div",{className:"w-6 h-6 bg-amber-300 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-700 text-sm",children:""})})]})]})]}),a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-gray-900 font-semibold text-2xl",children:"Weekly Goals"}),a.jsxs(Le,{className:"bg-amber-200/50 text-amber-700 border-amber-300/50",children:[a.jsx(jn,{className:"w-3 h-3 mr-1"}),"2/4 Complete"]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-200/40 rounded-xl border border-amber-300/50",children:[a.jsx("span",{className:"text-gray-900",children:"Track 5+ days"}),a.jsx("div",{className:"w-6 h-6 bg-amber-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-900 text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-200/40 rounded-xl border border-amber-300/50",children:[a.jsx("span",{className:"text-gray-900",children:"Average 2000+ cal/day"}),a.jsx("div",{className:"w-6 h-6 bg-amber-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-900 text-sm",children:""})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-br from-amber-100 to-amber-200 rounded-xl",children:[a.jsx("span",{className:"text-gray-400",children:"Hit protein goal 5 days"}),a.jsx("div",{className:"w-6 h-6 bg-amber-300 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400 text-xs",children:"3/5"})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-br from-amber-100 to-amber-200 rounded-xl",children:[a.jsx("span",{className:"text-gray-400",children:"Try 3 new foods"}),a.jsx("div",{className:"w-6 h-6 bg-amber-300 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400 text-xs",children:"1/3"})})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-2xl font-bold",children:"Recent Achievements"}),g?a.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(S=>a.jsx(ie,{className:"bg-gradient-to-br from-amber-100 to-amber-200 backdrop-blur-md border-amber-300 p-4 animate-pulse",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-amber-300 rounded-full mx-auto mb-2"}),a.jsx("div",{className:"w-20 h-4 bg-amber-300 rounded mx-auto mb-1"}),a.jsx("div",{className:"w-16 h-3 bg-amber-300 rounded mx-auto"})]})},S))}):y.length>0?a.jsx("div",{className:"grid grid-cols-2 gap-4",children:y.slice(0,4).map(S=>a.jsx(ie,{className:`${S.colorClass||"bg-blue-500/20 border-blue-500/30"} backdrop-blur-md p-4`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:b4(S.iconName)}),a.jsx("h4",{className:"text-gray-900 font-semibold text-sm",children:S.title}),a.jsx("p",{className:"text-gray-400 text-xs",children:k4(S.earnedAt)})]})},S.id))}):a.jsx(ie,{className:"bg-gradient-to-br from-amber-100 to-amber-200 backdrop-blur-md border-amber-300 p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(tn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("h4",{className:"text-gray-900 font-semibold mb-2",children:"No Achievements Yet"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Start tracking your nutrition to unlock achievements!"})]})})]})]})]}),Sa=()=>{const[S,L]=m.useState(""),[V,Z]=m.useState(""),[J,re]=m.useState(!1),[_e,ze]=m.useState(!1),[le,ge]=m.useState(!1),{toast:Ee}=Yt(),{refetch:Xe}=_t(),cr=async we=>{var Ke,er;we.preventDefault(),ge(!0);try{if(_e){const{error:ce}=await dt.auth.resetPasswordForEmail(S,{redirectTo:`${window.location.origin}/reset-password`});if(ce)throw ce;Ee({title:"Check your email",description:"We've sent you a password reset link. Please check your email."}),ze(!1)}else if(J){const{data:ce,error:Se}=await dt.auth.signUp({email:S,password:V,options:{emailRedirectTo:window.location.origin,data:{email_verified:!1}}});if(Se)throw Se;((er=(Ke=ce==null?void 0:ce.user)==null?void 0:Ke.identities)==null?void 0:er.length)===0?(Ee({title:"Account exists",description:"An account with this email already exists. Please sign in instead.",variant:"destructive"}),re(!1)):(Ee({title:"Verify your email",description:"We've sent you a verification link. You must verify your email before you can sign in."}),re(!1),L(""),Z(""))}else{const{data:ce,error:Se}=await dt.auth.signInWithPassword({email:S,password:V});if(Se){if(Se.message.includes("Email not confirmed")||Se.message.includes("email_not_confirmed")){Ee({title:"Email not verified",description:"Please verify your email before signing in. Check your inbox for the verification link.",variant:"destructive"});return}throw Se}if(ce!=null&&ce.user&&!ce.user.email_confirmed_at){await dt.auth.signOut(),Ee({title:"Email not verified",description:"Please verify your email before signing in. Check your inbox for the verification link.",variant:"destructive"});return}Ee({title:"Welcome back!",description:"You've successfully signed in."}),await Xe(),window.location.reload()}}catch(ce){Ee({title:"Error",description:ce.message||"Something went wrong. Please try again.",variant:"destructive"})}finally{ge(!1)}},mt=async()=>{if(!S){Ee({title:"Email required",description:"Please enter your email address to resend verification.",variant:"destructive"});return}ge(!0);try{const{error:we}=await dt.auth.resend({type:"signup",email:S});if(we)throw we;Ee({title:"Verification email sent",description:"Please check your inbox for the verification link."})}catch(we){Ee({title:"Error",description:we.message||"Failed to resend verification email.",variant:"destructive"})}finally{ge(!1)}};return a.jsxs("div",{className:"space-y-0",children:[a.jsx(Er,{title:"Welcome to",subtitle:"Nutrition",description:"Sign in to start tracking your nutrition journey",buttonText:"Get Started",onButtonClick:()=>{const we=document.querySelector(".bg-white\\/10");we&&we.scrollIntoView({behavior:"smooth"})}}),a.jsx("div",{className:"px-6 py-3 content-section",children:a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md p-6",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:_e?"Reset Password":J?"Create Account":"Sign In"}),a.jsxs("form",{onSubmit:cr,className:"space-y-4",children:[a.jsx(Ue,{type:"email",placeholder:"Email",value:S,onChange:we=>L(we.target.value),className:"h-12 bg-amber-50/90 border-amber-400 text-gray-900 placeholder-gray-600",required:!0,disabled:le}),!_e&&a.jsx(Ue,{type:"password",placeholder:"Password (min 6 characters)",value:V,onChange:we=>Z(we.target.value),className:"h-12 bg-amber-50/90 border-amber-400 text-gray-900 placeholder-gray-600",required:!0,disabled:le,minLength:6}),a.jsx(Q,{type:"submit",className:"w-full bg-amber-500 hover:bg-amber-600 text-white font-bold h-12 rounded-xl btn-hero-enhanced",disabled:le,children:le?"Loading...":_e?"Send Reset Link":J?"Create Account":"Sign In"}),a.jsxs("div",{className:"space-y-2",children:[!_e&&!J&&a.jsx("div",{className:"text-center",children:a.jsx(Q,{type:"button",variant:"link",className:"text-gray-600 hover:text-gray-900 text-sm",onClick:()=>ze(!0),disabled:le,children:"Forgot password?"})}),a.jsx("div",{className:"text-center",children:a.jsx(Q,{type:"button",variant:"link",className:"text-gray-600 hover:text-gray-900",onClick:()=>{re(!J&&!_e),ze(!1)},disabled:le,children:_e?"Back to sign in":J?"Already have an account? Sign in":"Don't have an account? Sign up"})}),J&&a.jsx("div",{className:"text-center",children:a.jsx(Q,{type:"button",variant:"link",className:"text-gray-600 hover:text-gray-900 text-sm",onClick:mt,disabled:le||!S,children:"Resend verification email"})})]}),J&&a.jsx("div",{className:"mt-4 p-3 bg-blue-500/20 rounded-lg",children:a.jsx("p",{className:"text-xs text-gray-200 text-center",children:"By creating an account, you must verify your email address before you can sign in."})})]})]})})]})},tt=()=>a.jsxs("div",{className:"space-y-0",children:[a.jsx(Er,{title:"Daily &",subtitle:"Weekly",description:"Track your calorie intake and search for foods to log",buttonText:"Search Meals Logged",onButtonClick:()=>{const S=document.querySelector('input[placeholder="Search weekly food entries..."]');S&&S.focus()}}),a.jsxs("div",{className:"px-6 py-3 content-section",children:[a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900",children:"Food Search"}),a.jsx("p",{className:"text-gray-700",children:"Find and log nutrition information"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Hc,{className:"absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-600 w-5 h-5"}),a.jsx(Ue,{"data-testid":"main-food-search",placeholder:"Search weekly food entries...",value:x,onChange:S=>k(S.target.value),className:"pl-28 pr-16 h-16 bg-amber-50/90 border-amber-400 text-gray-900 placeholder-gray-600 rounded-2xl text-xl font-medium text-center"}),x&&a.jsx(Q,{variant:"ghost",size:"sm",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-600 hover:text-gray-900 shadow-md hover:shadow-lg transition-shadow duration-200 border border-gray-400/30 hover:border-gray-300/50",onClick:()=>k(""),children:a.jsx(ln,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex space-x-4 mb-6",children:a.jsxs("div",{className:"bg-orange-500 text-white font-semibold px-6 py-3 rounded-xl shadow-lg border border-orange-400/50 flex items-center","data-testid":"text-current-date",children:[a.jsx(jn,{className:"w-4 h-4 mr-2"}),new Date().toLocaleDateString("en-US",{month:"short",day:"numeric"})]})}),a.jsxs("div",{"data-testid":"meal-history",className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Logged Today"}),W.length===0&&a.jsx(Le,{className:"bg-amber-800 text-amber-100 border border-amber-700",children:"No meals logged"})]}),W.length===0?a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 p-6 text-center",children:a.jsxs("div",{className:"text-gray-700",children:[a.jsx(jn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"text-lg mb-2 text-gray-900",children:"No meals logged today"}),a.jsx("p",{className:"text-sm text-gray-700",children:"Use the nutrition calculator to start tracking your meals"})]})}):z.filter(S=>!x||S.name.toLowerCase().includes(x.toLowerCase())).map((S,L)=>a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-gray-900 font-semibold",children:S.name}),a.jsxs("p",{className:"text-gray-700 text-sm",children:[S.time,"  ",S.mealType]}),a.jsxs("div",{className:"flex space-x-4 mt-1",children:[a.jsxs("span",{className:"text-xs text-green-600",children:["P: ",Number(S.totalProtein||S.protein||0).toFixed(1),"g"]}),a.jsxs("span",{className:"text-xs text-yellow-600",children:["C: ",Number(S.totalCarbs||S.carbs||0).toFixed(1),"g"]}),a.jsxs("span",{className:"text-xs text-purple-600",children:["F: ",Number(S.totalFat||S.fat||0).toFixed(1),"g"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-orange-600 font-bold text-lg",children:[Math.round(Number(S.totalCalories||S.calories||0))," cal"]}),a.jsx(Q,{size:"sm",variant:"ghost",className:"text-gray-600 hover:text-red-600 p-2","data-testid":`button-delete-logged-meal-${L}`,onClick:async()=>{try{if(!e||!S.id){console.error("Cannot delete meal: missing user or meal ID"),$e("info","Delete Failed","Cannot delete meal: missing authentication or meal ID");return}if(!(await je("DELETE",`/api/meals/${S.id}`)).ok)throw new Error("Failed to delete meal from database");window.dispatchEvent(new CustomEvent("reload-meal-data")),$e("success","Meal Deleted",`Removed ${S.name} from your meals`),window.dispatchEvent(new CustomEvent("refresh-meals"))}catch(V){console.error("Error deleting meal:",V),$e("info","Delete Failed","Could not delete meal. Please try again.")}},title:"Delete meal entry",children:a.jsx(ca,{className:"w-4 h-4"})})]})]})},`meal-${S.id||S.name}-${S.timestamp||L}`))]}),a.jsxs("div",{className:"space-y-4 mt-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"This Week"}),a.jsx(Le,{className:"bg-amber-800 text-amber-100 border border-amber-700",children:"Weekly Summary"})]}),a.jsx(d0,{})]})]})]}),Tt=()=>a.jsxs("div",{className:"space-y-0 page-container",children:[a.jsx(Er,{title:"Smart",subtitle:"Nutrition",description:"AI-powered food analysis or precise USDA database calculator",buttonText:"Choose Analysis Method",onButtonClick:()=>{const S=document.querySelector(".bg-gradient-to-r.from-blue-500\\/10.to-orange-500\\/10");S&&(S.scrollIntoView({behavior:"smooth",block:"center"}),S.classList.add("ring-4","ring-amber-400","ring-opacity-75"),setTimeout(()=>{S.classList.remove("ring-4","ring-amber-400","ring-opacity-75")},2e3))}}),a.jsxs("div",{className:"px-6 py-3 content-section",children:[a.jsx("div",{className:"mb-6 text-center",children:a.jsxs("div",{className:"bg-gradient-to-r from-blue-500/10 to-orange-500/10 border border-gray-400/20 rounded-xl p-4 mb-4 transition-all duration-300",children:[a.jsx("h3",{className:"font-semibold text-lg mb-3 text-center",children:" Choose Your Nutrition Analysis Method"}),a.jsx("p",{className:"text-center text-gray-600 text-sm mb-4",children:"Select your preferred method below, then use the toggle buttons to switch between options:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-base",children:[a.jsxs("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(os,{className:"h-4 w-4 text-amber-500"}),a.jsx("span",{className:"font-medium text-gray-900",children:"AI Photo Analysis"})]}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Take a photo of your food and let AI identify it automatically. Perfect for quick logging of complete meals and dishes."})]}),a.jsxs("div",{className:"bg-orange-500/5 border border-orange-500/20 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Vt,{className:"h-4 w-4 text-orange-400"}),a.jsx("span",{className:"font-medium text-gray-900",children:"USDA Calculator"})]}),a.jsx("p",{className:"text-gray-700 text-sm",children:"Search and manually select foods from the USDA database. Ideal for precise nutrition tracking and portion control."})]})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-center text-sm text-gray-400",children:[a.jsx(x_,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"Slide left or right to switch between options"}),a.jsx(w_,{className:"h-4 w-4 ml-1"})]})]})}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex items-center justify-center space-x-1 rounded-full p-1 max-w-sm mx-auto",children:[a.jsxs("button",{onClick:()=>se("ai"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${st==="ai"?"bg-amber-500 text-white shadow-lg":"text-gray-400 hover:text-gray-900"}`,"data-testid":"button-ai-mode",children:[a.jsx(os,{className:"h-4 w-4"}),"AI Photo Analysis"]}),a.jsxs("button",{onClick:()=>se("calculator"),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${st==="calculator"?"bg-orange-500 text-white shadow-lg":"text-gray-400 hover:text-gray-900"}`,"data-testid":"button-calculator-mode",children:[a.jsx(Vt,{className:"h-4 w-4"}),"USDA Calculator"]})]})}),a.jsx("div",{className:"main-content",children:st==="ai"?a.jsx(E3,{}):a.jsx(H4,{onNavigate:t,isCompact:!1})})]})]}),Na=()=>{var S;return a.jsxs("div",{className:"space-y-0 page-container",children:[a.jsx(Er,{title:"Your",subtitle:"Profile",description:"Manage your account, view achievements, and track your progress",buttonText:e?"Manage Profile":"Sign Up",onButtonClick:()=>{if(e){const L=document.querySelector(".space-y-6");L&&L.scrollIntoView({behavior:"smooth"})}else{const L=document.querySelector(".space-y-6");L&&L.scrollIntoView({behavior:"smooth"})}}}),a.jsx("div",{className:"px-6 py-3 content-section",children:e?a.jsxs(X_,{type:"single",collapsible:!0,className:"w-full space-y-6",value:c||"",onValueChange:u,children:[a.jsx(Ml,{value:"profile",className:"border-none",children:a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 overflow-hidden rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 hover:from-amber-100 hover:to-amber-200 hover:border-amber-300/50",children:[a.jsx(Ll,{className:"px-4 sm:px-6 py-4 sm:py-6 hover:bg-amber-200/30 hover:no-underline [&[data-state=open]]:bg-amber-200/30 [&>svg]:ml-2 sm:[&>svg]:ml-4",children:a.jsxs("div",{className:"flex items-start justify-between w-full pr-2 sm:pr-4",children:[a.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4 flex-1 min-w-0",children:[a.jsxs("div",{className:"relative flex-shrink-0",children:[a.jsx(gb,{"data-testid":"profile-icon",iconNumber:(e==null?void 0:e.profileIcon)||1,size:"md",className:"ring-2 ring-white/20"}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 sm:w-5 sm:h-5 bg-green-500 rounded-full border-2 border-black flex items-center justify-center",children:a.jsx(is,{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 text-white"})})]}),a.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-bold leading-tight",style:{fontFamily:"'League Spartan', sans-serif"},children:(e==null?void 0:e.firstName)||((S=e==null?void 0:e.email)==null?void 0:S.split("@")[0])||"ByteWise User"}),a.jsx("p",{className:"text-gray-700 text-xs sm:text-sm truncate",children:e==null?void 0:e.email}),a.jsxs("div",{className:"flex flex-wrap gap-x-2 sm:gap-x-3 gap-y-1 text-xs text-gray-600 mt-1",children:[a.jsx("span",{className:"inline-flex items-center whitespace-nowrap",children:" Level 1"}),a.jsxs("span",{className:"inline-flex items-center whitespace-nowrap",children:[" ",(W==null?void 0:W.length)||0," meals"]}),a.jsxs("span",{className:"inline-flex items-center whitespace-nowrap",children:[" ",Math.round(K),"/",P," cal"]})]})]})]}),a.jsxs("div",{className:"text-right flex-shrink-0 ml-2 sm:ml-3 min-w-[60px] sm:min-w-[80px]",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-orange-400 leading-tight",children:(y==null?void 0:y.length)||0}),a.jsx("div",{className:"text-xs text-gray-600 whitespace-nowrap leading-tight",children:"Awards"})]})]})}),a.jsx(Fl,{className:"px-6 pb-6 pt-2",children:a.jsxs("div",{className:"border-t border-amber-300/30 pt-6 mt-2",children:[a.jsx(C5,{}),a.jsx("div",{className:"mt-6 pt-4 border-t border-amber-300/30",children:a.jsx(G3,{onHealthDataSync:_s})})]})})]})}),a.jsx(Ml,{value:"tour",className:"border-none",children:a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 overflow-hidden rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 hover:from-amber-100 hover:to-amber-200 hover:border-amber-300/50",children:[a.jsx(Ll,{className:"px-6 py-6 hover:bg-amber-200/30 hover:no-underline [&[data-state=open]>div]:text-[#faed39] [&[data-state=open]]:bg-amber-200/30",children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(M_,{className:"w-6 h-6 text-[#faed39]"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold transition-colors",style:{fontFamily:"'League Spartan', sans-serif"},children:"App Tour & Training"}),a.jsx("p",{className:"text-sm text-gray-700",style:{fontFamily:"'Work Sans', sans-serif"},children:"Explore features or retake the guided tour"})]})]}),a.jsx("div",{className:"text-right flex-shrink-0 ml-3",children:a.jsx("div",{className:"text-xs text-gray-600",children:localStorage.getItem("bytewise-tour-completed")==="true"?"Completed":"Available"})})]})}),a.jsx(Fl,{className:"px-6 pb-6 pt-0",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-amber-200/30 rounded-lg p-4",children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(E_,{className:"w-5 h-5 text-amber-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Comprehensive App Tour"}),a.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:"Take our interactive 10-step tour covering food search, AI photo analysis, fasting timer, water tracking, meal journaling, achievements, and profile settings."}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_n,{className:"w-3 h-3"}),"8-10 minutes"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Vt,{className:"w-3 h-3"}),"10 key features"]}),localStorage.getItem("bytewise-tour-completed")==="true"&&a.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(is,{className:"w-3 h-3"}),"Completed"]})]})]})]})})}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(Nu,{children:[a.jsx(Qw,{asChild:!0,children:a.jsxs(Q,{variant:"default",size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white font-medium","data-testid":"tour-launch-button",children:[a.jsx(df,{className:"w-4 h-4 mr-2"}),localStorage.getItem("bytewise-tour-completed")==="true"?"Retake Tour":"Start Tour"]})}),a.jsxs(Cu,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-200",children:[a.jsx(_u,{children:a.jsxs(Eu,{className:"flex items-center gap-2 text-xl",children:[a.jsx(os,{className:"w-6 h-6 text-yellow-500"}),"ByteWise Features Tour"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-lg mb-2",children:" App Features"}),a.jsx("p",{className:"text-gray-900 text-sm",children:"Explore all the powerful features available in ByteWise Nutritionist. Click any card below to navigate directly to that feature."}),a.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-900",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Vt,{className:"w-4 h-4"}),"6 key features"]}),a.jsx(Le,{variant:"secondary",className:"text-xs text-gray-900 bg-gray-100",children:"Click to explore"})]})]}),ne.clickedCards.length>0&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[a.jsx(is,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["Progress: ",ne.clickedCards.length,"/6 features explored"]})]}),ne.suggestedNext<6&&a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Try the highlighted card next! "})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{icon:a.jsx(Ti,{className:"w-5 h-5 text-orange-600"}),title:"Smart Food Search",description:"Search 300,000+ USDA foods with brand recognition",category:"Core Feature",targetTab:"nutrition",nutritionMode:"calculator"},{icon:a.jsx(sn,{className:"w-5 h-5 text-purple-600"}),title:"AI Photo Analysis",description:"Snap photos for instant nutrition breakdown",category:"AI Feature",targetTab:"nutrition",nutritionMode:"ai"},{icon:a.jsx(Vt,{className:"w-5 h-5 text-green-600"}),title:"Calorie Calculator",description:"Instant nutrition facts with portion warnings",category:"Core Feature",targetTab:"nutrition",nutritionMode:"calculator"},{icon:a.jsx(_n,{className:"w-5 h-5 text-orange-600"}),title:"Fasting Timer",description:"Track intermittent fasting with celebrations",category:"Wellness",targetTab:"fasting"},{icon:a.jsx(tn,{className:"w-5 h-5 text-amber-800"}),title:"Achievement System",description:"Unlock rewards as you hit your goals",category:"Motivation",targetTab:"profile",accordionTarget:"achievements"},{icon:a.jsx(Bo,{className:"w-5 h-5 text-cyan-600"}),title:"Hydration Tracking",description:"Beautiful water intake visualization",category:"Wellness",targetTab:"home"}].map((L,V)=>a.jsx(ie,{className:`cursor-pointer transition-all duration-200 ${ne.clickedCards.includes(L.title)?"bg-green-100 border-green-300 shadow-md":V===ne.suggestedNext?"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-300 shadow-lg ring-2 ring-blue-200 hover:ring-blue-300":"bg-amber-50/60 border-gray-200 hover:border-gray-300 hover:bg-amber-100/60 hover:shadow-md"}`,onClick:()=>{const Z={clickedCards:ne.clickedCards.includes(L.title)?ne.clickedCards:[...ne.clickedCards,L.title],suggestedNext:ne.clickedCards.includes(L.title)?ne.suggestedNext:Math.min(ne.suggestedNext+1,5)};Sr(Z),localStorage.setItem("tour-progress",JSON.stringify(Z)),i(L.targetTab),window.dispatchEvent(new CustomEvent("navigate-to-tab",{detail:{tab:L.targetTab,nutritionMode:L.nutritionMode,accordionTarget:L.accordionTarget}}))},children:a.jsx(gt,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${ne.clickedCards.includes(L.title)?"bg-green-200":V===ne.suggestedNext?"bg-blue-200":"bg-gray-100"}`,children:L.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[L.title,ne.clickedCards.includes(L.title)&&a.jsx(is,{className:"w-4 h-4 text-green-600"}),V===ne.suggestedNext&&!ne.clickedCards.includes(L.title)&&a.jsx(os,{className:"w-4 h-4 text-blue-600 animate-pulse"})]}),a.jsx(Le,{variant:"outline",className:`text-xs ${ne.clickedCards.includes(L.title)?"text-green-700 bg-green-100 border-green-300":V===ne.suggestedNext?"text-blue-700 bg-blue-100 border-blue-300":"text-gray-700 bg-gray-100 border-gray-300"}`,children:L.category})]}),a.jsx("p",{className:"text-sm text-gray-800 leading-relaxed",children:L.description}),V===ne.suggestedNext&&!ne.clickedCards.includes(L.title)&&a.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:" Try this next!"})]})]})})},V))})]})]})]}),localStorage.getItem("bytewise-tour-completed")==="true"&&a.jsx(Q,{variant:"outline",size:"sm",onClick:()=>{localStorage.removeItem("bytewise-tour-completed"),localStorage.removeItem("tour-cards-clicked"),localStorage.removeItem("tour-progress"),Sr({clickedCards:[],suggestedNext:0}),window.location.reload()},className:"text-gray-600 hover:text-gray-900 border-amber-300 hover:bg-amber-100",children:"Reset Tour Progress"})]}),a.jsxs("div",{className:"border-t border-amber-300/30 pt-4",children:[a.jsx("h5",{className:"font-medium text-gray-900 mb-3 text-sm",children:"Quick Feature Access"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs(Q,{variant:"ghost",size:"sm",className:"justify-start h-8 text-gray-700 hover:text-gray-900 hover:bg-amber-200/30",onClick:()=>it("nutrition"),children:[a.jsx(Ti,{className:"w-3 h-3 mr-2"}),"Food Search"]}),a.jsxs(Q,{variant:"ghost",size:"sm",className:"justify-start h-8 text-gray-700 hover:text-gray-900 hover:bg-amber-200/30",onClick:()=>it("fasting"),children:[a.jsx(_n,{className:"w-3 h-3 mr-2"}),"Fasting Timer"]}),a.jsxs(Q,{variant:"ghost",size:"sm",className:"justify-start h-8 text-gray-700 hover:text-gray-900 hover:bg-amber-200/30",onClick:()=>it("daily"),children:[a.jsx(N_,{className:"w-3 h-3 mr-2"}),"Meal Journal"]}),a.jsxs(Q,{variant:"ghost",size:"sm",className:"justify-start h-8 text-gray-700 hover:text-gray-900 hover:bg-amber-200/30",onClick:()=>u("achievements"),children:[a.jsx(tn,{className:"w-3 h-3 mr-2"}),"Achievements"]})]})]})]})})]})}),a.jsx(Ml,{value:"achievements",className:"border-none",children:a.jsxs(ie,{"data-testid":"achievements-section",className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 overflow-hidden rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 hover:from-amber-100 hover:to-amber-200 hover:border-amber-300/50",children:[a.jsx(Ll,{className:"px-6 py-6 hover:bg-amber-200/30 hover:no-underline [&[data-state=open]>div]:text-[#faed39] [&[data-state=open]]:bg-amber-200/30",children:a.jsx("div",{className:"flex items-center justify-between w-full",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(tn,{className:"w-6 h-6 text-[#faed39]"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold transition-colors",style:{fontFamily:"'League Spartan', sans-serif"},children:"Awards"}),a.jsx("p",{className:"text-sm text-gray-700",style:{fontFamily:"'Work Sans', sans-serif"},children:"View your progress and goals"})]})]})})}),a.jsx(Fl,{className:"px-6 pb-6 pt-0",children:a.jsx(M5,{})})]})}),a.jsx(Ml,{value:"data",className:"border-none",children:a.jsxs(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 overflow-hidden rounded-2xl shadow-2xl hover:shadow-3xl transition-all duration-300 hover:from-amber-100 hover:to-amber-200 hover:border-amber-300/50",children:[a.jsx(Ll,{className:"px-6 py-6 hover:bg-amber-200/30 hover:no-underline [&[data-state=open]>div]:text-[#faed39] [&[data-state=open]]:bg-amber-200/30",children:a.jsx("div",{className:"flex items-center justify-between w-full",children:a.jsxs("div",{className:"flex items-center space-x-3 text-left",children:[a.jsx(uf,{className:"w-6 h-6 text-[#faed39]"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold transition-colors",style:{fontFamily:"'League Spartan', sans-serif"},children:"Data"}),a.jsx("p",{className:"text-sm text-gray-700",style:{fontFamily:"'Work Sans', sans-serif"},children:"Manage your nutrition data"})]})]})})}),a.jsx(Fl,{className:"px-6 pb-6 pt-0",children:a.jsx(l0,{})})]})})]}):a.jsx(ie,{className:"bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 p-8",children:a.jsx(A5,{})})})]})},Zt=()=>{switch(s){case"home":return Je();case"nutrition":return Tt();case"daily":return tt();case"fasting":return a.jsxs("div",{className:"space-y-0",children:[a.jsx(Er,{title:"Intermittent",subtitle:"Fasting",description:"Track your fasting journey with professional IF schedules and real-time progress monitoring",buttonText:"Start Fasting",onButtonClick:()=>{const S=document.querySelector(".fasting-tracker");S&&S.scrollIntoView({behavior:"smooth"})}}),a.jsx("div",{className:"px-6 py-3 content-section",children:a.jsx("div",{"data-testid":"fasting-tracker",className:"fasting-tracker bg-amber-50/90 backdrop-blur-md rounded-3xl border border-amber-200 p-6",children:a.jsx(c3,{})})})]});case"profile":return Na();case"calculator":return Tt();case"tracking":return ft();case"signin":return Sa();case"achievements":return Et();case"search":return tt();case"data":return a.jsxs("div",{className:"space-y-0",children:[a.jsx(Er,{title:"Data",subtitle:"Management",description:"Export, sync, and manage your nutrition tracking data",buttonText:"Manage Data",onButtonClick:()=>{const S=document.querySelector(".bg-gray-900\\/80");S&&S.scrollIntoView({behavior:"smooth"})}}),a.jsx("div",{className:"px-6 py-3 content-section",children:a.jsx("div",{className:"bg-amber-50/90 backdrop-blur-md rounded-3xl border border-amber-200 shadow-lg",children:a.jsx(l0,{})})})]});default:return Je()}};return a.jsxs("div",{"data-testid":"app-container",className:"h-screen w-screen",children:[a.jsx("div",{className:"fixed top-safe right-4 z-[9999] safe-notification-position",children:a.jsxs("div",{className:"relative",children:[a.jsxs(Q,{variant:"ghost",size:"lg",className:"group relative text-gray-600 p-3 transition-all duration-500 hover:scale-110 active:text-gray-100 focus:text-gray-100 active:bg-gray-700/30 focus:bg-gray-700/30",onClick:()=>fe(!q),"aria-label":`Notifications${De.filter(S=>!S.read).length>0?` - ${De.filter(S=>!S.read).length} unread`:""}`,"aria-expanded":q,"aria-haspopup":"dialog","data-testid":"button-notifications",children:[a.jsx("div",{className:"relative",children:De.filter(S=>!S.read).length>0?a.jsx(k_,{className:"w-12 h-12 text-gray-600 transition-all duration-700 ease-in-out group-hover:rotate-12 group-hover:text-orange-600 animate-[colorShift_0.7s_ease-in-out]",strokeWidth:2.5,"aria-hidden":"true"}):a.jsx(j_,{className:"w-12 h-12 text-gray-600 transition-all duration-700 ease-in-out group-hover:rotate-6 group-hover:text-orange-600 animate-[colorShift_0.7s_ease-in-out]",strokeWidth:2.5,"aria-hidden":"true"})}),De.filter(S=>!S.read).length>0&&a.jsx("div",{className:"absolute -top-1 -right-1 min-w-6 h-6 bg-gradient-to-r from-red-500 to-pink-500 rounded-full flex items-center justify-center shadow-lg animate-pulse","aria-hidden":"true",children:a.jsx("span",{className:"text-xs text-gray-900 font-bold px-1",children:De.filter(S=>!S.read).length>9?"9+":De.filter(S=>!S.read).length})})]}),q&&a.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border border-amber-200/60 rounded-2xl shadow-2xl overflow-hidden z-[9999]",children:[a.jsx("div",{className:"p-4 border-b border-amber-200/40",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),a.jsx(Q,{variant:"ghost",size:"sm",className:"text-gray-700 hover:text-gray-900 bg-amber-200/50 hover:bg-amber-300/50",onClick:ol,children:"Mark all read"})]})}),a.jsx("div",{className:"max-h-80 overflow-y-auto",children:De.map(S=>a.jsx("div",{className:`p-4 border-b border-amber-200/30 ${S.read?"":"bg-amber-200/30"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-gray-900 font-medium text-sm",children:S.title}),a.jsx("p",{className:"text-gray-700 text-xs mt-1",children:S.message}),a.jsx("p",{className:"text-gray-600 text-xs mt-2",children:S.timestamp.toLocaleDateString()})]}),a.jsx(Q,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900 p-1",onClick:()=>Lu(S.id),children:a.jsx(ln,{className:"w-4 h-4"})})]})},S.id))})]})]})}),Zt(),a.jsx("div",{"data-testid":"navigation-tabs",className:"fixed bottom-0 left-0 right-0 bg-yellow-400 border-t border-yellow-500/60 safe-area-pb z-40 shadow-lg",children:a.jsx("div",{className:"flex items-center justify-around py-0.5 px-1 max-w-md mx-auto gap-0.5",children:[{id:"home",label:"Dashboard",icon:Ob,testId:"nav-dashboard"},{id:"nutrition",label:"Calorie Tracker",icon:Db,testId:"nav-calculator"},{id:"fasting",label:"Fasting",icon:Mb,testId:"nav-fasting"},{id:"daily",label:"Meal Journal",icon:Ib,testId:"nav-journal"},{id:"profile",label:"Profile",icon:Lb,testId:"nav-profile"}].map(S=>{const L=S.icon,V=()=>{const Z=document.querySelector(`[data-testid="${S.testId}"]`),J=Z==null?void 0:Z.querySelector("svg"),re=Z==null?void 0:Z.querySelector("span");J&&(J.classList.remove("nav-icon-clicked"),J.offsetHeight,J.classList.add("nav-icon-clicked"),setTimeout(()=>J.classList.remove("nav-icon-clicked"),600)),re&&(re.classList.remove("nav-text-clicked"),re.offsetHeight,re.classList.add("nav-text-clicked"),setTimeout(()=>re.classList.remove("nav-text-clicked"),400)),S.id!==s&&it(S.id)};return a.jsxs("button",{"data-testid":S.testId,onClick:V,className:`group relative overflow-hidden transition-colors duration-150 ${s===S.id?"text-white":"text-black hover:text-white active:text-white"}`,children:[a.jsx(L,{size:24,weight:s===S.id?"fill":"regular",className:`mb-1.5 transition-all duration-300 ease-out transform ${s===S.id?"scale-110 drop-shadow-lg text-white nav-icon-active":"scale-100 hover:scale-110 hover:text-white hover:rotate-3"}`,style:{strokeWidth:s===S.id?2.5:2}}),a.jsx("span",{className:`text-[8px] font-semibold leading-tight text-center w-full transition-colors duration-150 ease-out ${s===S.id?"text-white drop-shadow-sm font-bold":"text-black hover:text-white active:text-white"}`,children:S.label})]},S.id)})})}),j&&A&&a.jsx(O5,{achievement:A,isOpen:j,onClose:()=>_(!1)}),I&&G&&a.jsx(L5,{achievement:G,isOpen:I,onClose:()=>M(!1)}),a.jsx(F5,{isOpen:al,onComplete:On}),e&&!al&&(()=>{const S=e,L=(S==null?void 0:S.firstName)&&S.firstName.trim()!=="",V=(S==null?void 0:S.lastName)&&S.lastName.trim()!=="";return L&&V?a.jsxs("div",{className:"fixed bottom-20 right-6 z-45",children:[a.jsx(m3,{onNavigateToFeature:J=>i(J),isVisible:at(),onCardInteraction:()=>{setTimeout(()=>window.location.reload(),500)}}),typeof window<"u"&&(window.dispatchEvent(new CustomEvent("tour-visibility",{detail:{visible:at()}})),null)]}):null})(),a.jsx(Fb,{})]})}function J3(){const[,t]=Sm(),[e,r]=m.useState("verifying"),[n,s]=m.useState(""),{supabase:i}=_t();return m.useEffect(()=>{(async()=>{try{const l=new URLSearchParams(window.location.hash.substring(1)),c=l.get("access_token"),u=l.get("type");if(u==="signup"||u==="email_change")if(c){const{error:h}=await i.auth.setSession({access_token:c,refresh_token:l.get("refresh_token")||""});h?(r("error"),s("Failed to verify email. The link may have expired.")):(r("success"),s("Email verified successfully! You can now sign in to your account."),localStorage.setItem("fresh-auth-session","true"),console.log(" Email verification completed, marking for tour trigger"),setTimeout(()=>{t("/")},3e3))}else r("error"),s("Invalid verification link.");else{const{data:{user:h}}=await i.auth.getUser();h&&h.email_confirmed_at?(r("success"),s("Your email is already verified. You can sign in to your account.")):(r("error"),s("No verification token found. Please check your email for the verification link."))}}catch{r("error"),s("An error occurred during verification. Please try again.")}})()},[i,t]),a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsx(ie,{className:"max-w-md w-full bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40 p-8",children:a.jsxs("div",{className:"text-center space-y-6",children:[e==="verifying"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 bg-blue-500/20 rounded-full inline-block",children:a.jsx(hw,{className:"w-12 h-12 text-blue-400 animate-spin"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verifying Your Email"}),a.jsx("p",{className:"text-gray-700",children:"Please wait while we verify your email address..."})]}),e==="success"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 bg-green-500/20 rounded-full inline-block",children:a.jsx(ws,{className:"w-12 h-12 text-green-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Email Verified!"}),a.jsx("p",{className:"text-gray-700",children:n}),a.jsx(Q,{onClick:()=>t("/"),className:"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white",children:"Go to Home"})]}),e==="error"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 bg-red-500/20 rounded-full inline-block",children:a.jsx(T_,{className:"w-12 h-12 text-red-400"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verification Failed"}),a.jsx("p",{className:"text-gray-700",children:n}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Q,{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white",children:"Go to Home"}),a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx($s,{className:"w-4 h-4 inline mr-1"}),"Need a new verification email? Sign in and request a new one from your profile."]})]})]})]})})})}function X3(){const[,t]=Sm(),[e,r]=m.useState(""),[n,s]=m.useState(""),[i,o]=m.useState(!1),[l,c]=m.useState(!1),[u,h]=m.useState(""),{toast:d}=Yt(),{supabase:f}=_t();m.useEffect(()=>{(async()=>{const{data:{session:v}}=await f.auth.getSession();v||h("Invalid or expired reset link. Please request a new password reset.")})()},[f]);const p=async w=>{if(w.preventDefault(),e.length<6){d({title:"Password Too Short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}if(e!==n){d({title:"Passwords Don't Match",description:"Please make sure both passwords are the same.",variant:"destructive"});return}o(!0),h("");try{const{error:v}=await f.auth.updateUser({password:e});if(v)throw v;c(!0),d({title:"Password Reset Successful",description:"Your password has been updated. You can now sign in with your new password."}),setTimeout(()=>{t("/")},3e3)}catch(v){h(v.message||"Failed to reset password. Please try again."),d({title:"Password Reset Failed",description:v.message||"Unable to reset your password. Please try again.",variant:"destructive"})}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:a.jsxs(ie,{className:"w-full max-w-md bg-gradient-to-br from-amber-50 to-amber-100 backdrop-blur-md border-amber-200/40",children:[a.jsxs(yr,{className:"text-center",children:[a.jsx("div",{className:"mx-auto p-3 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full w-fit mb-4",children:a.jsx(Sn,{className:"w-8 h-8 text-gray-900"})}),a.jsx(vr,{className:"text-2xl font-bold text-gray-900",children:"Reset Your Password"}),a.jsx(ii,{className:"text-gray-700",children:"Enter your new password below"})]}),a.jsxs(gt,{children:[u&&!l&&a.jsxs(Iu,{className:"mb-4 bg-red-50 border-red-200",children:[a.jsx(an,{className:"h-4 w-4 text-red-500"}),a.jsx(Du,{className:"text-red-700",children:u})]}),l?a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto p-3 bg-green-500/20 rounded-full w-fit",children:a.jsx(ws,{className:"w-12 h-12 text-green-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Password Reset Successful!"}),a.jsx("p",{className:"text-gray-700",children:"Your password has been updated. Redirecting you to sign in..."})]}):a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Ai,{htmlFor:"new-password",className:"text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(Sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-700"}),a.jsx(Ue,{id:"new-password",type:"password",value:e,onChange:w=>r(w.target.value),placeholder:"Enter new password (min 6 characters)",className:"pl-10 bg-amber-50/90 border-amber-400 text-gray-900 placeholder-gray-600 focus:border-amber-500 focus:ring-amber-500",required:!0,minLength:6})]})]}),a.jsxs("div",{children:[a.jsx(Ai,{htmlFor:"confirm-password",className:"text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"relative mt-2",children:[a.jsx(Sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-700"}),a.jsx(Ue,{id:"confirm-password",type:"password",value:n,onChange:w=>s(w.target.value),placeholder:"Re-enter new password",className:"pl-10 bg-amber-50/90 border-amber-400 text-gray-900 placeholder-gray-600 focus:border-amber-500 focus:ring-amber-500",required:!0,minLength:6})]})]}),a.jsx(Q,{type:"submit",disabled:i||!e||!n,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-gray-900 shadow-lg hover:shadow-xl transition-all duration-300 py-3 text-sm font-semibold",children:i?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Resetting Password..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Sn,{className:"w-5 h-5 mr-2"}),"Reset Password"]})}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>t("/"),className:"text-sm text-gray-700 hover:text-gray-900 transition-colors",children:"Back to Sign In"})})]})]})]})})}function Z3(){const{user:t}=_t(),{toast:e}=Yt(),r=m.useRef(!1),{data:n,isLoading:s}=Cn({queryKey:["/api/user/restore-data"],enabled:!!t&&!r.current,retry:1,staleTime:1/0});return m.useEffect(()=>{if(n!=null&&n.success&&n.data&&!r.current){r.current=!0;const{data:i}=n;let o=0;i.meals&&i.meals.length>0&&(o+=i.meals.length),i.recipes&&i.recipes.length>0&&(o+=i.recipes.length),i.waterIntake&&i.waterIntake.length>0&&(o+=i.waterIntake.length),(i.calorieGoal||i.proteinGoal||i.carbGoal||i.fatGoal||i.waterGoal)&&o++,i.achievements&&i.achievements.length>0&&(o+=i.achievements.length),i.userProfile&&o++,o>0&&e({title:"Data restored",description:`Successfully restored ${o} items from your account`,duration:3e3}),window.dispatchEvent(new CustomEvent("data-restored",{detail:{itemsRestored:o,timestamp:new Date().toISOString()}}))}},[n,e]),m.useEffect(()=>{t||(r.current=!1)},[t]),{isRestoring:s,hasRestored:r.current}}function eT(){const{user:t}=_t(),{toast:e}=Yt(),[r,n]=m.useState({isVerified:!1,lastBackup:null,dataHealth:"healthy",issues:[]}),s=m.useCallback(async()=>{if(t)try{const l=[];try{await je("GET","/api/auth/user")||l.push("User profile not found in database")}catch{l.push("Cannot access user profile")}try{const u=await je("GET","/api/meals/logged");(!u||!Array.isArray(u))&&l.push("Cannot access meal data from database")}catch{l.push("Cannot verify meal data persistence")}let c="healthy";l.length>0&&(c=l.length===1?"at-risk":"degraded"),n({isVerified:!0,lastBackup:localStorage.getItem("lastDataBackup"),dataHealth:c,issues:l}),l.length>0&&e({title:"Data Backup Recommended",description:`${l.length} data sync issue(s) detected. Your data is being protected.`,variant:"default"})}catch{n(c=>({...c,dataHealth:"degraded",issues:["Data verification failed"]}))}},[t,e]),i=m.useCallback(async()=>{if(t)try{let l=0;const c={dailyCalorieGoal:localStorage.getItem("dailyCalorieGoal"),dailyProteinGoal:localStorage.getItem("dailyProteinGoal"),dailyCarbGoal:localStorage.getItem("dailyCarbGoal"),dailyFatGoal:localStorage.getItem("dailyFatGoal"),dailyWaterGoal:localStorage.getItem("dailyWaterGoal")};if(Object.values(c).some(u=>u!==null))try{await je("POST","/api/user/goals",c),l++}catch{}return localStorage.setItem("lastDataBackup",new Date().toISOString()),localStorage.setItem("itemsBackedUp",l.toString()),e({title:"Data Backup Complete",description:`Successfully backed up ${l} items to secure database`,variant:"default"}),l}catch(l){throw l}},[t,e]),o=m.useCallback(async()=>{if(t)try{if(JSON.parse(localStorage.getItem("weeklyMeals")||"[]").length===0)try{const c=await je("GET","/api/meals/logged");if(c&&Array.isArray(c)&&c.length>0){const u=c.map(h=>({id:h.id||`restored-${Date.now()}-${Math.random()}`,name:h.name,calories:h.totalCalories||0,protein:h.totalProtein||0,carbs:h.totalCarbs||0,fat:h.totalFat||0,date:h.date?new Date(h.date).toLocaleDateString():new Date().toLocaleDateString(),time:h.date?new Date(h.date).toLocaleTimeString():new Date().toLocaleTimeString(),mealType:h.mealType||"snack",timestamp:h.date||new Date().toISOString(),source:"database"}));localStorage.setItem("weeklyMeals",JSON.stringify(u)),e({title:"Data Restored",description:`Restored ${u.length} meals from your secure backup`,variant:"default"}),window.dispatchEvent(new CustomEvent("data-restored"))}}catch{}}catch{}},[t,e]);return m.useEffect(()=>{t&&o().then(()=>{s();const l=setInterval(()=>{i().catch(console.error)},5*60*1e3);return()=>clearInterval(l)})},[t,o,s,i]),{status:r,verifyDataIntegrity:s,backupCriticalData:i,restoreDataFromDatabase:o}}function tT(){const{user:t}=_t(),{verifyDataIntegrity:e,backupCriticalData:r}=eT();return m.useEffect(()=>{if(t){const n=()=>{setTimeout(()=>{r().catch(console.error)},1e3)};window.addEventListener("data-changed",n),window.addEventListener("storage",n);const s=setInterval(()=>{e()},12*60*1e3);return()=>{window.removeEventListener("data-changed",n),window.removeEventListener("storage",n),clearInterval(s)}}},[t,r,e]),null}function rT(){const[t,e]=m.useState(!1),[r,n]=m.useState(null);m.useEffect(()=>{if(!("serviceWorker"in navigator))return;(()=>{navigator.serviceWorker.ready.then(c=>{n(c),c.update(),c.waiting&&e(!0),c.addEventListener("updatefound",()=>{const u=c.installing;u&&u.addEventListener("statechange",()=>{u.state==="installed"&&navigator.serviceWorker.controller&&e(!0)})})})})();const l=setInterval(()=>{r&&r.update()},30*60*1e3);return()=>clearInterval(l)},[r]);const s=()=>{r&&r.waiting?(r.waiting.postMessage({type:"SKIP_WAITING"}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()})):window.location.reload()},i=()=>{e(!1),localStorage.setItem("pwa-update-dismissed",new Date().toISOString())};return m.useEffect(()=>{const o=localStorage.getItem("pwa-update-dismissed");if(o){const l=new Date(o).getTime();(new Date().getTime()-l)/(1e3*60*60)<24&&e(!1)}},[]),t?a.jsx("div",{className:"fixed bottom-20 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 animate-slide-up",children:a.jsx(ie,{className:"p-4 bg-gradient-to-br from-amber-50 to-amber-100 shadow-lg border-2 border-brand-yellow",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 pr-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Im,{className:"h-5 w-5 text-brand-yellow animate-spin-slow"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Update Available!"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"A new version of ByteWise is ready. Update now to get the latest features and improvements, including the new app icon."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Q,{onClick:s,className:"bg-amber-400 hover:bg-amber-300 text-gray-900 font-medium",size:"sm",children:"Update Now"}),a.jsx(Q,{onClick:i,variant:"outline",size:"sm",children:"Later"})]})]}),a.jsx("button",{onClick:i,className:"text-gray-500 hover:text-amber-600",children:a.jsx(ln,{className:"h-5 w-5"})})]})})}):null}function nT(){try{const t=localStorage.getItem("weeklyMeals");if(!t)return!1;const e=JSON.parse(t),r=[],n={};e.forEach(i=>{var f;const o=i.date?i.date.split("T")[0]:new Date().toISOString().split("T")[0],l=new Date(o),c=new Date(l);c.setDate(l.getDate()-l.getDay());const u=c.toISOString().split("T")[0];n[u]||(n[u]={week:u,days:[]});let h=n[u].days.find(p=>p.date===o);h||(h={date:o,meals:[],totalCalories:0,totalProtein:0,totalCarbs:0,totalFat:0,target:{calories:2e3,protein:120,carbs:250,fat:67}},n[u].days.push(h));const d={id:((f=i.id)==null?void 0:f.toString())||`migrated-${Date.now()}-${Math.random()}`,name:i.name||"Unknown Meal",calories:parseFloat(i.totalCalories||i.calories||"0"),protein:parseFloat(i.totalProtein||i.protein||"0"),carbs:parseFloat(i.totalCarbs||i.carbs||"0"),fat:parseFloat(i.totalFat||i.fat||"0"),category:i.mealType||"snack",timestamp:i.createdAt||i.timestamp||new Date().toISOString(),source:"migrated"};h.meals.push(d),h.totalCalories+=d.calories,h.totalProtein+=d.protein,h.totalCarbs+=d.carbs,h.totalFat+=d.fat}),Object.values(n).forEach(i=>r.push(i)),localStorage.setItem("weeklyTrackerData",JSON.stringify(r));const s=e.map(i=>{var o;return{id:((o=i.id)==null?void 0:o.toString())||`calc-${Date.now()}-${Math.random()}`,name:i.name||"Unknown Meal",calories:parseFloat(i.totalCalories||i.calories||"0"),protein:parseFloat(i.totalProtein||i.protein||"0"),carbs:parseFloat(i.totalCarbs||i.carbs||"0"),fat:parseFloat(i.totalFat||i.fat||"0"),date:i.date?i.date.split("T")[0]:new Date().toISOString().split("T")[0],time:i.createdAt?new Date(i.createdAt).toLocaleTimeString():new Date().toLocaleTimeString(),source:"migrated"}});return localStorage.setItem("calculatedCalories",JSON.stringify(s)),!0}catch{return!1}}function Kb(){const t=localStorage.getItem("weeklyMeals"),e=localStorage.getItem("weeklyTrackerData"),r=localStorage.getItem("calculatedCalories");return t&&(!e||!r)?nT():!1}typeof window<"u"&&setTimeout(()=>{Kb()},1e3);function sT(){const[t,e]=m.useState("redesigned"),[r,n]=m.useState(!1),[s,i]=m.useState(0);Z3(),hb(),m.useEffect(()=>{const c=new URLSearchParams(window.location.search),u=c.get("verified"),h=c.get("error"),d=c.get("message");u==="true"?(Qr({title:"Email Verified!",description:d||"Your email has been verified successfully. You can now sign in.",duration:8e3}),window.history.replaceState({},"",window.location.pathname)):u==="false"&&h&&(Qr({title:"Verification Failed",description:decodeURIComponent(h),variant:"destructive",duration:8e3}),window.history.replaceState({},"",window.location.pathname)),setTimeout(()=>{Kb()&&window.dispatchEvent(new CustomEvent("data-migrated"))},500)},[]);const o=(c,u)=>{e(c),u&&c==="profile"&&setTimeout(()=>{window.dispatchEvent(new CustomEvent("navigate-to-profile-section",{detail:{section:u}}))},100)};m.useEffect(()=>{const c=()=>{n(!0)},u=w=>{i(w.detail.count)},h=w=>{},d=w=>{t==="logger"&&window.dispatchEvent(new CustomEvent("refresh-weekly-data"))},f=w=>{if(w.message&&(w.message.includes("cross-origin")||w.message.includes("Script error")||w.message.includes("CORS")))return w.preventDefault(),w.stopImmediatePropagation(),!1},p=w=>{w.reason&&typeof w.reason=="string"&&(w.reason.includes("cross-origin")||w.reason.includes("CORS"))&&w.preventDefault()};return window.addEventListener("error",f),window.addEventListener("unhandledrejection",p),window.addEventListener("show-notifications",c),window.addEventListener("update-notification-count",u),window.addEventListener("show-toast",h),window.addEventListener("calories-logged",d),()=>{window.removeEventListener("error",f),window.removeEventListener("unhandledrejection",p),window.removeEventListener("show-notifications",c),window.removeEventListener("update-notification-count",u),window.removeEventListener("show-toast",h),window.removeEventListener("calories-logged",d)}},[]);const l=()=>a.jsx(Y3,{onNavigate:o});return a.jsx(Mx,{children:a.jsxs("div",{className:"min-h-screen",children:[a.jsx("main",{className:"min-h-screen",children:a.jsxs(YN,{children:[a.jsx(jd,{path:"/verify-email",component:J3}),a.jsx(jd,{path:"/reset-password",component:X3}),a.jsx(jd,{children:l()})]})}),a.jsx(tT,{}),a.jsx(rT,{}),a.jsx(Fb,{})]})})}function aT(){return a.jsx(Wk,{client:bN,children:a.jsx(sT,{})})}const Ql=document.getElementById("root");if(!Ql)document.body.innerHTML=`
    <div style="background: linear-gradient(45deg, #ff6b6b, #4ecdc4); color: white; padding: 40px; min-height: 100vh; display: flex; align-items: center; justify-content: center; font-family: Arial; text-align: center;">
      <div>
        <h1 style="font-size: 3rem; margin-bottom: 1rem;"> ROOT ELEMENT ERROR</h1>
        <p style="font-size: 1.5rem;">Root element not found in DOM</p>
      </div>
    </div>
  `;else try{const t=zv(Ql);Ql.innerHTML=`
      <div style="background: #0a0a00; color: white; padding: 40px; min-height: 100vh; display: flex; align-items: center; justify-content: center; font-family: system-ui, -apple-system, sans-serif; text-align: center; position: relative; overflow: hidden;">
        <!-- Background pattern -->
        <div style="position: absolute; inset: 0; opacity: 0.1; background-image: radial-gradient(circle at 25% 25%, #faed39 0%, transparent 50%), radial-gradient(circle at 75% 75%, #1f4aa6 0%, transparent 50%);"></div>
        
        <div style="position: relative; z-index: 10;">
          <!-- CSS Logo -->
          <div style="margin-bottom: 3rem; text-align: center;">
            <div style="font-family: 'League Spartan', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 5rem; font-weight: 900; margin: 0; line-height: 0.85; color: #faed39; margin-bottom: 0.75rem; text-transform: lowercase; letter-spacing: -0.03em; text-shadow: 0 0 30px rgba(250, 237, 57, 0.3);">
              bytewise
            </div>
            <div style="font-family: 'League Spartan', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 1.5rem; font-weight: 300; margin: 0; color: rgba(255,255,255,0.9); letter-spacing: 0.2em; text-transform: uppercase; opacity: 0.9;">
              nutritionist
            </div>
          </div>
          
          <!-- Loading text and spinner -->
          <div style="margin-bottom: 2rem;">
            <p style="font-size: 1.25rem; color: rgba(255,255,255,0.8); margin: 0 0 2rem 0; font-weight: 300;">Loading your nutrition tracker...</p>
            <div style="width: 60px; height: 60px; border: 3px solid rgba(250, 237, 57, 0.2); border-top: 3px solid #faed39; border-radius: 50%; animation: spin 1.2s linear infinite; margin: 0 auto; box-shadow: 0 0 20px rgba(250, 237, 57, 0.3);"></div>
          </div>
        </div>
      </div>
      
      <style>
        @import url('https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;400;700;900&display=swap');
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        
        body {
          margin: 0;
          padding: 0;
          font-family: 'League Spartan', system-ui, -apple-system, sans-serif;
        }
      </style>
    `,t.render(a.jsx(aT,{}))}catch(t){Ql.innerHTML=`
      <div style="background: #ef4444; color: white; padding: 40px; min-height: 100vh; display: flex; align-items: center; justify-content: center; font-family: Arial; text-align: center;">
        <div>
          <h1>React Error</h1>
          <p>Failed to render: ${t}</p>
        </div>
      </div>
    `}export{qb as W,Ss as _,wr as c,C0 as g,Gb as r};
